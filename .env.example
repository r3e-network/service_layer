# Copy this file to `.env` and adjust values as needed.
# For docker-compose the Supabase Postgres host is `supabase-postgres`.
DATABASE_URL=postgres://supabase_admin:supabase_pass@supabase-postgres:5432/service_layer?sslmode=disable
# Optional AES-GCM key for encrypting secrets (raw/base64/hex 16, 24, or 32 bytes).
SECRET_ENCRYPTION_KEY=0123456789abcdef0123456789abcdef
# Enforce tenant scoping on all authenticated requests (recommended for non-dev).
REQUIRE_TENANT_HEADER=true
# Provide bearer tokens for HTTP authentication (comma separated for multiple tokens).
API_TOKENS=dev-token
# Optional JWT auth (dashboard /auth/login). Comma-separated user specs: username:password:role
AUTH_JWT_SECRET=change-me-jwt-secret
AUTH_USERS=admin:changeme:admin
# Optional: persist audit logs to a file (JSONL). Leave empty to keep in-memory only.
AUDIT_LOG_PATH=
# Supabase keys (self-hosted)
SUPABASE_ANON_KEY=supabase-anon-key
SUPABASE_SERVICE_ROLE_KEY=supabase-service-role-key
SUPABASE_JWT_SECRET=super-secret-jwt
SUPABASE_JWT_AUD=authenticated
SUPABASE_ADMIN_ROLES=service_role,admin
SUPABASE_TENANT_CLAIM=app_metadata.tenant
SUPABASE_ROLE_CLAIM=app_metadata.role
SUPABASE_GOTRUE_URL=http://supabase-gotrue:9999
# Optional: used by CLI/dashboard to auto-renew tokens via /auth/refresh
SUPABASE_REFRESH_TOKEN=
# Optional: status probe for /system/status (e.g., GoTrue/PostgREST health)
SUPABASE_HEALTH_URL=http://supabase-gotrue:9999/health
SUPABASE_HEALTH_GOTRUE=http://supabase-gotrue:9999/health
SUPABASE_HEALTH_POSTGREST=http://supabase-postgrest:3000
SUPABASE_HEALTH_KONG=http://supabase-kong:8000/health
SUPABASE_HEALTH_STUDIO=http://supabase-studio:3000
# Compose profile note: GoTrue/PostgREST/Kong/Studio come up when you run
# `docker compose --profile supabase up -d --build` (or `--profile all`). The
# base stack always includes Supabase Postgres for persistence.
GOTRUE_SITE_URL=http://localhost:8080
GOTRUE_ADMIN_EMAIL=admin@local.dev
GOTRUE_ADMIN_PASSWORD=admin
# External integrations
PRICEFEED_FETCH_URL=
PRICEFEED_FETCH_KEY=
ORACLE_RESOLVER_URL=
ORACLE_RESOLVER_KEY=
GASBANK_RESOLVER_URL=
GASBANK_RESOLVER_KEY=
# Cap bus payload sizes for /system/events|data|compute (bytes; default 1MiB).
BUS_MAX_BYTES=1048576
# Override the default log level (debug, info, warn, error).
LOG_LEVEL=info
# RocketMQ (optional event bus backend)
ROCKETMQ_ENABLED=false
ROCKETMQ_NAME_SERVERS=127.0.0.1:9876
ROCKETMQ_ACCESS_KEY=
ROCKETMQ_SECRET_KEY=
ROCKETMQ_TOPIC_PREFIX=sl
ROCKETMQ_CONSUMER_GROUP=sl-consumers
ROCKETMQ_NAMESPACE=
ROCKETMQ_MAX_RECONSUME_TIMES=16
ROCKETMQ_CONSUME_BATCH=1
ROCKETMQ_CONSUME_FROM=latest
# NEO configuration (optional; used by neo-indexer and status lag checks)
NEO_RPC_URL=http://neo-mainnet:10332
NEO_RPC_STATUS_URL=http://neo-mainnet:10332
NEO_NETWORK=mainnet
NEO_INDEXER_DSN=postgres://supabase_admin:supabase_pass@supabase-postgres:5432/service_layer?sslmode=disable
NEO_POLL_INTERVAL=5s
NEO_SNAPSHOT_DIR=./snapshots
NEO_STABLE_BUFFER=12
