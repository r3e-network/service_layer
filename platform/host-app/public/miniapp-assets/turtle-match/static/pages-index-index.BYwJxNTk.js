import{d as e,c as t,o as a,a as n,b as l,i as o,n as i,e as s,w as r,f as c,g as d,t as u,h,r as p,F as f,j as v,k as g,l as w,m,p as b,q as y,s as _,u as k,v as C,x as S,y as A,z as I,A as x,B as T,C as z,D as E,E as B,G as M}from"./index-BhBp3fNc.js";const P=(e,t)=>{const a=e.__vccOpts||e;for(const[n,l]of t)a[n]=l;return a},G=P(e({__name:"AppIcon",props:{name:{},size:{default:20},label:{},decorative:{type:Boolean,default:!0}},setup(e){const h=e,p={home:"ðŸ ",settings:"âš™ï¸",user:"ðŸ‘¤",wallet:"ðŸ’¼",book:"ðŸ“–",trophy:"ðŸ†",star:"â­",heart:"â¤ï¸",check:"âœ“",clock:"ðŸ•",plus:"âž•",add:"âž•",close:"âœ•",x:"âœ•",menu:"â˜°",activity:"ðŸ“¡",award:"ðŸ…",archive:"ðŸ—„ï¸",rocket:"ðŸš€",cart:"ðŸ›’",ticket:"ðŸŽŸï¸",bag:"ðŸ‘œ",trending:"ðŸ“ˆ",chart:"ðŸ“Š",calendar:"ðŸ“…",search:"ðŸ”",filter:"ðŸ”½",edit:"âœï¸",delete:"ðŸ—‘ï¸",copy:"ðŸ“‹",share:"ðŸ“¤",download:"â¬‡ï¸",upload:"â¬†ï¸",success:"âœ“",error:"âœ•",warning:"âš ï¸",info:"â„¹ï¸",loading:"â³",neo:"ðŸ’Ž",gas:"â›½",contract:"ðŸ“œ",chain:"â›“ï¸",block:"ðŸ§±",helpful:"ðŸ¤",generous:"ðŸŽ",verified:"âœ“",contributor:"â­",champion:"ðŸ†",legend:"ðŸ‘‘",game:"ðŸŽ®",stats:"ðŸ“Š",docs:"ðŸ“„",about:"â„¹ï¸",contact:"âœ‰ï¸"},f={logout:"â†ª",back:"â†",forward:"â†’",arrowUp:"â†‘",arrowDown:"â†“",arrowLeft:"â†",arrowRight:"â†’",refresh:"â†»"},v=t(()=>{if(!h.label)return h.decorative?"true":void 0}),g=t(()=>h.decorative?"presentation":void 0),w=t(()=>h.label?h.label:h.decorative?void 0:`${h.name} icon`),m=t(()=>h.size<=16?"icon-sm":h.size<=20?"icon-md":h.size<=24?"icon-lg":"icon-xl"),b=t(()=>{if(!m.value||"icon-md"===m.value)return{};const e=h.size;return{width:`${e}px`,height:`${e}px`,fontSize:.6*e+"px"}}),y=t(()=>p[h.name]),_=t(()=>f[h.name]);return a(()=>{const e=h.name in p,t=h.name in f;e||t||console.warn(`[AppIcon] Unknown icon name "${h.name}". Using fallback (first letter). Available icons: ${[...Object.keys(p),...Object.keys(f)].sort().join(", ")}`)}),(e,t)=>{const a=c,h=o;return n(),l(h,{class:s(["app-icon",`icon-${e.name}`,m.value]),style:i(b.value),"aria-hidden":v.value,"aria-label":w.value,role:g.value},{default:r(()=>[y.value?(n(),l(a,{key:0,class:"icon-emoji","aria-hidden":!0},{default:r(()=>[d(u(y.value),1)]),_:1})):_.value?(n(),l(a,{key:1,class:"icon-text","aria-hidden":!0},{default:r(()=>[d(u(_.value),1)]),_:1})):(n(),l(a,{key:2,class:"icon-fallback","aria-label":`Icon: ${e.name}`},{default:r(()=>[d(u(e.name.charAt(0).toUpperCase()),1)]),_:1},8,["aria-label"]))]),_:1},8,["class","style","aria-hidden","aria-label","role"])}}}),[["__scopeId","data-v-07cee3d4"]]),R=P(e({__name:"NavBar",props:{tabs:{},activeTab:{}},emits:["change"],setup(e,{emit:t}){const i=e,m=t,b=e=>{m("change",e)};return a(()=>{if(!i.tabs||0===i.tabs.length)return void console.warn("[NavBar] No tabs provided - navigation will be empty");i.tabs.some((e,t)=>i.tabs.findIndex(t=>t.id===e.id)!==t)&&console.error("[NavBar] Duplicate tab IDs detected - navigation may not work correctly");!i.tabs.some(e=>e.id===i.activeTab)&&i.activeTab&&console.warn(`[NavBar] Active tab "${i.activeTab}" not found in tabs array. Available tabs: ${i.tabs.map(e=>e.id).join(", ")}`)}),(e,t)=>{const a=o,i=c;return n(),l(a,{class:"navbar",role:"navigation","aria-label":"Bottom navigation"},{default:r(()=>[(n(!0),h(f,null,p(e.tabs,t=>(n(),l(a,{key:t.id,class:s(["nav-item",e.activeTab===t.id&&"active"]),role:"menuitem",tabindex:e.activeTab===t.id?0:-1,"aria-label":t.label,"aria-selected":e.activeTab===t.id,onClick:e=>b(t.id),onKeydown:[v(e=>b(t.id),["enter"]),v(g(e=>b(t.id),["prevent"]),["space"])]},{default:r(()=>[w(a,{class:"nav-icon","aria-hidden":"true"},{default:r(()=>[w(G,{name:t.icon,size:22},null,8,["name"])]),_:2},1024),w(i,{class:"nav-label"},{default:r(()=>[d(u(t.label),1)]),_:2},1024)]),_:2},1032,["class","tabindex","aria-label","aria-selected","onClick","onKeydown"]))),128))]),_:1})}}}),[["__scopeId","data-v-80051b5c"]]),D=P(e({__name:"TopNavBar",props:{title:{},showBack:{type:Boolean}},emits:["back"],setup:e=>(e,t)=>{const a=o,i=c;return n(),l(a,{class:"top-navbar",role:"navigation","aria-label":e.title},{default:r(()=>[w(a,{class:"nav-left"},{default:r(()=>[e.showBack?(n(),l(a,{key:0,class:"nav-btn",role:"button",tabindex:"0","aria-label":"Go back",onClick:t[0]||(t[0]=t=>e.$emit("back")),onKeydown:[t[1]||(t[1]=v(t=>e.$emit("back"),["enter"])),t[2]||(t[2]=v(g(t=>e.$emit("back"),["prevent"]),["space"]))]},{default:r(()=>[w(G,{name:"arrow-left",size:20})]),_:1})):m("",!0)]),_:1}),w(a,{class:"nav-center"},{default:r(()=>[w(i,{class:"nav-title"},{default:r(()=>[d(u(e.title),1)]),_:1})]),_:1}),w(a,{class:"nav-right"},{default:r(()=>[b(e.$slots,"right",{},void 0,!0)]),_:3})]),_:3},8,["aria-label"])}}),[["__scopeId","data-v-eddb2273"]]),N=P(e({__name:"AppLayout",props:{title:{default:""},showTopNav:{type:Boolean,default:!1},showBack:{type:Boolean,default:!1},tabs:{default:()=>[]},activeTab:{default:""},allowScroll:{type:Boolean,default:!0},theme:{default:""}},emits:["back","tab-change"],setup(e,{emit:i}){const c=y(!1),d=e,u=i,h=t(()=>d.activeTab||""),p=()=>{u("back");const e=_();e&&e.length>1&&k({delta:1})};return a(()=>{if(c.value="undefined"!=typeof window&&"1"===new URLSearchParams(window.location.search).get("embedded"),d.tabs&&d.tabs.length>0&&d.activeTab){d.tabs.some(e=>e.id===d.activeTab)||console.warn(`[AppLayout] Active tab "${d.activeTab}" not found in tabs array. Available tabs: ${d.tabs.map(e=>e.id).join(", ")}`)}c.value&&console.log("[AppLayout] Running in embedded mode")}),(e,t)=>{const a=o;return n(),l(a,{class:s(["mobile-container",c.value&&"embedded"])},{default:r(()=>[w(a,{class:"aspect-wrapper"},{default:r(()=>[w(a,{class:"app-layout",role:"application","aria-label":"Application layout"},{default:r(()=>[e.showTopNav?(n(),l(D,{key:0,title:e.title??"","show-back":e.showBack,onBack:p},null,8,["title","show-back"])):m("",!0),w(a,{class:s(["app-content",!e.allowScroll&&"no-scroll"]),tabindex:e.allowScroll?-1:0},{default:r(()=>[b(e.$slots,"default",{},void 0,!0)]),_:3},8,["class","tabindex"]),e.tabs&&e.tabs.length>0?(n(),l(R,{key:1,tabs:e.tabs,"active-tab":h.value,onChange:t[0]||(t[0]=t=>e.$emit("tab-change",t))},null,8,["tabs","active-tab"])):m("",!0)]),_:3})]),_:3})]),_:3},8,["class"])}}}),[["__scopeId","data-v-2af4ca89"]]),F=5e3,O=1e4,L=100,$=["https://neomini.app","https://miniapp.neo.org","https://testnet.miniapp.neo.org"];const K=new class{constructor(){this.dynamicOrigins=new Set,this.baseOrigins=new Set([...$])}getSelfOrigin(){if("undefined"==typeof window)return null;try{const e=new URL(window.location.href);if("null"===e.origin)return null;if("http:"===e.protocol||"https:"===e.protocol)return e.origin}catch{}return null}getReferrerOrigin(){if("undefined"==typeof document||!document.referrer)return null;try{return new URL(document.referrer).origin}catch{return null}}getAllowedOrigins(){const e=new Set(this.baseOrigins);this.dynamicOrigins.forEach(t=>e.add(t));const t=this.getReferrerOrigin();t&&this.baseOrigins.has(t)&&e.add(t);const a=this.getSelfOrigin();if(a&&e.add(a),"undefined"!=typeof window){const t=window.location.hostname;"localhost"!==t&&"127.0.0.1"!==t||e.add(window.location.origin)}return e}isValid(e){return!(!e||"null"===e)&&this.getAllowedOrigins().has(e)}getTargetOrigin(){var e;const t=this.getReferrerOrigin();if(t&&this.baseOrigins.has(t))return t;try{if("undefined"!=typeof window&&window.parent!==window&&(null==(e=window.location.ancestorOrigins)?void 0:e.length)>0){const e=window.location.ancestorOrigins[0];if(this.baseOrigins.has(e))return e}}catch{}const a=this.getSelfOrigin();if(a)return a;if("undefined"!=typeof window){const e=window.location.hostname;if("localhost"===e||"127.0.0.1"===e)return window.location.origin}throw new Error("Cannot determine safe target origin - no valid origin found")}getSafeTargetOrigin(){try{const e=this.getTargetOrigin();if(e&&"null"!==e)return e}catch{}if("undefined"!=typeof window&&window.parent!==window){const e=window.__MINIAPP_PARENT_ORIGIN__;if("string"==typeof e&&e&&this.baseOrigins.has(e))return e;throw new Error("Cannot communicate securely with parent - origin unknown. Ensure host app sets __MINIAPP_PARENT_ORIGIN__ or uses a supported browser.")}throw new Error("Cannot determine safe target origin - origin is null or undefined")}addDynamicOrigin(e){e&&"null"!==e&&this.dynamicOrigins.add(e)}};let W=null;function U(e){const t=null==e?void 0:e.layout;if("web"===t||"mobile"===t)return t;if("undefined"!=typeof window){const e=new URLSearchParams(window.location.search).get("layout");if("web"===e||"mobile"===e)return e;if(window.ReactNativeWebView)return"mobile"}return"web"}function j(e){if(!e||"object"!=typeof e)return!1;const t="function"==typeof e.invoke&&"function"==typeof e.getConfig,a="object"==typeof e.wallet||"object"==typeof e.payments;return t||a}function H(e=F){return new Promise((t,a)=>{if("undefined"==typeof window)return void a(new Error("SDK not available in SSR"));if(window.MiniAppSDK)return j(window.MiniAppSDK)?void t(window.MiniAppSDK):void a(new Error("SDK validation failed"));const n=setTimeout(()=>{if(window.removeEventListener("miniapp-sdk-ready",l),window.parent!==window){const e=function(){const e=K.getSafeTargetOrigin();let t=0;const a=(a,...n)=>new Promise((l,o)=>{const i="undefined"!=typeof crypto&&crypto.getRandomValues?Array.from(crypto.getRandomValues(new Uint8Array(4)),e=>e.toString(16).padStart(2,"0")).join(""):Math.random().toString(36).slice(2,10),s=`sdk-${++t}-${Date.now()}-${i}`,r=setTimeout(()=>{window.removeEventListener("message",c),o(new Error("SDK invoke timeout"))},O),c=e=>{var t,a;K.isValid(e.origin)&&e.source===window.parent&&"miniapp_sdk_response"===(null==(t=e.data)?void 0:t.type)&&(null==(a=e.data)?void 0:a.id)===s&&(clearTimeout(r),window.removeEventListener("message",c),e.data.ok?l(e.data.result):o(new Error(e.data.error||"SDK call failed")))};window.addEventListener("message",c),window.parent.postMessage({type:"miniapp_sdk_request",id:s,method:a,params:n},e)});return{invoke:a,getConfig:()=>W?{...W,layout:U(W)}:"undefined"!=typeof window&&window.__MINIAPP_CONFIG__?(W=window.__MINIAPP_CONFIG__,{...W,layout:U(W??void 0)}):{appId:"",contractAddress:null,chainId:null,chainType:void 0,supportedChains:[],layout:U(),debug:!1},getAddress:()=>a("getAddress"),wallet:{getAddress:()=>a("wallet.getAddress"),switchChain:e=>a("wallet.switchChain",e),invokeIntent:e=>a("wallet.invokeIntent",e),signMessage:e=>a("wallet.signMessage",e)},payments:{payGAS:(e,t,n)=>a("payments.payGAS",e,t,n),payGASAndInvoke:(e,t,n)=>a("payments.payGASAndInvoke",e,t,n)},governance:{vote:(e,t,n,l)=>a("governance.vote",e,t,n,l),voteAndInvoke:(e,t,n,l)=>a("governance.voteAndInvoke",e,t,n,l),getCandidates:()=>a("governance.getCandidates")},rng:{requestRandom:e=>a("rng.requestRandom",e)},datafeed:{getPrice:e=>a("datafeed.getPrice",e),getPrices:()=>a("datafeed.getPrices"),getNetworkStats:()=>a("datafeed.getNetworkStats"),getRecentTransactions:e=>a("datafeed.getRecentTransactions",e)},stats:{getMyUsage:(e,t)=>a("stats.getMyUsage",e,t)},events:{list:e=>a("events.list",e),emit:(e,t)=>a("events.emit",e,t)},transactions:{list:e=>a("transactions.list",e)},automation:{register:(e,t,n,l)=>a("automation.register",e,t,n,l),unregister:e=>a("automation.unregister",e),status:e=>a("automation.status",e),list:()=>a("automation.list"),update:(e,t,n)=>a("automation.update",e,t,n),enable:e=>a("automation.enable",e),disable:e=>a("automation.disable",e),logs:(e,t)=>a("automation.logs",e,t)},share:{openModal:e=>a("share.openModal",e),getUrl:e=>a("share.getUrl",e),copy:e=>a("share.copy",e)}}}();window.MiniAppSDK=e,e.invoke("getConfig").then(e=>{e&&"object"==typeof e&&(W=e)}).catch(()=>{}),t(e)}else a(new Error("SDK timeout"))},e),l=()=>{if(clearTimeout(n),window.removeEventListener("miniapp-sdk-ready",l),window.MiniAppSDK){if(!j(window.MiniAppSDK))return void a(new Error("SDK validation failed"));t(window.MiniAppSDK)}else a(new Error("SDK not found"))};window.addEventListener("miniapp-sdk-ready",l)})}function q(){return"undefined"==typeof window?null:window.MiniAppSDK??null}const V=new Set;let Q={connected:!1,address:null,balance:null},J=null,X=!1;function Y(e){const t=y(!1),a=y(null);return{isLoading:t,error:a,execute:async(...n)=>{t.value=!0,a.value=null;try{return await e(...n)}catch(l){throw a.value=l,l}finally{t.value=!1}}}}"undefined"!=typeof window&&("undefined"!=typeof window&&(X&&J||(J=e=>{if(e.source!==window.parent)return;if(!K.isValid(e.origin))return;const t=e.data;t&&"object"==typeof t&&("miniapp_config"!==t.type?"miniapp_wallet_state_change"===t.type&&(Q={connected:Boolean(t.connected),address:t.address||null,chainId:t.chainId??null,chainType:t.chainType??null,balance:t.balance||t.multiChainBalance||null,balances:t.balances||void 0},V.forEach(e=>{try{e(Q)}catch(t){console.error("[MiniApp SDK] Wallet state listener error:",t)}})):t.config&&"object"==typeof t.config&&(W=t.config))},window.addEventListener("message",J),X=!0)),setTimeout(function(){if("undefined"==typeof window)return;const e=K.getSafeTargetOrigin();try{window.parent.postMessage({type:"miniapp_ready"},e)}catch{}},L));let Z=class extends Error{constructor(e,t){super(e),this.statusCode=t,this.name="HttpError"}};const ee={maxRetries:3,baseDelayMs:1e3,maxDelayMs:1e4};function te(e,t){return Math.min(t.baseDelayMs*Math.pow(2,e),t.maxDelayMs)*(.75+.5*Math.random())}function ae(e,t){if(t&&t>=500)return!0;if(429===t)return!0;if(e instanceof Error){const t=e.message.toLowerCase();return t.includes("network")||t.includes("timeout")||t.includes("abort")}return!1}async function ne(e,t){var a;if("undefined"!=typeof uni&&"function"==typeof C)return new Promise((a,n)=>{const l=(e=>{if(e){if(e instanceof Headers){const t={};return e.forEach((e,a)=>{t[a]=e}),t}return Array.isArray(e)?Object.fromEntries(e):e}})(t.headers),o=String((null==l?void 0:l["Content-Type"])||(null==l?void 0:l["content-type"])||"");let i=t.body;if("string"==typeof i&&o.includes("application/json"))try{i=JSON.parse(i)}catch{}C({url:e,method:t.method||"GET",data:i,header:l,success:e=>{var t,l;if((e.statusCode??0)>=200&&(e.statusCode??0)<300)a(e.data);else{const a=(null==(l=null==(t=e.data)?void 0:t.error)?void 0:l.message)||`Request failed: ${e.statusCode}`;n(new Z(a,e.statusCode??0))}},fail:e=>{n(new Error(e.errMsg||"Network error"))}})});const n="undefined"!=typeof window&&e.startsWith(window.location.origin),l=await fetch(e,{credentials:n?"include":"same-origin",...t});if(!l.ok){const t=await l.json().catch(()=>({}));throw new Z((null==(a=t.error)?void 0:a.message)||`Request failed: ${e}`,l.status)}return l.json()}async function le(e){return async function(e,t={}){var a,n;const l=e.startsWith("http")?e:`https://api.neo-service-layer.io${e}`,o={...ee,...t.retryConfig};let i=null;for(let r=0;r<=o.maxRetries;r++){if(null==(a=t.signal)?void 0:a.aborted)throw new Error("Request cancelled");try{return await ne(l,t)}catch(s){i=s instanceof Error?s:new Error(String(s));const e=s instanceof Z?s.statusCode:void 0;if(null==(n=t.signal)?void 0:n.aborted)throw i;if(r>=o.maxRetries)break;if(!ae(s,e))break;const a=te(r,o);await new Promise(e=>setTimeout(e,a))}}throw i||new Error("Request failed")}(e,{method:"GET"})}let oe=null;function ie(){const e=y(null),t=y({}),n=y(null),l=y(null),o=y(null),i=y([]),s=y(!1),r=y(!1),c=y(null),d=y(!1),u=y(null),h=a=>{a.connected&&a.address?(e.value=a.address,s.value=!0):(e.value=null,s.value=!1),n.value=a.chainId??null,l.value=a.chainType??null,t.value=(e=>{if(!e)return{};if(e.balances&&Object.keys(e.balances).length>0)return{...e.balances};if(e.balance){const t={};return t[e.balance.nativeSymbol||("neo-n3"===e.chainType?"GAS":"NATIVE")]=e.balance.native||"0",(e.balance.governance||e.balance.governanceSymbol)&&(t[e.balance.governanceSymbol||("neo-n3"===e.chainType?"NEO":"GOV")]=e.balance.governance||"0"),t}return{}})(a)},p=e=>{e&&(o.value=e.chainId??null,i.value=Array.isArray(e.supportedChains)?e.supportedChains:[])},f=async()=>{var e;const t=await H(),a=null==(e=t.getConfig)?void 0:e.call(t);return p(a),a},v=async e=>{const t=await H();if(!t.wallet.switchChain)throw new Error("switchChain not supported by SDK");await t.wallet.switchChain(e),n.value=e};let g=null;return a(()=>{var t;h(Q),t=e=>{h(e)},V.add(t),t(Q),g=()=>V.delete(t);const a=q();(null==a?void 0:a.getConfig)&&p(a.getConfig()),a&&!s.value&&(e=>e?(oe||(oe=e.wallet.getAddress().then(e=>e||null).catch(e=>{const t=e instanceof Error?e.message:String(e);return console.debug("[MiniApp SDK] Fallback wallet connection failed:",t),null}).finally(()=>{oe=null})),oe):Promise.resolve(null))(a).then(t=>{var o;if(!s.value&&t){e.value=t,s.value=!0;const i=null==(o=a.getConfig)?void 0:o.call(a);n.value=(null==i?void 0:i.chainId)??null,l.value=(null==i?void 0:i.chainType)??null,p(i)}}),H().then(e=>{var t;return p(null==(t=e.getConfig)?void 0:t.call(e))}).catch(()=>{})}),S(()=>{g&&g()}),{address:e,chainId:n,chainType:l,appChainId:o,supportedChains:i,balances:t,isConnected:s,isLoading:r,error:c,showConnectionPrompt:d,connectionPromptMessage:u,connect:async()=>{var t;r.value=!0,c.value=null;try{const a=await H(),o=await a.wallet.getAddress();if(!o)throw new Error("wallet returned empty address");e.value=o,s.value=!0;const i=null==(t=a.getConfig)?void 0:t.call(a);n.value=(null==i?void 0:i.chainId)??null,l.value=(null==i?void 0:i.chainType)??null,p(i)}catch(a){c.value=a}finally{r.value=!1}},invokeIntent:async e=>{var t;const a=q();if(!(null==(t=null==a?void 0:a.wallet)?void 0:t.invokeIntent))throw new Error("invokeIntent not available");return a.wallet.invokeIntent(e)},invokeContract:async e=>{var t;const a=await H(),n=null==(t=a.getConfig)?void 0:t.call(a),l=e.contractAddress||e.scriptHash||e.contractHash,o=e.method||e.operation;if(!l||!o)throw new Error("contract address and method required");return a.invoke("invokeFunction",{contract:l,method:o,args:e.args,chainId:null==n?void 0:n.chainId,chainType:null==n?void 0:n.chainType})},invokeRead:async e=>{var t;const a=await H(),n=null==(t=a.getConfig)?void 0:t.call(a),l=e.contractAddress||e.scriptHash||e.contractHash||(null==n?void 0:n.contractAddress),o=e.method||e.operation;if(!l)throw new Error("contract address not configured");if(!o)throw new Error("method required");return a.invoke("invokeRead",{contract:l,method:o,args:e.args||[],chainId:e.chainId||(null==n?void 0:n.chainId),chainType:e.chainType||(null==n?void 0:n.chainType)})},getContractAddress:async()=>{var e,t,a,n,l;const o=await H(),i=null==(e=o.getConfig)?void 0:e.call(o);if(null==i?void 0:i.contractAddress)return i.contractAddress;if((null==i?void 0:i.chainId)&&(null==(a=null==(t=null==i?void 0:i.chainContracts)?void 0:t[i.chainId])?void 0:a.address))return i.chainContracts[i.chainId].address||null;if(o.invoke)try{const e=await o.invoke("getConfig");if(null==e?void 0:e.contractAddress)return e.contractAddress;if((null==e?void 0:e.chainId)&&(null==(l=null==(n=null==e?void 0:e.chainContracts)?void 0:n[e.chainId])?void 0:l.address))return e.chainContracts[e.chainId].address||null}catch{}return null},getAppConfig:f,getAddress:async()=>(await H()).wallet.getAddress(),signMessage:async e=>{var t;const a=await H();if(!(null==(t=a.wallet)?void 0:t.signMessage))throw new Error("signMessage not available");return a.wallet.signMessage(e)},switchChain:v,switchToAppChain:async e=>{const t=await f(),a=(null==t?void 0:t.chainId)||(Array.isArray(null==t?void 0:t.supportedChains)&&t.supportedChains.length>0?t.supportedChains[0]:null)||e||null;if(!a)throw new Error("app chain not configured");await v(a)},getBalance:async e=>{var a;r.value=!0,c.value=null;try{const l=await H(),o=null==(a=l.getConfig)?void 0:a.call(l),i=(null==o?void 0:o.chainId)||n.value,s=i?`?chain_id=${encodeURIComponent(i)}`:"",r=await le(`/wallet-balance${s}`),c=(null==r?void 0:r.balances)??{};return t.value=c,e?c[e]||"0":c}catch(l){throw c.value=l,l}finally{r.value=!1}},getTransactions:async(e=20)=>{var t;r.value=!0,c.value=null;try{const a=Number.isNaN(e)||e<1?20:Math.min(e,100),l=await H(),o=null==(t=l.getConfig)?void 0:t.call(l),i=(null==o?void 0:o.chainId)||n.value,s=new URLSearchParams({limit:String(a)});i&&s.set("chain_id",i);const r=await le(`/wallet-transactions?${s.toString()}`);return(null==r?void 0:r.transactions)??[]}catch(a){throw c.value=a,a}finally{r.value=!1}},invoke:async(e,t)=>(await H()).invoke(e,t),requireConnection:(e={})=>{const{showPrompt:t=!0,errorMessage:a}=e;return!!s.value||(t&&(u.value=a||null,d.value=!0),!1)},closeConnectionPrompt:()=>{d.value=!1,u.value=null},clearError:()=>{c.value=null}}}y("en");const se=P(e({__name:"ChainWarning",props:{title:{default:"Wrong Network"},message:{default:"Switch to Neo N3 Mainnet to continue."},buttonText:{default:"Switch Network"},show:{type:Boolean,default:void 0}},emits:["switch","switch-complete","switch-error"],setup(e,{emit:a}){const i=e,s=a,{showWarning:h,switchToAppChain:p}=function(){const{switchToAppChain:e}=ie(),a=t(()=>!1),n=async()=>{try{await e()}catch(t){throw console.error("[useChainValidation] Failed to switch chain:",t),t}},l=t(()=>({show:a.value,onSwitch:n}));return{showWarning:a,switchToAppChain:n,chainWarningProps:l}}(),f=y(!1),v=t(()=>void 0!==i.show?i.show:h.value),g=async()=>{if(!f.value){f.value=!0,s("switch");try{await p(),s("switch-complete")}catch(e){const t=e instanceof Error?e:new Error(String(e));s("switch-error",t),console.error("[ChainWarning] Failed to switch chain:",t)}finally{f.value=!1}}};return(e,t)=>{const a=c,i=o;return v.value?(n(),l(i,{key:0,class:"chain-warning px-4 mb-4"},{default:r(()=>[w(A(de),{variant:"danger"},{default:r(()=>[w(i,{class:"flex flex-col items-center gap-2 py-1"},{default:r(()=>[w(a,{class:"text-center font-bold text-red-400"},{default:r(()=>[d(u(e.title),1)]),_:1}),e.message?(n(),l(a,{key:0,class:"text-xs text-center opacity-80 text-white"},{default:r(()=>[d(u(e.message),1)]),_:1})):m("",!0),w(A(ue),{size:"sm",variant:"secondary",class:"mt-2",loading:f.value,onClick:g},{default:r(()=>[d(u(e.buttonText),1)]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1})):m("",!0)}}}),[["__scopeId","data-v-3dc811c7"]]),re=P(e({__name:"DesktopLayout",props:{title:{default:""},tabs:{default:()=>[]},activeTab:{default:""},allowScroll:{type:Boolean,default:!0},theme:{default:""}},emits:["tab-change"],setup(e,{emit:a}){const i=e,y=a,_=t(()=>i.theme?`theme-${i.theme}`:""),k=I(),C=t(()=>Boolean(k["desktop-sidebar"])),S=e=>{y("tab-change",e)};return(()=>{if(!i.tabs||0===i.tabs.length)return console.warn("[DesktopLayout] No tabs provided - navigation will be hidden"),!1;!i.tabs.some((e,t)=>i.tabs.findIndex(t=>t.id===e.id)!==t)||console.error("[DesktopLayout] Duplicate tab IDs detected - navigation may not work correctly")})(),(e,t)=>{const a=c,i=o;return n(),l(i,{class:s(["desktop-container",_.value])},{default:r(()=>[w(i,{class:"sidebar",role:"navigation","aria-label":"Main navigation"},{default:r(()=>[w(i,{class:"sidebar-header"},{default:r(()=>[w(a,{class:"brand-name"},{default:r(()=>[d("NeoHub")]),_:1}),w(a,{class:"brand-tagline"},{default:r(()=>[d("Miniapps")]),_:1})]),_:1}),w(i,{class:"sidebar-nav",role:"menubar","aria-label":"Navigation menu"},{default:r(()=>[(n(!0),h(f,null,p(e.tabs,t=>(n(),l(i,{key:t.id,class:s(["nav-item",e.activeTab===t.id&&"active"]),role:"menuitem",tabindex:e.activeTab===t.id?0:-1,"aria-label":t.label,"aria-current":e.activeTab===t.id?"page":void 0,onClick:e=>S(t.id),onKeydown:[v(e=>S(t.id),["enter"]),v(g(e=>S(t.id),["prevent"]),["space"])]},{default:r(()=>[w(i,{class:"nav-icon-wrapper"},{default:r(()=>[w(G,{name:t.icon,size:20},null,8,["name"])]),_:2},1024),w(a,{class:"nav-label"},{default:r(()=>[d(u(t.label),1)]),_:2},1024),e.activeTab===t.id?(n(),l(i,{key:0,class:"nav-indicator","aria-hidden":"true"})):m("",!0)]),_:2},1032,["class","tabindex","aria-label","aria-current","onClick","onKeydown"]))),128))]),_:1}),C.value?(n(),l(i,{key:0,class:"sidebar-panel",role:"complementary","aria-label":"Sidebar details"},{default:r(()=>[b(e.$slots,"desktop-sidebar",{},void 0,!0)]),_:3})):m("",!0),w(i,{class:"sidebar-footer"},{default:r(()=>[w(i,{class:"footer-status",role:"status","aria-live":"polite"},{default:r(()=>[w(i,{class:"status-dot online","aria-hidden":"true"}),w(a,{class:"status-text"},{default:r(()=>[d("Connected")]),_:1})]),_:1})]),_:1})]),_:3}),w(i,{class:"main-content-wrapper",role:"main"},{default:r(()=>[w(i,{class:"top-bar"},{default:r(()=>[w(i,{class:"top-bar-left"},{default:r(()=>[e.title?(n(),l(a,{key:0,class:"page-title"},{default:r(()=>[d(u(e.title),1)]),_:1})):m("",!0)]),_:1}),w(i,{class:"top-bar-right"},{default:r(()=>[b(e.$slots,"top-bar-actions",{},void 0,!0)]),_:3})]),_:3}),w(i,{class:s(["content-area",!e.allowScroll&&"no-scroll"]),tabindex:e.allowScroll?-1:0},{default:r(()=>[b(e.$slots,"default",{},void 0,!0)]),_:3},8,["class","tabindex"])]),_:3})]),_:3},8,["class"])}}}),[["__scopeId","data-v-a78cf158"]]),ce=e({__name:"ResponsiveLayout",props:{title:{default:""},tabs:{default:()=>[]},navItems:{default:()=>[]},activeTab:{default:""},allowScroll:{type:Boolean,default:!0},theme:{default:""},showTopNav:{type:Boolean,default:!1},showSidebar:{type:Boolean,default:!1},layout:{default:"default"},showBack:{type:Boolean,default:!1},desktopBreakpoint:{default:1024}},emits:["back","tab-change","navigate"],setup(e,{emit:o}){const i=e,s=o,c=y(!1),d=y(!1),u=()=>{if(!d.value)return;const e=window.innerWidth;c.value=e>=i.desktopBreakpoint};let h;const p=()=>{clearTimeout(h),h=window.setTimeout(()=>{u()},150)},f=t(()=>i.tabs&&i.tabs.length>0?i.tabs:i.navItems&&i.navItems.length>0?i.navItems.map(e=>({id:e.id??e.key??"",label:e.label,icon:e.icon})).filter(e=>Boolean(e.id)):[]),v=t(()=>c.value?re:N),g=e=>{s("tab-change",e),s("navigate",e)};return x(c,(e,t)=>{t!==e&&d.value&&console.log(`[ResponsiveLayout] Layout mode changed: ${e?"desktop":"mobile"} (${window.innerWidth}px)`)}),a(()=>{d.value="undefined"!=typeof window,d.value&&(u(),window.addEventListener("resize",p))}),S(()=>{d.value&&(window.removeEventListener("resize",p),clearTimeout(h))}),(e,t)=>(n(),l(T(v.value),{title:e.title,tabs:f.value,"active-tab":e.activeTab,"allow-scroll":e.allowScroll,theme:e.theme,"show-top-nav":e.showTopNav,"show-back":e.showBack,onTabChange:g,onBack:t[0]||(t[0]=t=>e.$emit("back"))},{"top-bar-actions":r(()=>[b(e.$slots,"top-bar-actions")]),"desktop-sidebar":r(()=>[b(e.$slots,"desktop-sidebar")]),default:r(()=>[b(e.$slots,"default")]),_:3},40,["title","tabs","active-tab","allow-scroll","theme","show-top-nav","show-back"]))}}),de=P(e({__name:"NeoCard",props:{title:{default:void 0},variant:{default:"default"},hoverable:{type:Boolean,default:!1},flat:{type:Boolean,default:!1}},emits:["click"],setup:e=>(e,t)=>{const a=c,i=o;return n(),l(i,{class:s(["neo-card",`neo-card--${e.variant}`,{"neo-card--hoverable":e.hoverable,"neo-card--flat":e.flat}]),role:e.hoverable?"button":void 0,tabindex:e.hoverable?0:void 0,onClick:t[0]||(t[0]=t=>e.hoverable&&e.$emit("click",t)),onKeydown:[t[1]||(t[1]=v(t=>e.hoverable&&e.$emit("click",t),["enter"])),t[2]||(t[2]=v(g(t=>e.hoverable&&e.$emit("click",t),["prevent"]),["space"]))]},{default:r(()=>[e.title||e.$slots.header?(n(),l(i,{key:0,class:"neo-card__header"},{default:r(()=>[e.title?(n(),l(a,{key:0,class:"neo-card__title"},{default:r(()=>[d(u(e.title),1)]),_:1})):m("",!0),b(e.$slots,"header",{},void 0,!0)]),_:3})):m("",!0),w(i,{class:"neo-card__body"},{default:r(()=>[b(e.$slots,"default",{},void 0,!0)]),_:3}),e.$slots.footer?(n(),l(i,{key:1,class:"neo-card__footer"},{default:r(()=>[b(e.$slots,"footer",{},void 0,!0)]),_:3})):m("",!0)]),_:3},8,["class","role","tabindex"])}}),[["__scopeId","data-v-3f370003"]]),ue=P(e({__name:"NeoButton",props:{variant:{default:"primary"},size:{default:"md"},block:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},ariaLabel:{default:void 0}},emits:["click"],setup:e=>(e,t)=>{const a=o,i=z;return n(),l(i,{class:s(["neo-btn",`neo-btn--${e.variant}`,`neo-btn--${e.size}`,{"neo-btn--block":e.block,"neo-btn--loading":e.loading}]),disabled:e.disabled||e.loading,"aria-busy":e.loading,"aria-disabled":e.disabled||e.loading,"aria-label":e.ariaLabel,onClick:t[0]||(t[0]=t=>e.$emit("click",t))},{default:r(()=>[e.loading?(n(),l(a,{key:0,class:"neo-btn__spinner"})):b(e.$slots,"default",{key:1},void 0,!0)]),_:3},8,["class","disabled","aria-busy","aria-disabled","aria-label"])}}),[["__scopeId","data-v-4b6100e3"]]);const he={docBadge:{en:"Documentation",zh:"æ–‡æ¡£"},docFooter:{en:"NeoHub MiniApp Protocol v2.4.0",zh:"NeoHub MiniApp Protocol v2.4.0"}};function pe(e){const t={...he,...e},a=y("undefined"==typeof window?"en":(navigator.language||navigator.userLanguage||"en").toLowerCase().startsWith("zh")?"zh":"en"),n=(e,n)=>{const l=t[e];if(!l)return String(e);let o="";return o="string"==typeof l?l:l[a.value]||l.en||l.zh||String(e),n?((e,t)=>e.replace(/\{(\w+)\}/g,(e,a)=>String(t[a]??`{${a}}`)))(o,n):o},l=e=>{a.value=(e=>e&&e.toLowerCase().startsWith("zh")?"zh":"en")(e)};if("undefined"!=typeof window){window.addEventListener("languageChange",e=>{var t;const a=null==(t=e.detail)?void 0:t.language;a&&l(a)});const e=(()=>{try{if(window.parent!==window&&document.referrer)return new URL(document.referrer).origin}catch{}return window.location.origin})();window.addEventListener("message",t=>{const a=t.source===window.parent;if(!(t.origin===e||t.origin===window.location.origin||a&&("null"===t.origin||"null"===e)))return;const n=t.data;if(!n||"object"!=typeof n)return;if("language-change"!==n.type)return;const o=String(n.language||n.locale||n.lang||"").trim();o&&l(o)})}return()=>({locale:a,t:n,setLocale:l})}const fe=pe({wrongChain:{en:"Wrong Network",zh:"ç½‘ç»œé”™è¯¯"},wrongChainMessage:{en:"Switch to Neo N3 Mainnet to continue.",zh:"åˆ‡æ¢åˆ° Neo N3 ä¸»ç½‘ä»¥ç»§ç»­ã€‚"},switchToNeo:{en:"Switch Network",zh:"åˆ‡æ¢ç½‘ç»œ"},connectWalletPrompt:{en:"Please connect your wallet",zh:"è¯·è¿žæŽ¥é’±åŒ…"},contractUnavailable:{en:"Contract unavailable",zh:"åˆçº¦ä¸å¯ç”¨"},transactionFailed:{en:"Transaction failed",zh:"äº¤æ˜“å¤±è´¥"},insufficientBalance:{en:"Insufficient balance",zh:"ä½™é¢ä¸è¶³"},loading:{en:"Loading...",zh:"åŠ è½½ä¸­..."},error:{en:"Error",zh:"é”™è¯¯"},main:{en:"Main",zh:"ä¸»é¡µ"},game:{en:"Game",zh:"æ¸¸æˆ"},games:{en:"Games",zh:"æ¸¸æˆ"},stats:{en:"Stats",zh:"ç»Ÿè®¡"},docsTab:{en:"Docs",zh:"æ–‡æ¡£"},settings:{en:"Settings",zh:"è®¾ç½®"},about:{en:"About",zh:"å…³äºŽ"},docSubtitle:{en:"Documentation",zh:"æ–‡æ¡£"},docDescription:{en:"Learn how to use this miniapp",zh:"äº†è§£å¦‚ä½•ä½¿ç”¨æ­¤è¿·ä½ åº”ç”¨"},docWhatItIs:{en:"What is it?",zh:"è¿™æ˜¯ä»€ä¹ˆï¼Ÿ"},docHowToUse:{en:"How to use",zh:"å¦‚ä½•ä½¿ç”¨"},docOnChainFeatures:{en:"On-Chain Features",zh:"é“¾ä¸Šç‰¹æ€§"},confirm:{en:"Confirm",zh:"ç¡®è®¤"},cancel:{en:"Cancel",zh:"å–æ¶ˆ"},close:{en:"Close",zh:"å…³é—­"},continue:{en:"Continue",zh:"ç»§ç»­"},retry:{en:"Retry",zh:"é‡è¯•"},back:{en:"Back",zh:"è¿”å›ž"},walletRequired:{en:"Wallet Required",zh:"éœ€è¦é’±åŒ…"},walletDescription:{en:"Please connect your wallet to continue.",zh:"è¯·è¿žæŽ¥é’±åŒ…ä»¥ç»§ç»­ã€‚"},connectWallet:{en:"Connect Wallet",zh:"è¿žæŽ¥é’±åŒ…"},wpTitle:{en:"Wallet Required",zh:"éœ€è¦é’±åŒ…"},wpDescription:{en:"Please connect your wallet to continue.",zh:"è¯·è¿žæŽ¥é’±åŒ…ä»¥ç»§ç»­ã€‚"},wpConnect:{en:"Connect Wallet",zh:"è¿žæŽ¥é’±åŒ…"},wpCancel:{en:"Cancel",zh:"å–æ¶ˆ"},success:{en:"Success",zh:"æˆåŠŸ"},failed:{en:"Failed",zh:"å¤±è´¥"},pending:{en:"Pending",zh:"å¤„ç†ä¸­"},completed:{en:"Completed",zh:"å·²å®Œæˆ"},buy:{en:"Buy",zh:"è´­ä¹°"},sell:{en:"Sell",zh:"å‡ºå”®"},swap:{en:"Swap",zh:"äº¤æ¢"},transfer:{en:"Transfer",zh:"è½¬è´¦"},claim:{en:"Claim",zh:"é¢†å–"},enterAmount:{en:"Enter amount",zh:"è¯·è¾“å…¥æ•°é‡"},selectOption:{en:"Select an option",zh:"è¯·é€‰æ‹©"},search:{en:"Search",zh:"æœç´¢"},docBadge:{en:"Documentation",zh:"æ–‡æ¡£"},docFooter:{en:"NeoHub MiniApp Protocol v2.4.0",zh:"NeoHub MiniApp Protocol v2.4.0"}}),ve=P(e({__name:"ScrollReveal",props:{animation:{default:"fade-up"},delay:{default:0},duration:{default:800},threshold:{default:.1},offset:{default:-50},reversible:{type:Boolean,default:!1}},setup(e,{expose:t}){const c=e,d=y(!1),u=B();let h=null;return a(()=>{setTimeout(()=>{u&&(setTimeout(()=>{d.value||(d.value=!0)},500),h=E(u),h.relativeToViewport({bottom:c.offset}).observe(".scroll-reveal",e=>{e.intersectionRatio>0?(d.value=!0,c.reversible||h.disconnect()):c.reversible&&(d.value=!1)}))},100)}),t({isVisible:d}),S(()=>{h&&h.disconnect()}),(e,t)=>{const a=o;return n(),l(a,{class:s(["scroll-reveal",[e.animation,{"is-visible":d.value}]]),style:i({transitionDelay:e.delay+"ms",transitionDuration:e.duration+"ms"})},{default:r(()=>[b(e.$slots,"default",{},void 0,!0)]),_:3},8,["class","style"])}}}),[["__scopeId","data-v-0c69cb0a"]]),ge=P(e({__name:"NeoDoc",props:{title:{},subtitle:{},description:{},steps:{},features:{}},setup(e){const{t:t}=fe();return(e,a)=>{const i=o,s=c;return n(),l(i,{class:"neo-doc"},{default:r(()=>[w(i,{class:"doc-header"},{default:r(()=>[w(ve,{animation:"fade-down",duration:1e3},{default:r(()=>[w(i,{class:"title-row"},{default:r(()=>[w(i,{class:"doc-badge"},{default:r(()=>[d(u(A(t)("docBadge")),1)]),_:1})]),_:1}),w(s,{class:"doc-title"},{default:r(()=>[d(u(e.title),1)]),_:1}),w(s,{class:"doc-subtitle"},{default:r(()=>[d(u(e.subtitle),1)]),_:1})]),_:1})]),_:1}),w(i,{class:"doc-content"},{default:r(()=>[w(i,{class:"doc-section"},{default:r(()=>[w(ve,{animation:"fade-up",delay:200},{default:r(()=>[w(s,{class:"section-label"},{default:r(()=>[d(u(A(t)("docWhatItIs")),1)]),_:1}),w(s,{class:"section-text"},{default:r(()=>[d(u(e.description),1)]),_:1})]),_:1})]),_:1}),w(i,{class:"doc-section"},{default:r(()=>[w(ve,{animation:"fade-up",delay:300},{default:r(()=>[w(s,{class:"section-label"},{default:r(()=>[d(u(A(t)("docHowToUse")),1)]),_:1})]),_:1}),w(i,{class:"steps-list"},{default:r(()=>[(n(!0),h(f,null,p(e.steps,(e,t)=>(n(),l(ve,{key:t,delay:400+100*t,animation:"slide-left"},{default:r(()=>[w(i,{class:"step-item"},{default:r(()=>[w(i,{class:"step-number"},{default:r(()=>[d(u(t+1),1)]),_:2},1024),w(s,{class:"step-text"},{default:r(()=>[d(u(e),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["delay"]))),128))]),_:1})]),_:1}),w(i,{class:"doc-section"},{default:r(()=>[w(ve,{animation:"fade-up",delay:400},{default:r(()=>[w(s,{class:"section-label"},{default:r(()=>[d(u(A(t)("docOnChainFeatures")),1)]),_:1})]),_:1}),w(i,{class:"features-grid"},{default:r(()=>[(n(!0),h(f,null,p(e.features,(e,t)=>(n(),l(ve,{key:e.name,delay:500+100*t,animation:"scale-in",reversible:""},{default:r(()=>[w(i,{class:"feature-card"},{default:r(()=>[w(s,{class:"feature-name"},{default:r(()=>[d(u(e.name),1)]),_:2},1024),w(s,{class:"feature-desc"},{default:r(()=>[d(u(e.desc),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["delay"]))),128))]),_:1})]),_:1})]),_:1}),w(i,{class:"doc-footer"},{default:r(()=>[w(ve,{animation:"fade-up",delay:800},{default:r(()=>[w(s,{class:"footer-text"},{default:r(()=>[d(u(A(t)("docFooter")),1)]),_:1})]),_:1})]),_:1})]),_:1})}}}),[["__scopeId","data-v-445ca862"]]),we=P(e({__name:"GradientCard",props:{variant:{default:"glass"},hoverable:{type:Boolean,default:!1},glow:{type:Boolean,default:!1},glowIntensity:{default:.3}},emits:["click"],setup(e){const a=e,c={purple:"linear-gradient(135deg, rgba(159, 157, 243, 0.2) 0%, rgba(123, 121, 209, 0.1) 100%)",neo:"linear-gradient(135deg, rgba(0, 229, 153, 0.2) 0%, rgba(0, 179, 119, 0.1) 100%)",bitcoin:"linear-gradient(135deg, rgba(255, 228, 195, 0.2) 0%, rgba(255, 200, 140, 0.1) 100%)",glass:"rgba(255, 255, 255, 0.03)",dark:"rgba(0, 0, 0, 0.4)"},d={purple:"rgba(159, 157, 243, 0.4)",neo:"rgba(0, 229, 153, 0.4)",bitcoin:"rgba(255, 228, 195, 0.4)",glass:"rgba(255, 255, 255, 0.1)",dark:"rgba(0, 0, 0, 0.2)"},u=t(()=>({background:c[a.variant]})),h=t(()=>({background:d[a.variant],opacity:a.glowIntensity}));return(e,t)=>{const a=o;return n(),l(a,{class:s(["gradient-card",`gradient-card--${e.variant}`,{"gradient-card--hoverable":e.hoverable}]),style:i(u.value),onClick:t[0]||(t[0]=t=>e.hoverable&&e.$emit("click",t))},{default:r(()=>[e.glow?(n(),l(a,{key:0,class:"gradient-card__glow",style:i(h.value)},null,8,["style"])):m("",!0),w(a,{class:"gradient-card__content"},{default:r(()=>[b(e.$slots,"default",{},void 0,!0)]),_:3})]),_:3},8,["class","style"])}}}),[["__scopeId","data-v-5e3e2786"]]),me=pe({title:{en:"Turtle Match",zh:"ä¹Œé¾Ÿå¯¹å¯¹ç¢°"},totalSessions:{en:"Total Sessions",zh:"æ€»åœºæ¬¡"},totalRewards:{en:"Total Rewards",zh:"æ€»å¥–åŠ±"},description:{en:"Buy boxes, match turtles, win GAS!",zh:"è´­ä¹°ç›²ç›’ï¼Œæ”¶é›†ä¹Œé¾Ÿï¼Œé…å¯¹èµ¢å– GASï¼"},splashTitle:{en:"Turtle Match",zh:"ä¹Œé¾Ÿå¯¹å¯¹ç¢°"},splashSubtitle:{en:"Cyber Pond Edition",zh:"èµ›åšæ± å¡˜ç‰ˆ"},sessionComplete:{en:"Session Complete",zh:"æœ¬å±€å®Œæˆ"},totalMatchesLabel:{en:"Total Matches",zh:"é…å¯¹æ€»æ•°"},totalEarnedLabel:{en:"Total Earned",zh:"æ€»æ”¶ç›Š"},boxesOpenedLabel:{en:"Boxes Opened",zh:"å¼€å¯ç›²ç›’"},confirmSettlement:{en:"Confirm Settlement",zh:"ç¡®è®¤ç»“ç®—"},matchLabel:{en:"Match!",zh:"é…å¯¹æˆåŠŸï¼"},rewardLabel:{en:"Reward",zh:"å¥–åŠ±"},neoSymbol:{en:"NEO",zh:"NEO"},docSubtitle:{en:"Blindbox matching with GAS rewards",zh:"ç›²ç›’é…å¯¹èµ¢å– GAS"},docDescription:{en:"Purchase blindboxes, auto-open turtles on a 3x3 grid, match pairs, and settle rewards on-chain. Rewards follow the contract odds and are paid after settlement.",zh:"è´­ä¹°ç›²ç›’åŽè‡ªåŠ¨å¼€ç›’ï¼Œåœ¨ 3x3 ç½‘æ ¼ä¸­å®Œæˆé…å¯¹å¹¶é“¾ä¸Šç»“ç®—å¥–åŠ±ã€‚å¥–åŠ±æŒ‰åˆçº¦èµ”çŽ‡è®¡ç®—ï¼Œç»“ç®—åŽå‘æ”¾ã€‚"},docStep1:{en:"Connect your wallet to sync game sessions and stats.",zh:"è¿žæŽ¥é’±åŒ…ä»¥åŒæ­¥æ¸¸æˆä¼šè¯ä¸Žç»Ÿè®¡æ•°æ®ã€‚"},docStep2:{en:"Choose 3-20 blindboxes and start the session (0.1 GAS each).",zh:"é€‰æ‹© 3-20 ä¸ªç›²ç›’å¹¶å¼€å§‹æ¸¸æˆï¼ˆæ¯ä¸ª 0.1 GASï¼‰ã€‚"},docStep3:{en:"Watch auto-opening, matches, and reward previews as the grid fills.",zh:"è§‚çœ‹è‡ªåŠ¨å¼€ç›’ã€é…å¯¹ä¸Žå¥–åŠ±é¢„è§ˆã€‚"},docStep4:{en:"Settle the session on-chain to receive GAS rewards, then start a new game.",zh:"é“¾ä¸Šç»“ç®—èŽ·å– GAS å¥–åŠ±ï¼Œç„¶åŽå¼€å§‹æ–°ä¸€å±€ã€‚"},docFeature1Name:{en:"On-chain sessions",zh:"é“¾ä¸Šä¼šè¯"},docFeature1Desc:{en:"Sessions, matches, and payouts are recorded by the contract.",zh:"ä¼šè¯ã€é…å¯¹ä¸Žå¥–åŠ±å‡ç”±åˆçº¦è®°å½•ã€‚"},docFeature2Name:{en:"Deterministic reveals",zh:"å¯å¤çŽ°å¼€ç›’"},docFeature2Desc:{en:"Turtle colors are derived from a seeded hash for transparent outcomes.",zh:"ä¹Œé¾Ÿé¢œè‰²ç”±ç§å­å“ˆå¸ŒæŽ¨å¯¼ï¼Œç»“æžœé€æ˜Žå¯éªŒè¯ã€‚"},docFeature3Name:{en:"Instant settlement",zh:"å³æ—¶ç»“ç®—"},docFeature3Desc:{en:"Complete the session and claim rewards in a single settlement.",zh:"å®Œæˆä¼šè¯åŽä¸€æ¬¡ç»“ç®—å³å¯é¢†å–å¥–åŠ±ã€‚"},connectWallet:{en:"Connect Wallet",zh:"è¿žæŽ¥é’±åŒ…"},buyBlindbox:{en:"Buy Boxes",zh:"è´­ä¹°ç›²ç›’"},pricePerBox:{en:"GAS / box",zh:"GAS / ä¸ª"},totalPrice:{en:"Total",zh:"æ€»ä»·"},startGame:{en:"Start Game",zh:"å¼€å§‹æ¸¸æˆ"},box:{en:"Box",zh:"ç›’å­"},remainingBoxes:{en:"Remaining",zh:"å‰©ä½™ç›²ç›’"},matches:{en:"Matches",zh:"å·²é…å¯¹"},won:{en:"Won",zh:"å·²èµ¢å–"},autoOpening:{en:"Auto opening...",zh:"è‡ªåŠ¨å¼€å¯ä¸­..."},settleRewards:{en:"Settle Rewards",zh:"ç»“ç®—å¥–åŠ±"},newGame:{en:"New Game",zh:"å¼€å§‹æ–°æ¸¸æˆ"},blindbox:{en:"Blindbox",zh:"ç›²ç›’"},connectWalletFirst:{en:"Please connect your wallet first.",zh:"è¯·å…ˆè¿žæŽ¥é’±åŒ…"},invalidBoxCount:{en:"Blindbox count must be between 3 and 20.",zh:"ç›²ç›’æ•°é‡å¿…é¡»åœ¨3-20ä¹‹é—´"},contractUnavailable:{en:"Contract unavailable",zh:"åˆçº¦ä¸å¯ç”¨"},receiptMissing:{en:"Payment receipt missing",zh:"æ”¯ä»˜å‡­è¯ç¼ºå¤±"},noActiveSession:{en:"No active game session.",zh:"æ²¡æœ‰æ´»è·ƒçš„æ¸¸æˆä¼šè¯"},alreadySettled:{en:"Game already settled.",zh:"æ¸¸æˆå·²ç»“ç®—"},scriptHashMissing:{en:"Verification script unavailable",zh:"éªŒè¯è„šæœ¬ä¸å¯ç”¨"},statsLoadFailed:{en:"Failed to load stats.",zh:"ç»Ÿè®¡æ•°æ®åŠ è½½å¤±è´¥"},sessionLoadFailed:{en:"Failed to load session.",zh:"ä¼šè¯åŠ è½½å¤±è´¥"},connectFailed:{en:"Unable to connect wallet.",zh:"æ— æ³•è¿žæŽ¥é’±åŒ…"},sdkUnavailable:{en:"SDK not available",zh:"SDK ä¸å¯ç”¨"},sdkInitTimeout:{en:"SDK initialization timeout",zh:"SDK åˆå§‹åŒ–è¶…æ—¶"},error:{en:"Error",zh:"é”™è¯¯"},wrongChain:{en:"Wrong Network",zh:"ç½‘ç»œé”™è¯¯"},wrongChainMessage:{en:"This app requires Neo N3 network.",zh:"æ­¤åº”ç”¨éœ€ Neo N3 ç½‘ç»œã€‚"},switchToNeo:{en:"Switch to Neo N3",zh:"åˆ‡æ¢åˆ° Neo N3"},loading:{en:"Loading...",zh:"åŠ è½½ä¸­..."},docs:{en:"Docs",zh:"æ–‡æ¡£"},tabPlay:{en:"Play",zh:"æ¸¸æˆ"},tabGuide:{en:"Guide",zh:"å¼•å¯¼"},tabCommunity:{en:"Reviews",zh:"è¯„ä»·"},operationFlow:{en:"Operation Flow",zh:"æ“ä½œæµç¨‹"},coreLogicTitle:{en:"Core Game Logic",zh:"æ ¸å¿ƒçŽ©æ³•é€»è¾‘"},operationPanelTitle:{en:"Transaction Operation Block",zh:"äº¤æ˜“æ“ä½œé¢æ¿"},communityReviews:{en:"Community Reviews",zh:"ç¤¾åŒºè¯„ä»·"},communityHint:{en:"Real user feedback focused on interaction clarity and transaction flow.",zh:"çœŸå®žç”¨æˆ·åé¦ˆï¼Œé‡ç‚¹å…³æ³¨äº¤äº’æ¸…æ™°åº¦å’Œäº¤æ˜“æµç¨‹ã€‚"},wpTitle:{en:"Wallet Required",zh:"éœ€è¦é’±åŒ…"},wpDescription:{en:"Please connect your wallet to continue.",zh:"è¯·è¿žæŽ¥é’±åŒ…ä»¥ç»§ç»­ã€‚"},wpConnect:{en:"Connect Wallet",zh:"è¿žæŽ¥é’±åŒ…"},wpCancel:{en:"Cancel",zh:"å–æ¶ˆ"},docWhatItIs:{en:"What is it?",zh:"è¿™æ˜¯ä»€ä¹ˆï¼Ÿ"},docHowToUse:{en:"How to use",zh:"å¦‚ä½•ä½¿ç”¨"},docOnChainFeatures:{en:"On-Chain Features",zh:"é“¾ä¸Šç‰¹æ€§"}}),be=5e3,ye=1e4,_e=100,ke=["https://neomini.app","https://miniapp.neo.org","https://testnet.miniapp.neo.org"];const Ce=new class{constructor(){this.dynamicOrigins=new Set,this.baseOrigins=new Set([...ke])}getSelfOrigin(){if("undefined"==typeof window)return null;try{const e=new URL(window.location.href);if("null"===e.origin)return null;if("http:"===e.protocol||"https:"===e.protocol)return e.origin}catch{}return null}getReferrerOrigin(){if("undefined"==typeof document||!document.referrer)return null;try{return new URL(document.referrer).origin}catch{return null}}getAllowedOrigins(){const e=new Set(this.baseOrigins);this.dynamicOrigins.forEach(t=>e.add(t));const t=this.getReferrerOrigin();t&&this.baseOrigins.has(t)&&e.add(t);const a=this.getSelfOrigin();if(a&&e.add(a),"undefined"!=typeof window){const t=window.location.hostname;"localhost"!==t&&"127.0.0.1"!==t||e.add(window.location.origin)}return e}isValid(e){return!(!e||"null"===e)&&this.getAllowedOrigins().has(e)}getTargetOrigin(){var e;const t=this.getReferrerOrigin();if(t&&this.baseOrigins.has(t))return t;try{if("undefined"!=typeof window&&window.parent!==window&&(null==(e=window.location.ancestorOrigins)?void 0:e.length)>0){const e=window.location.ancestorOrigins[0];if(this.baseOrigins.has(e))return e}}catch{}const a=this.getSelfOrigin();if(a)return a;if("undefined"!=typeof window){const e=window.location.hostname;if("localhost"===e||"127.0.0.1"===e)return window.location.origin}throw new Error("Cannot determine safe target origin - no valid origin found")}getSafeTargetOrigin(){try{const e=this.getTargetOrigin();if(e&&"null"!==e)return e}catch{}if("undefined"!=typeof window&&window.parent!==window){const e=window.__MINIAPP_PARENT_ORIGIN__;if("string"==typeof e&&e&&this.baseOrigins.has(e))return e;throw new Error("Cannot communicate securely with parent - origin unknown. Ensure host app sets __MINIAPP_PARENT_ORIGIN__ or uses a supported browser.")}throw new Error("Cannot determine safe target origin - origin is null or undefined")}addDynamicOrigin(e){e&&"null"!==e&&this.dynamicOrigins.add(e)}};let Se=null;function Ae(e){const t=null==e?void 0:e.layout;if("web"===t||"mobile"===t)return t;if("undefined"!=typeof window){const e=new URLSearchParams(window.location.search).get("layout");if("web"===e||"mobile"===e)return e;if(window.ReactNativeWebView)return"mobile"}return"web"}function Ie(e){if(!e||"object"!=typeof e)return!1;const t="function"==typeof e.invoke&&"function"==typeof e.getConfig,a="object"==typeof e.wallet||"object"==typeof e.payments;return t||a}function xe(e=be){return new Promise((t,a)=>{if("undefined"==typeof window)return void a(new Error("SDK not available in SSR"));if(window.MiniAppSDK)return Ie(window.MiniAppSDK)?void t(window.MiniAppSDK):void a(new Error("SDK validation failed"));const n=setTimeout(()=>{if(window.removeEventListener("miniapp-sdk-ready",l),window.parent!==window){const e=function(){const e=Ce.getSafeTargetOrigin();let t=0;const a=(a,...n)=>new Promise((l,o)=>{const i="undefined"!=typeof crypto&&crypto.getRandomValues?Array.from(crypto.getRandomValues(new Uint8Array(4)),e=>e.toString(16).padStart(2,"0")).join(""):Math.random().toString(36).slice(2,10),s=`sdk-${++t}-${Date.now()}-${i}`,r=setTimeout(()=>{window.removeEventListener("message",c),o(new Error("SDK invoke timeout"))},ye),c=e=>{var t,a;Ce.isValid(e.origin)&&e.source===window.parent&&"miniapp_sdk_response"===(null==(t=e.data)?void 0:t.type)&&(null==(a=e.data)?void 0:a.id)===s&&(clearTimeout(r),window.removeEventListener("message",c),e.data.ok?l(e.data.result):o(new Error(e.data.error||"SDK call failed")))};window.addEventListener("message",c),window.parent.postMessage({type:"miniapp_sdk_request",id:s,method:a,params:n},e)});return{invoke:a,getConfig:()=>Se?{...Se,layout:Ae(Se)}:"undefined"!=typeof window&&window.__MINIAPP_CONFIG__?(Se=window.__MINIAPP_CONFIG__,{...Se,layout:Ae(Se??void 0)}):{appId:"",contractAddress:null,chainId:null,chainType:void 0,supportedChains:[],layout:Ae(),debug:!1},getAddress:()=>a("getAddress"),wallet:{getAddress:()=>a("wallet.getAddress"),switchChain:e=>a("wallet.switchChain",e),invokeIntent:e=>a("wallet.invokeIntent",e),signMessage:e=>a("wallet.signMessage",e)},payments:{payGAS:(e,t,n)=>a("payments.payGAS",e,t,n),payGASAndInvoke:(e,t,n)=>a("payments.payGASAndInvoke",e,t,n)},governance:{vote:(e,t,n,l)=>a("governance.vote",e,t,n,l),voteAndInvoke:(e,t,n,l)=>a("governance.voteAndInvoke",e,t,n,l),getCandidates:()=>a("governance.getCandidates")},rng:{requestRandom:e=>a("rng.requestRandom",e)},datafeed:{getPrice:e=>a("datafeed.getPrice",e),getPrices:()=>a("datafeed.getPrices"),getNetworkStats:()=>a("datafeed.getNetworkStats"),getRecentTransactions:e=>a("datafeed.getRecentTransactions",e)},stats:{getMyUsage:(e,t)=>a("stats.getMyUsage",e,t)},events:{list:e=>a("events.list",e),emit:(e,t)=>a("events.emit",e,t)},transactions:{list:e=>a("transactions.list",e)},automation:{register:(e,t,n,l)=>a("automation.register",e,t,n,l),unregister:e=>a("automation.unregister",e),status:e=>a("automation.status",e),list:()=>a("automation.list"),update:(e,t,n)=>a("automation.update",e,t,n),enable:e=>a("automation.enable",e),disable:e=>a("automation.disable",e),logs:(e,t)=>a("automation.logs",e,t)},share:{openModal:e=>a("share.openModal",e),getUrl:e=>a("share.getUrl",e),copy:e=>a("share.copy",e)}}}();window.MiniAppSDK=e,e.invoke("getConfig").then(e=>{e&&"object"==typeof e&&(Se=e)}).catch(()=>{}),t(e)}else a(new Error("SDK timeout"))},e),l=()=>{if(clearTimeout(n),window.removeEventListener("miniapp-sdk-ready",l),window.MiniAppSDK){if(!Ie(window.MiniAppSDK))return void a(new Error("SDK validation failed"));t(window.MiniAppSDK)}else a(new Error("SDK not found"))};window.addEventListener("miniapp-sdk-ready",l)})}function Te(){return"undefined"==typeof window?null:window.MiniAppSDK??null}const ze=new Set;let Ee={connected:!1,address:null,balance:null},Be=null,Me=!1;"undefined"!=typeof window&&("undefined"!=typeof window&&(Me&&Be||(Be=e=>{if(e.source!==window.parent)return;if(!Ce.isValid(e.origin))return;const t=e.data;t&&"object"==typeof t&&("miniapp_config"!==t.type?"miniapp_wallet_state_change"===t.type&&(Ee={connected:Boolean(t.connected),address:t.address||null,chainId:t.chainId??null,chainType:t.chainType??null,balance:t.balance||t.multiChainBalance||null,balances:t.balances||void 0},ze.forEach(e=>{try{e(Ee)}catch(t){console.error("[MiniApp SDK] Wallet state listener error:",t)}})):t.config&&"object"==typeof t.config&&(Se=t.config))},window.addEventListener("message",Be),Me=!0)),setTimeout(function(){if("undefined"==typeof window)return;const e=Ce.getSafeTargetOrigin();try{window.parent.postMessage({type:"miniapp_ready"},e)}catch{}},_e));class Pe extends Error{constructor(e,t){super(e),this.statusCode=t,this.name="HttpError"}}const Ge={maxRetries:3,baseDelayMs:1e3,maxDelayMs:1e4};function Re(e,t){return Math.min(t.baseDelayMs*Math.pow(2,e),t.maxDelayMs)*(.75+.5*Math.random())}function De(e,t){if(t&&t>=500)return!0;if(429===t)return!0;if(e instanceof Error){const t=e.message.toLowerCase();return t.includes("network")||t.includes("timeout")||t.includes("abort")}return!1}async function Ne(e,t){var a;if("undefined"!=typeof uni&&"function"==typeof C)return new Promise((a,n)=>{const l=(e=>{if(e){if(e instanceof Headers){const t={};return e.forEach((e,a)=>{t[a]=e}),t}return Array.isArray(e)?Object.fromEntries(e):e}})(t.headers),o=String((null==l?void 0:l["Content-Type"])||(null==l?void 0:l["content-type"])||"");let i=t.body;if("string"==typeof i&&o.includes("application/json"))try{i=JSON.parse(i)}catch{}C({url:e,method:t.method||"GET",data:i,header:l,success:e=>{var t,l;if((e.statusCode??0)>=200&&(e.statusCode??0)<300)a(e.data);else{const a=(null==(l=null==(t=e.data)?void 0:t.error)?void 0:l.message)||`Request failed: ${e.statusCode}`;n(new Pe(a,e.statusCode??0))}},fail:e=>{n(new Error(e.errMsg||"Network error"))}})});const n="undefined"!=typeof window&&e.startsWith(window.location.origin),l=await fetch(e,{credentials:n?"include":"same-origin",...t});if(!l.ok){const t=await l.json().catch(()=>({}));throw new Pe((null==(a=t.error)?void 0:a.message)||`Request failed: ${e}`,l.status)}return l.json()}async function Fe(e){return async function(e,t={}){var a,n;const l=e.startsWith("http")?e:`https://api.neo-service-layer.io${e}`,o={...Ge,...t.retryConfig};let i=null;for(let r=0;r<=o.maxRetries;r++){if(null==(a=t.signal)?void 0:a.aborted)throw new Error("Request cancelled");try{return await Ne(l,t)}catch(s){i=s instanceof Error?s:new Error(String(s));const e=s instanceof Pe?s.statusCode:void 0;if(null==(n=t.signal)?void 0:n.aborted)throw i;if(r>=o.maxRetries)break;if(!De(s,e))break;const a=Re(r,o);await new Promise(e=>setTimeout(e,a))}}throw i||new Error("Request failed")}(e,{method:"GET"})}let Oe=null;function Le(){const e=y(null),t=y({}),n=y(null),l=y(null),o=y(null),i=y([]),s=y(!1),r=y(!1),c=y(null),d=y(!1),u=y(null),h=a=>{a.connected&&a.address?(e.value=a.address,s.value=!0):(e.value=null,s.value=!1),n.value=a.chainId??null,l.value=a.chainType??null,t.value=(e=>{if(!e)return{};if(e.balances&&Object.keys(e.balances).length>0)return{...e.balances};if(e.balance){const t={};return t[e.balance.nativeSymbol||("neo-n3"===e.chainType?"GAS":"NATIVE")]=e.balance.native||"0",(e.balance.governance||e.balance.governanceSymbol)&&(t[e.balance.governanceSymbol||("neo-n3"===e.chainType?"NEO":"GOV")]=e.balance.governance||"0"),t}return{}})(a)},p=e=>{e&&(o.value=e.chainId??null,i.value=Array.isArray(e.supportedChains)?e.supportedChains:[])},f=async()=>{var e;const t=await xe(),a=null==(e=t.getConfig)?void 0:e.call(t);return p(a),a},v=async e=>{const t=await xe();if(!t.wallet.switchChain)throw new Error("switchChain not supported by SDK");await t.wallet.switchChain(e),n.value=e};let g=null;return a(()=>{var t;h(Ee),t=e=>{h(e)},ze.add(t),t(Ee),g=()=>ze.delete(t);const a=Te();(null==a?void 0:a.getConfig)&&p(a.getConfig()),a&&!s.value&&(e=>e?(Oe||(Oe=e.wallet.getAddress().then(e=>e||null).catch(e=>{const t=e instanceof Error?e.message:String(e);return console.debug("[MiniApp SDK] Fallback wallet connection failed:",t),null}).finally(()=>{Oe=null})),Oe):Promise.resolve(null))(a).then(t=>{var o;if(!s.value&&t){e.value=t,s.value=!0;const i=null==(o=a.getConfig)?void 0:o.call(a);n.value=(null==i?void 0:i.chainId)??null,l.value=(null==i?void 0:i.chainType)??null,p(i)}}),xe().then(e=>{var t;return p(null==(t=e.getConfig)?void 0:t.call(e))}).catch(()=>{})}),S(()=>{g&&g()}),{address:e,chainId:n,chainType:l,appChainId:o,supportedChains:i,balances:t,isConnected:s,isLoading:r,error:c,showConnectionPrompt:d,connectionPromptMessage:u,connect:async()=>{var t;r.value=!0,c.value=null;try{const a=await xe(),o=await a.wallet.getAddress();if(!o)throw new Error("wallet returned empty address");e.value=o,s.value=!0;const i=null==(t=a.getConfig)?void 0:t.call(a);n.value=(null==i?void 0:i.chainId)??null,l.value=(null==i?void 0:i.chainType)??null,p(i)}catch(a){c.value=a}finally{r.value=!1}},invokeIntent:async e=>{var t;const a=Te();if(!(null==(t=null==a?void 0:a.wallet)?void 0:t.invokeIntent))throw new Error("invokeIntent not available");return a.wallet.invokeIntent(e)},invokeContract:async e=>{var t;const a=await xe(),n=null==(t=a.getConfig)?void 0:t.call(a),l=e.contractAddress||e.scriptHash||e.contractHash,o=e.method||e.operation;if(!l||!o)throw new Error("contract address and method required");return a.invoke("invokeFunction",{contract:l,method:o,args:e.args,chainId:null==n?void 0:n.chainId,chainType:null==n?void 0:n.chainType})},invokeRead:async e=>{var t;const a=await xe(),n=null==(t=a.getConfig)?void 0:t.call(a),l=e.contractAddress||e.scriptHash||e.contractHash||(null==n?void 0:n.contractAddress),o=e.method||e.operation;if(!l)throw new Error("contract address not configured");if(!o)throw new Error("method required");return a.invoke("invokeRead",{contract:l,method:o,args:e.args||[],chainId:e.chainId||(null==n?void 0:n.chainId),chainType:e.chainType||(null==n?void 0:n.chainType)})},getContractAddress:async()=>{var e,t,a,n,l;const o=await xe(),i=null==(e=o.getConfig)?void 0:e.call(o);if(null==i?void 0:i.contractAddress)return i.contractAddress;if((null==i?void 0:i.chainId)&&(null==(a=null==(t=null==i?void 0:i.chainContracts)?void 0:t[i.chainId])?void 0:a.address))return i.chainContracts[i.chainId].address||null;if(o.invoke)try{const e=await o.invoke("getConfig");if(null==e?void 0:e.contractAddress)return e.contractAddress;if((null==e?void 0:e.chainId)&&(null==(l=null==(n=null==e?void 0:e.chainContracts)?void 0:n[e.chainId])?void 0:l.address))return e.chainContracts[e.chainId].address||null}catch{}return null},getAppConfig:f,getAddress:async()=>(await xe()).wallet.getAddress(),signMessage:async e=>{var t;const a=await xe();if(!(null==(t=a.wallet)?void 0:t.signMessage))throw new Error("signMessage not available");return a.wallet.signMessage(e)},switchChain:v,switchToAppChain:async e=>{const t=await f(),a=(null==t?void 0:t.chainId)||(Array.isArray(null==t?void 0:t.supportedChains)&&t.supportedChains.length>0?t.supportedChains[0]:null)||e||null;if(!a)throw new Error("app chain not configured");await v(a)},getBalance:async e=>{var a;r.value=!0,c.value=null;try{const l=await xe(),o=null==(a=l.getConfig)?void 0:a.call(l),i=(null==o?void 0:o.chainId)||n.value,s=i?`?chain_id=${encodeURIComponent(i)}`:"",r=await Fe(`/wallet-balance${s}`),c=(null==r?void 0:r.balances)??{};return t.value=c,e?c[e]||"0":c}catch(l){throw c.value=l,l}finally{r.value=!1}},getTransactions:async(e=20)=>{var t;r.value=!0,c.value=null;try{const a=Number.isNaN(e)||e<1?20:Math.min(e,100),l=await xe(),o=null==(t=l.getConfig)?void 0:t.call(l),i=(null==o?void 0:o.chainId)||n.value,s=new URLSearchParams({limit:String(a)});i&&s.set("chain_id",i);const r=await Fe(`/wallet-transactions?${s.toString()}`);return(null==r?void 0:r.transactions)??[]}catch(a){throw c.value=a,a}finally{r.value=!1}},invoke:async(e,t)=>(await xe()).invoke(e,t),requireConnection:(e={})=>{const{showPrompt:t=!0,errorMessage:a}=e;return!!s.value||(t&&(u.value=a||null,d.value=!0),!1)},closeConnectionPrompt:()=>{d.value=!1,u.value=null},clearError:()=>{c.value=null}}}function $e(e,t){const{payGAS:a}=function(e){const{isLoading:t,error:a,execute:n}=Y(async(t,a)=>{const n=parseFloat(t);if(Number.isNaN(n)||n<=0)throw new Error("Invalid amount: must be a positive number");const l=await H();return l.payments.payGASAndInvoke?await l.payments.payGASAndInvoke(e,t,a):await l.payments.payGAS(e,t,a)});return{isLoading:t,error:a,payGAS:n}}(),{address:n,connect:l,invokeContract:o}=ie(),{list:i}=function(){const e=Y(async(e={})=>{var t;const a=await H();if(!(null==(t=a.events)?void 0:t.list))throw new Error("events.list not available");return await a.events.list(e)}),t=Y(async(e,t)=>{var a;const n=String(e||"").trim();if(!n)throw new Error("eventName required");const l=await H();if(!(null==(a=l.events)?void 0:a.emit))throw new Error("events.emit not available");return await l.events.emit(n,t||{})});return{isLoading:e.isLoading,error:e.error,list:e.execute,isEmitting:t.isLoading,emitError:t.error,emit:t.execute}}(),s=y(!1),r=y(null),c=y(!1);return{isProcessing:s,isLoading:s,error:r,success:c,processPayment:async(d,u)=>{try{if(n.value||await l(),!n.value)throw new Error("Wallet not connected");s.value=!0,r.value=null;const h=(await a(d,u)).receipt_id||"",p=async(t,a,n=3e4)=>async function(e,t,a){const{timeoutMs:n=3e4,pollIntervalMs:l=1500,errorMessage:o="Event not found in time"}=a||{},i=Date.now();for(;Date.now()-i<n;){const a=(await e()).find(t);if(a)return a;await new Promise(e=>setTimeout(e,l))}throw new Error(o)}(async()=>(await i({app_id:e,event_name:a,limit:20})).events||[],e=>e.tx_hash===t,{timeoutMs:n,errorMessage:`Event "${a}" not found for transaction ${t}`});return{receiptId:h,invoke:async(e,t,a)=>{let n,l,i;if("string"==typeof t&&Array.isArray(a))n=e,l=t,i=a;else{if(!Array.isArray(t)||"string"!=typeof a)throw new Error("Invalid invoke signature");l=e,i=t,n=a}const s=await o({scriptHash:n,operation:l,args:i});return{txid:s.txid||s.txHash||"",receiptId:h}},waitForEvent:p,triggerSuccess:()=>{var e;c.value=!0,null==(e=null==t?void 0:t.onSuccess)||e.call(t),setTimeout(()=>{c.value=!1},3500)}}}catch(h){throw r.value=h instanceof Error?h:new Error(String(h)),h}finally{s.value=!1}}}}y("en");var Ke=(e=>(e[e.Green=0]="Green",e[e.Red=1]="Red",e[e.Blue=2]="Blue",e[e.Purple=3]="Purple",e[e.Gold=4]="Gold",e))(Ke||{});const We={2:BigInt(1e7),3:BigInt(5e7),4:BigInt(1e8),5:BigInt(25e7)};function Ue(e,t=4){const a="bigint"==typeof e?e:BigInt(e||0),n=BigInt(1e8),l=a/n,o=a%n;if(o===BigInt(0))return l.toString();const i=o.toString().padStart(8,"0").slice(0,t).replace(/0+$/,"");return i?`${l}.${i}`:l.toString()}const je=P(e({__name:"PlayerStats",props:{stats:{},t:{type:Function}},setup:e=>(e,t)=>{const a=o,i=c;return n(),l(A(we),{variant:"erobo"},{default:r(()=>[w(a,{class:"stats-display"},{default:r(()=>[w(a,{class:"stat-row"},{default:r(()=>[w(a,{class:"stat-icon"},{default:r(()=>[d("ðŸ“…")]),_:1}),w(i,{class:"stat-label"},{default:r(()=>[d(u(e.t("totalSessions")),1)]),_:1}),w(i,{class:"stat-value"},{default:r(()=>{var t;return[d(u((null==(t=e.stats)?void 0:t.totalSessions)||0),1)]}),_:1})]),_:1}),w(a,{class:"stat-divider"}),w(a,{class:"stat-row"},{default:r(()=>[w(a,{class:"stat-icon"},{default:r(()=>[d("ðŸ’Ž")]),_:1}),w(i,{class:"stat-label"},{default:r(()=>[d(u(e.t("totalRewards")),1)]),_:1}),w(i,{class:"stat-value gold"},{default:r(()=>{var t;return[d(u(A(Ue)((null==(t=e.stats)?void 0:t.totalPaid)||0n,3))+" GAS",1)]}),_:1})]),_:1})]),_:1})]),_:1})}}),[["__scopeId","data-v-978e2c5c"]]),He={0:"#50C878",1:"#FF6B6B",2:"#4ECDC4",3:"#9B59B6",4:"#FFD700"},qe=P(e({__name:"TurtleSprite",props:{color:{},matched:{type:Boolean,default:!1},size:{default:"md"}},setup(e){const a=e,c={[Ke.Red]:{color:"#EF4444",dark:"#991B1B",light:"#F87171",highlight:"#FECACA"},[Ke.Orange]:{color:"#F97316",dark:"#9A3412",light:"#FB923C",highlight:"#FED7AA"},[Ke.Yellow]:{color:"#EAB308",dark:"#854D0E",light:"#FACC15",highlight:"#FEF08A"},[Ke.Green]:{color:"#22C55E",dark:"#166534",light:"#4ADE80",highlight:"#BBF7D0"},[Ke.Blue]:{color:"#3B82F6",dark:"#1E40AF",light:"#60A5FA",highlight:"#BFDBFE"},[Ke.Purple]:{color:"#A855F7",dark:"#6B21A8",light:"#C084FC",highlight:"#E9D5FF"},[Ke.Pink]:{color:"#EC4899",dark:"#9D174D",light:"#F472B6",highlight:"#FBCFE8"},[Ke.Gold]:{color:"#FFD700",dark:"#92400E",light:"#FDE047",highlight:"#FFFBEB"}},d=t(()=>c[a.color]||c[Ke.Green]),u=t(()=>{switch(a.size){case"sm":return"40px";case"lg":return"120px";default:return"80px"}});return(e,t)=>{const a=o;return n(),l(a,{class:s(["turtle-container",{"is-matched":e.matched}]),style:i({width:u.value,height:u.value})},{default:r(()=>[(n(),h("svg",{viewBox:"0 0 200 200",xmlns:"http://www.w3.org/2000/svg",class:"turtle-svg"},[M("defs",null,[M("radialGradient",{id:"shellGrad-"+e.color,cx:"40%",cy:"40%",r:"60%"},[M("stop",{offset:"0%","stop-color":d.value.highlight},null,8,["stop-color"]),M("stop",{offset:"70%","stop-color":d.value.color},null,8,["stop-color"]),M("stop",{offset:"100%","stop-color":d.value.dark},null,8,["stop-color"])],8,["id"]),M("linearGradient",{id:"skinGrad-"+e.color,x1:"0%",y1:"0%",x2:"0%",y2:"100%"},[M("stop",{offset:"0%","stop-color":d.value.light},null,8,["stop-color"]),M("stop",{offset:"100%","stop-color":d.value.dark},null,8,["stop-color"])],8,["id"]),M("radialGradient",{id:"eyeGrad",cx:"30%",cy:"30%",r:"80%"},[M("stop",{offset:"0%","stop-color":"#FFFFFF"}),M("stop",{offset:"100%","stop-color":"#E5E7EB"})]),M("filter",{id:"refraction-"+e.color,x:"-20%",y:"-20%",width:"140%",height:"140%"},[M("feGaussianBlur",{in:"SourceAlpha",stdDeviation:"1.5",result:"blur"}),M("feSpecularLighting",{in:"blur",surfaceScale:"5",specularConstant:"0.7",specularExponent:"30","lighting-color":d.value.highlight,result:"spec"},[M("fePointLight",{x:"-50",y:"-100",z:"200"})],8,["lighting-color"]),M("feComposite",{in:"spec",in2:"SourceAlpha",operator:"in",result:"specOut"}),M("feComposite",{in:"SourceGraphic",in2:"specOut",operator:"arithmetic",k1:"0",k2:"1",k3:"1",k4:"0"})],8,["id"]),M("filter",{id:"dropShadow",x:"-20%",y:"-20%",width:"140%",height:"140%"},[M("feDropShadow",{dx:"0",dy:"5",stdDeviation:"3","flood-opacity":"0.3"})])]),M("g",{class:"turtle-body"},[M("ellipse",{cx:"100",cy:"160",rx:"70",ry:"15",fill:"#000000",opacity:"0.15",class:"floor-shadow"}),M("g",{filter:"url(#refraction-"+e.color+")"},[M("g",{class:"turtle-limbs"},[M("ellipse",{cx:"60",cy:"140",rx:"18",ry:"12",fill:"url(#skinGrad-"+e.color+")",transform:"rotate(-20 60 140)"},null,8,["fill"]),M("ellipse",{cx:"140",cy:"140",rx:"18",ry:"12",fill:"url(#skinGrad-"+e.color+")",transform:"rotate(20 140 140)"},null,8,["fill"]),M("ellipse",{cx:"50",cy:"85",rx:"18",ry:"12",fill:"url(#skinGrad-"+e.color+")",transform:"rotate(30 50 85)"},null,8,["fill"]),M("ellipse",{cx:"150",cy:"85",rx:"18",ry:"12",fill:"url(#skinGrad-"+e.color+")",transform:"rotate(-30 150 85)"},null,8,["fill"])]),M("g",{class:"turtle-head"},[M("ellipse",{cx:"100",cy:"55",rx:"30",ry:"28",fill:"url(#skinGrad-"+e.color+")"},null,8,["fill"]),M("g",{class:"eyes"},[M("circle",{cx:"85",cy:"50",r:"8",fill:"url(#eyeGrad)",stroke:"#ccc","stroke-width":"0.5"}),M("circle",{cx:"85",cy:"50",r:"3",fill:"#1F2937"}),M("circle",{cx:"87",cy:"48",r:"1.5",fill:"white"}),M("circle",{cx:"115",cy:"50",r:"8",fill:"url(#eyeGrad)",stroke:"#ccc","stroke-width":"0.5"}),M("circle",{cx:"115",cy:"50",r:"3",fill:"#1F2937"}),M("circle",{cx:"113",cy:"48",r:"1.5",fill:"white"})]),M("path",{d:"M90 65 Q 100 72 110 65",fill:"none",stroke:"rgba(0,0,0,0.3)","stroke-width":"2","stroke-linecap":"round"})]),M("g",{class:"turtle-shell"},[M("ellipse",{cx:"100",cy:"105",rx:"70",ry:"60",fill:"url(#shellGrad-"+e.color+")",filter:"url(#dropShadow)"},null,8,["fill"]),M("ellipse",{cx:"100",cy:"105",rx:"65",ry:"55",fill:"none",stroke:d.value.highlight,"stroke-width":"2",opacity:"0.1",class:"shell-pulse"},null,8,["stroke"]),M("g",{opacity:"0.2"},[M("path",{d:"M100 65 L 125 80 L 125 110 L 100 125 L 75 110 L 75 80 Z",fill:"none",stroke:d.value.highlight,"stroke-width":"1.5"},null,8,["stroke"]),M("circle",{cx:"100",cy:"105",r:"40",fill:"none",stroke:d.value.highlight,"stroke-width":"0.5","stroke-dasharray":"2,2"},null,8,["stroke"])]),M("path",{d:"M50 105 Q 50 65 100 55 Q 150 65 150 105",fill:"none",stroke:"white","stroke-width":"4",opacity:"0.3","stroke-linecap":"round"}),M("ellipse",{cx:"85",cy:"75",rx:"20",ry:"12",transform:"rotate(-30 85 75)",fill:"white",opacity:"0.35",filter:"blur(4px)"})])],8,["filter"])])]))]),_:1},8,["class","style"])}}}),[["__scopeId","data-v-57daaf56"]]),Ve=P(e({__name:"TurtleGrid",props:{gridTurtles:{},matchedPair:{}},setup(e){const a=e,i=t(()=>a.matchedPair&&0!==a.matchedPair.length?a.matchedPair.map(e=>{var t;return null==(t=a.gridTurtles[e])?void 0:t.id}).filter(e=>void 0!==e):[]);return(e,t)=>{const a=o;return n(),l(a,{class:"turtle-grid-wrapper"},{default:r(()=>[w(a,{class:"pond-waves"},{default:r(()=>[w(a,{class:"wave wave1"}),w(a,{class:"wave wave2"}),w(a,{class:"wave wave3"}),w(a,{class:"grass-shadows"},{default:r(()=>[w(a,{class:"grass grass1"}),w(a,{class:"grass grass2"})]),_:1})]),_:1}),w(a,{class:"turtle-grid"},{default:r(()=>[(n(!0),h(f,null,p(e.gridTurtles,(e,t)=>(n(),l(a,{key:t,class:s(["turtle-grid__cell",{"turtle-grid__cell--empty":!e,"turtle-grid__cell--matched":!!e&&i.value.includes(e.id)}])},{default:r(()=>[e?(n(),l(qe,{key:0,color:e.color,matched:i.value.includes(e.id),size:"md"},null,8,["color","matched"])):(n(),l(a,{key:1,class:"turtle-grid__placeholder"},{default:r(()=>[w(a,{class:"ripple-effect"})]),_:1}))]),_:2},1032,["class"]))),128))]),_:1})]),_:1})}}}),[["__scopeId","data-v-b9bd5d13"]]),Qe=P(e({__name:"GameBoard",props:{remainingBoxes:{},currentMatches:{},currentReward:{},gridTurtles:{},matchedPair:{},gamePhase:{},loading:{type:Boolean},t:{type:Function}},emits:["settle","newGame"],setup:e=>(e,t)=>{const a=c,i=o;return n(),l(i,{class:"game-board"},{default:r(()=>[w(i,{class:"game-stats-row"},{default:r(()=>[w(i,{class:"stat-bubble"},{default:r(()=>[w(a,{class:"bubble-label"},{default:r(()=>[d(u(e.t("remainingBoxes")),1)]),_:1}),w(a,{class:"bubble-value"},{default:r(()=>[d(u(e.remainingBoxes),1)]),_:1})]),_:1}),w(i,{class:"stat-bubble"},{default:r(()=>[w(a,{class:"bubble-label"},{default:r(()=>[d(u(e.t("matches")),1)]),_:1}),w(a,{class:"bubble-value"},{default:r(()=>[d(u(e.currentMatches),1)]),_:1})]),_:1}),w(i,{class:"stat-bubble highlight"},{default:r(()=>[w(a,{class:"bubble-label"},{default:r(()=>[d(u(e.t("won")),1)]),_:1}),w(a,{class:"bubble-value gold"},{default:r(()=>[d(u(A(Ue)(e.currentReward||0n,3))+" GAS",1)]),_:1})]),_:1})]),_:1}),w(i,{class:"grid-container"},{default:r(()=>[w(Ve,{gridTurtles:e.gridTurtles,matchedPair:e.matchedPair},null,8,["gridTurtles","matchedPair"])]),_:1}),w(i,{class:"game-actions"},{default:r(()=>["playing"===e.gamePhase?(n(),l(i,{key:0,class:"auto-play-status"},{default:r(()=>[w(i,{class:"auto-play-waves"},{default:r(()=>[w(i,{class:"p-wave"}),w(i,{class:"p-wave"})]),_:1}),w(a,{class:"auto-play-text"},{default:r(()=>[d(u(e.t("autoOpening")),1)]),_:1})]),_:1})):"settling"===e.gamePhase?(n(),l(A(ue),{key:1,variant:"primary",size:"lg",block:"",onClick:t[0]||(t[0]=t=>e.$emit("settle")),loading:e.loading},{default:r(()=>[d(u(e.t("settleRewards")),1)]),_:1},8,["loading"])):"complete"===e.gamePhase?(n(),l(A(ue),{key:2,variant:"secondary",block:"",onClick:t[1]||(t[1]=t=>e.$emit("newGame"))},{default:r(()=>[d(u(e.t("newGame")),1)]),_:1})):m("",!0)]),_:1})]),_:1})}}),[["__scopeId","data-v-298830e0"]]),Je=P(e({__name:"BlindboxOpening",props:{visible:{type:Boolean},turtleColor:{}},emits:["complete"],setup(e,{emit:a}){const v=e,g=a,{t:b}=me(),_=y(!1),k=y(!1),C=t(()=>He[v.turtleColor]);return x(()=>v.visible,e=>{e&&(_.value=!1,k.value=!1,setTimeout(()=>{_.value=!0},200),setTimeout(()=>{k.value=!0},1e3),setTimeout(()=>{g("complete")},2500))}),(e,t)=>{const a=o,v=c;return e.visible?(n(),l(a,{key:0,class:"blindbox-opening"},{default:r(()=>[w(a,{class:"blindbox-opening__backdrop"}),w(a,{class:s(["capsule-container",{"capsule-container--opening":_.value}])},{default:r(()=>[w(a,{class:"capsule"},{default:r(()=>[w(a,{class:"capsule-top"},{default:r(()=>[w(a,{class:"capsule-rim"}),w(a,{class:"hologram-scanner"})]),_:1}),w(a,{class:"capsule-bottom"},{default:r(()=>[w(a,{class:"capsule-glow"})]),_:1}),w(a,{class:"capsule-core"},{default:r(()=>[w(v,{class:"core-text"},{default:r(()=>[d(u(A(b)("neoSymbol")),1)]),_:1})]),_:1})]),_:1}),_.value?(n(),l(a,{key:0,class:"projection-beam"})):m("",!0),_.value?(n(),l(a,{key:1,class:"energy-beam"})):m("",!0)]),_:1},8,["class"]),k.value?(n(),l(a,{key:0,class:"blindbox-opening__reveal"},{default:r(()=>[w(a,{class:"reveal-glow",style:i({"--glow-color":C.value})},null,8,["style"]),w(qe,{color:e.turtleColor,size:"lg"},null,8,["color"])]),_:1})):m("",!0),_.value?(n(),l(a,{key:1,class:"blindbox-opening__particles"},{default:r(()=>[(n(),h(f,null,p(16,e=>w(a,{key:e,class:"blindbox-opening__particle"})),64))]),_:1})):m("",!0)]),_:1})):m("",!0)}}}),[["__scopeId","data-v-1bc420aa"]]),Xe=P(e({__name:"MatchCelebration",props:{visible:{type:Boolean},turtleColor:{},reward:{}},emits:["complete"],setup(e,{emit:a}){const s=e,v=a,{t:g}=me(),b=t(()=>He[s.turtleColor]),y=t(()=>(Number(s.reward)/1e8).toFixed(3));return x(()=>s.visible,e=>{e&&setTimeout(()=>{v("complete")},2500)}),(e,t)=>{const a=o,s=c;return e.visible?(n(),l(a,{key:0,class:"match-celebration"},{default:r(()=>[w(a,{class:"match-celebration__backdrop",style:i({"--celebration-color":b.value})},null,8,["style"]),w(a,{class:"light-rays"},{default:r(()=>[(n(),h(f,null,p(12,e=>w(a,{key:e,class:"ray",style:i({"--angle":30*e+"deg"})},null,8,["style"])),64))]),_:1}),w(a,{class:"match-view"},{default:r(()=>[w(a,{class:"match-turtle left"},{default:r(()=>[w(qe,{color:e.turtleColor,matched:"",size:"lg"},null,8,["color"])]),_:1}),w(a,{class:"match-text"},{default:r(()=>[d(u(A(g)("matchLabel")),1)]),_:1}),w(a,{class:"match-turtle right"},{default:r(()=>[w(qe,{color:e.turtleColor,matched:"",size:"lg"},null,8,["color"])]),_:1})]),_:1}),w(a,{class:"reward-card"},{default:r(()=>[w(s,{class:"reward-title"},{default:r(()=>[d(u(A(g)("rewardLabel")),1)]),_:1}),w(a,{class:"reward-amount"},{default:r(()=>[w(s,{class:"amount-val"},{default:r(()=>[d("+"+u(y.value),1)]),_:1}),w(s,{class:"amount-unit"},{default:r(()=>[d("GAS")]),_:1})]),_:1})]),_:1}),w(a,{class:"fx-layer"},{default:r(()=>[(n(),h(f,null,p(15,e=>w(a,{key:"s"+e,class:"sparkle"})),64)),(n(),h(f,null,p(10,e=>w(a,{key:"c"+e,class:"flying-coin"},{default:r(()=>[(n(),h("svg",{viewBox:"0 0 100 100",class:"holo-coin"},[M("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:"#fbbf24","stroke-width":"2"}),M("circle",{cx:"50",cy:"50",r:"35",fill:"rgba(251, 191, 36, 0.2)",stroke:"#fbbf24","stroke-width":"1"}),M("path",{d:"M40 35 L60 35 L60 45 L40 65 L60 65",fill:"none",stroke:"white","stroke-width":"5"})]))]),_:2},1024)),64))]),_:1})]),_:1})):m("",!0)}}}),[["__scopeId","data-v-9d14ea8e"]]),Ye=P(e({__name:"GameResult",props:{visible:{type:Boolean},matches:{},reward:{},boxCount:{}},emits:["close"],setup(e){const a=e,{t:i}=me(),s=t(()=>(Number(a.reward)/1e8).toFixed(3));return(e,t)=>{const a=o,v=c;return e.visible?(n(),l(a,{key:0,class:"game-result"},{default:r(()=>[w(a,{class:"result-backdrop"}),w(a,{class:"result-card"},{default:r(()=>[w(a,{class:"title-area"},{default:r(()=>[w(v,{class:"congrats-text"},{default:r(()=>[d(u(A(i)("sessionComplete")),1)]),_:1}),w(a,{class:"glow-line"})]),_:1}),w(a,{class:"stats-grid"},{default:r(()=>[w(a,{class:"stat-item"},{default:r(()=>[w(v,{class:"stat-label"},{default:r(()=>[d(u(A(i)("totalMatchesLabel")),1)]),_:1}),w(v,{class:"stat-value"},{default:r(()=>[d(u(e.matches),1)]),_:1})]),_:1}),w(a,{class:"stat-item highlight"},{default:r(()=>[w(v,{class:"stat-label"},{default:r(()=>[d(u(A(i)("totalEarnedLabel")),1)]),_:1}),w(v,{class:"stat-value gold"},{default:r(()=>[d(u(s.value)+" GAS",1)]),_:1})]),_:1}),w(a,{class:"stat-item"},{default:r(()=>[w(v,{class:"stat-label"},{default:r(()=>[d(u(A(i)("boxesOpenedLabel")),1)]),_:1}),w(v,{class:"stat-value"},{default:r(()=>[d(u(e.boxCount),1)]),_:1})]),_:1})]),_:1}),w(a,{class:"action-area"},{default:r(()=>[w(A(ue),{variant:"primary",size:"lg",block:"",onClick:t[0]||(t[0]=t=>e.$emit("close"))},{default:r(()=>[d(u(A(i)("confirmSettlement")),1)]),_:1})]),_:1})]),_:1}),w(a,{class:"result-fx"},{default:r(()=>[(n(),h(f,null,p(20,e=>w(a,{key:e,class:"sparkle"})),64))]),_:1})]),_:1})):m("",!0)}}}),[["__scopeId","data-v-6c5165c9"]]),Ze=P(e({__name:"GameSplash",props:{visible:{type:Boolean}},emits:["complete"],setup(e,{emit:t}){const{t:i}=me(),h=y(!1),p=t;return a(()=>{setTimeout(()=>{h.value=!0,setTimeout(()=>{p("complete")},800)},2500)}),(e,t)=>{const a=o,p=c;return e.visible?(n(),l(a,{key:0,class:s(["game-splash",{"splash-exit":h.value}])},{default:r(()=>[w(a,{class:"splash-content"},{default:r(()=>[w(a,{class:"logo-container"},{default:r(()=>[w(a,{class:"turtle-glow"}),w(qe,{color:A(Ke).Gold,matched:"",size:"lg"},null,8,["color"])]),_:1}),w(a,{class:"title-container"},{default:r(()=>[w(p,{class:"game-name"},{default:r(()=>[d(u(A(i)("splashTitle")),1)]),_:1}),w(p,{class:"game-subtitle"},{default:r(()=>[d(u(A(i)("splashSubtitle")),1)]),_:1})]),_:1}),w(a,{class:"loading-bar"},{default:r(()=>[w(a,{class:"loading-progress"})]),_:1})]),_:1})]),_:1},8,["class"])):m("",!0)}}}),[["__scopeId","data-v-22c66e95"]]),et=P(e({__name:"index",setup(e){const{t:i}=me(),s=t(()=>[{id:"play",icon:"game",label:i("tabPlay")},{id:"guide",icon:"activity",label:i("tabGuide")},{id:"community",icon:"heart",label:i("tabCommunity")},{id:"docs",icon:"book",label:i("docs")}]),v=t(()=>[{title:i("connectWallet"),detail:i("docStep1")},{title:i("buyBlindbox"),detail:i("docStep2")},{title:i("settleRewards"),detail:i("docStep4")}]),g=t(()=>[i("docFeature1Desc"),i("docFeature2Desc"),i("docFeature3Desc")]),b=t(()=>[i("docStep1"),i("docStep2"),i("docStep3"),i("docStep4")]),_=t(()=>[{user:"@neo-player",score:"â˜…â˜…â˜…â˜…â˜…",comment:"Game flow is crystal clear. Connect, open, settle â€” done.",tag:"Fast settlement"},{user:"@gas-hunter",score:"â˜…â˜…â˜…â˜…â˜†",comment:"Operation panel is easy to follow, no confusion on transaction steps.",tag:"Great UX"},{user:"@turtle-collector",score:"â˜…â˜…â˜…â˜…â˜…",comment:"Excellent mobile layout and clean desktop split-view for wallet actions.",tag:"Polished UI"}]),k=t(()=>[i("docStep1"),i("docStep2"),i("docStep3"),i("docStep4")]),C=t(()=>[{name:i("docFeature1Name"),desc:i("docFeature1Desc")},{name:i("docFeature2Name"),desc:i("docFeature2Desc")},{name:i("docFeature3Name"),desc:i("docFeature3Desc")}]),{loading:S,error:I,session:x,stats:T,isConnected:z,hasActiveSession:E,gamePhase:B,connect:M,loadStats:P,startGame:G,settleGame:R}=function(e){const{address:a,connect:n,invokeContract:l,invokeRead:o,getContractAddress:i}=Le(),{processPayment:s}=$e(e),r=y(!1),c=y(null),d=y(null),u=y(null),h=y(!1),p=y("idle"),f=t(()=>!!a.value),v=t(()=>!!d.value),g=async()=>{try{const e=await i();if(!e)return;const[t,a]=await Promise.all([o({contractAddress:e,operation:"totalSessions",args:[]}),o({contractAddress:e,operation:"totalPaid",args:[]})]),n=Number(parseInvokeResult(t)||0),l=BigInt(parseInvokeResult(a)||0);u.value={totalSessions:n,totalPaid:l}}catch(e){console.error("Failed to load stats:",e)}};return{loading:r,error:c,session:d,stats:u,isConnected:f,hasActiveSession:v,isAutoPlaying:h,gamePhase:p,connect:n,loadStats:g,startGame:async e=>{r.value=!0,c.value=null;try{if(a.value||await n(),!a.value)throw new Error("Wallet not connected");const t=await i();if(!t)throw new Error("Contract not available");const l=(.1*e).toFixed(1),{receiptId:o,invoke:r}=await s(l,`turtle:${e}`);if(!o)throw new Error("Payment failed");const c=await r("StartGame",[{type:"Hash160",value:a.value},{type:"Integer",value:String(e)},{type:"Integer",value:String(o)}],t),u=(null==c?void 0:c.txid)||String(Date.now());return d.value={id:u,boxCount:BigInt(e),cost:BigInt(e)*BigInt(1e7)},u}catch(t){return c.value=t.message||"Failed to start game",null}finally{r.value=!1}},settleGame:async()=>{r.value=!0,c.value=null;try{if(!d.value||!a.value)return!1;const e=await i();return!!e&&(await l({contractAddress:e,operation:"SettleGame",args:[{type:"Hash160",value:a.value},{type:"Integer",value:d.value.id}]}),d.value=null,await g(),!0)}catch(e){return c.value=e.message||"Failed to settle game",!1}finally{r.value=!1}}}}("miniapp-turtle-match"),{localGame:D,matchedPairRef:N,remainingBoxes:F,currentReward:O,currentMatches:L,gridTurtles:$,initGame:K,processGameStep:W,resetLocalGame:U}=function(){const e=y(null),a=y([]),n=t(()=>e.value?e.value.turtles.length-e.value.currentBoxIndex:0),l=t(()=>e.value?e.value.totalReward:BigInt(0)),o=t(()=>e.value?e.value.totalMatches:0),i=t(()=>e.value?e.value.turtles:[]);return{localGame:e,matchedPairRef:a,remainingBoxes:n,currentReward:l,currentMatches:o,gridTurtles:i,initGame:t=>{const a=Number(t.boxCount),n=[];for(let e=0;e<a;e++){const t=Math.floor(5*Math.random());n.push({id:e,color:t,isRevealed:!1,isMatched:!1})}e.value={turtles:n,currentBoxIndex:0,totalMatches:0,totalReward:BigInt(0),isComplete:!1,matchHistory:[]}},processGameStep:async()=>{if(!e.value)return{turtle:null,matches:0,reward:BigInt(0),isComplete:!0};const t=e.value;if(t.currentBoxIndex>=t.turtles.length)return t.isComplete=!0,{turtle:null,matches:0,reward:BigInt(0),isComplete:!0};const n=t.turtles[t.currentBoxIndex];n.isRevealed=!0;const l=t.turtles.filter((e,a)=>e.isRevealed&&e.color===n.color&&a<=t.currentBoxIndex);let o=0,i=BigInt(0);return l.length>=3&&0===l.filter(e=>e.isMatched).length&&(o=l.length,i=We[o]||BigInt(0),t.totalReward+=i,t.totalMatches++,l.forEach(e=>{e.isMatched=!0}),a.value=l.map(e=>e.id)),t.currentBoxIndex++,t.currentBoxIndex>=t.turtles.length&&(t.isComplete=!0),{turtle:n,matches:o,reward:i,isComplete:t.isComplete}},resetLocalGame:()=>{e.value=null,a.value=[]}}}(),j=y("play"),H=y(5),q=y(!0),V=y(!1),Q=y(!1),J=y(!1),X=y(Ke.Green),Y=y(Ke.Green),Z=y(BigInt(0)),ee=y(!1),te=t(()=>(.1*H.value).toFixed(1));function ae(){H.value<20&&H.value++}function ne(){H.value>3&&H.value--}async function le(){B.value="playing";await G(H.value)&&x.value?(K(x.value),setTimeout(()=>async function(){if(!D.value||ee.value)return;ee.value=!0;for(;!D.value.isComplete;){V.value=!0;const e=await W();e.turtle&&(X.value=e.turtle.color),await new Promise(e=>setTimeout(e,2e3)),V.value=!1,e.matches>0&&(Y.value=X.value,Z.value=e.reward,Q.value=!0,await new Promise(e=>setTimeout(e,2500)),Q.value=!1),await new Promise(e=>setTimeout(e,300))}ee.value=!1,B.value="settling",J.value=!0}(),500)):B.value="idle"}async function oe(){await R()&&(B.value="complete")}function ie(){U(),B.value="idle"}return a(()=>{P()}),(e,t)=>{const a=o,y=c;return n(),l(a,{class:"theme-turtle-match"},{default:r(()=>[w(a,{class:"pond-background"}),w(a,{class:"pond-caustics"}),w(a,{class:"neural-rain"}),w(A(ce),{"desktop-breakpoint":1024,class:"pond-theme",title:A(i)("title"),tabs:s.value,"active-tab":j.value,"show-back":!0,onTabChange:t[4]||(t[4]=e=>j.value=e)},{"desktop-sidebar":r(()=>[w(a,{class:"desktop-sidebar"},{default:r(()=>[w(y,{class:"sidebar-title"},{default:r(()=>[d(u(A(i)("operationFlow")),1)]),_:1}),(n(!0),h(f,null,p(v.value,(e,t)=>(n(),l(a,{key:e.title,class:"sidebar-step"},{default:r(()=>[w(a,{class:"sidebar-step__index"},{default:r(()=>[d(u(t+1),1)]),_:2},1024),w(a,{class:"sidebar-step__body"},{default:r(()=>[w(y,{class:"sidebar-step__title"},{default:r(()=>[d(u(e.title),1)]),_:2},1024),w(y,{class:"sidebar-step__detail"},{default:r(()=>[d(u(e.detail),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128)),w(a,{class:"sidebar-review"},{default:r(()=>[w(y,{class:"sidebar-review__label"},{default:r(()=>[d(u(A(i)("communityReviews")),1)]),_:1}),w(y,{class:"sidebar-review__score"},{default:r(()=>[d("4.8/5")]),_:1}),w(y,{class:"sidebar-review__meta"},{default:r(()=>[d("127 verified sessions")]),_:1})]),_:1})]),_:1})]),default:r(()=>{var e;return[w(A(se),{title:A(i)("wrongChain"),message:A(i)("wrongChainMessage"),"button-text":A(i)("switchToNeo")},null,8,["title","message","button-text"]),"play"===j.value?(n(),l(a,{key:0,class:"tab-content"},{default:r(()=>[w(a,{class:"game-container"},{default:r(()=>[w(a,{class:"game-header"},{default:r(()=>[w(je,{stats:A(T),t:A(i)},null,8,["stats","t"])]),_:1}),A(I)?(n(),l(a,{key:0,class:"error-banner"},{default:r(()=>[w(y,{class:"error-text"},{default:r(()=>[d(u(A(I)),1)]),_:1})]),_:1})):m("",!0),A(z)?A(E)?(n(),l(a,{key:3,class:"game-area"},{default:r(()=>[w(Qe,{remainingBoxes:A(F),currentMatches:A(L),currentReward:A(O),gridTurtles:A($),matchedPair:A(N),gamePhase:A(B),loading:A(S),t:A(i),onSettle:oe,onNewGame:ie},null,8,["remainingBoxes","currentMatches","currentReward","gridTurtles","matchedPair","gamePhase","loading","t"])]),_:1})):(n(),l(a,{key:2,class:"purchase-section"},{default:r(()=>[w(a,{class:"purchase-grid"},{default:r(()=>[w(A(we),{variant:"erobo-neo",class:"purchase-card"},{default:r(()=>[w(a,{class:"purchase-section__content"},{default:r(()=>[w(y,{class:"purchase-section__title"},{default:r(()=>[d(u(A(i)("buyBlindbox")),1)]),_:1}),w(y,{class:"purchase-section__price"},{default:r(()=>[d("0.1 GAS / "+u(A(i)("box")),1)]),_:1}),w(a,{class:"purchase-section__counter"},{default:r(()=>[w(a,{class:"counter-btn",onClick:ne},{default:r(()=>[w(y,{class:"btn-icon"},{default:r(()=>[d("-")]),_:1})]),_:1}),w(y,{class:"counter-value"},{default:r(()=>[d(u(H.value),1)]),_:1}),w(a,{class:"counter-btn",onClick:ae},{default:r(()=>[w(y,{class:"btn-icon"},{default:r(()=>[d("+")]),_:1})]),_:1})]),_:1}),w(a,{class:"purchase-section__total"},{default:r(()=>[w(y,{class:"total-label"},{default:r(()=>[d(u(A(i)("totalPrice")),1)]),_:1}),w(y,{class:"total-value"},{default:r(()=>[d(u(te.value)+" GAS",1)]),_:1})]),_:1}),w(A(ue),{variant:"primary",size:"lg",block:"",onClick:le,loading:A(S)},{default:r(()=>[d(u(A(i)("startGame")),1)]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1})]),_:1})):(n(),l(a,{key:1,class:"connect-prompt"},{default:r(()=>[w(A(we),{variant:"erobo"},{default:r(()=>[w(a,{class:"connect-prompt__content"},{default:r(()=>[w(a,{class:"hero-turtle"},{default:r(()=>[w(qe,{color:A(Ke).Green,matched:""},null,8,["color"])]),_:1}),w(y,{class:"connect-prompt__title"},{default:r(()=>[d(u(A(i)("title")),1)]),_:1}),w(y,{class:"connect-prompt__desc"},{default:r(()=>[d(u(A(i)("description")),1)]),_:1}),w(A(ue),{variant:"primary",size:"lg",onClick:A(M),loading:A(S)},{default:r(()=>[d(u(A(i)("connectWallet")),1)]),_:1},8,["onClick","loading"])]),_:1})]),_:1})]),_:1}))]),_:1})]),_:1})):m("",!0),"guide"===j.value?(n(),l(a,{key:1,class:"tab-content"},{default:r(()=>[w(a,{class:"insight-grid"},{default:r(()=>[w(A(we),{variant:"erobo",class:"insight-card"},{default:r(()=>[w(y,{class:"insight-title"},{default:r(()=>[d(u(A(i)("coreLogicTitle")),1)]),_:1}),w(a,{class:"insight-list"},{default:r(()=>[(n(!0),h(f,null,p(g.value,e=>(n(),l(a,{key:e,class:"insight-item"},{default:r(()=>[w(y,{class:"insight-bullet"},{default:r(()=>[d("â€¢")]),_:1}),w(y,{class:"insight-text"},{default:r(()=>[d(u(e),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),w(A(we),{variant:"erobo-neo",class:"insight-card"},{default:r(()=>[w(y,{class:"insight-title"},{default:r(()=>[d(u(A(i)("operationPanelTitle")),1)]),_:1}),w(a,{class:"insight-list"},{default:r(()=>[(n(!0),h(f,null,p(b.value,e=>(n(),l(a,{key:e,class:"insight-item"},{default:r(()=>[w(y,{class:"insight-bullet"},{default:r(()=>[d("â€¢")]),_:1}),w(y,{class:"insight-text"},{default:r(()=>[d(u(e),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1})):m("",!0),"community"===j.value?(n(),l(a,{key:2,class:"tab-content"},{default:r(()=>[w(a,{class:"community-shell"},{default:r(()=>[w(A(we),{variant:"erobo",class:"community-header"},{default:r(()=>[w(y,{class:"community-title"},{default:r(()=>[d(u(A(i)("communityReviews")),1)]),_:1}),w(y,{class:"community-subtitle"},{default:r(()=>[d(u(A(i)("communityHint")),1)]),_:1})]),_:1}),w(a,{class:"reviews-list"},{default:r(()=>[(n(!0),h(f,null,p(_.value,e=>(n(),l(a,{key:e.user,class:"review-card"},{default:r(()=>[w(a,{class:"review-meta"},{default:r(()=>[w(y,{class:"review-user"},{default:r(()=>[d(u(e.user),1)]),_:2},1024),w(y,{class:"review-score"},{default:r(()=>[d(u(e.score),1)]),_:2},1024)]),_:2},1024),w(y,{class:"review-comment"},{default:r(()=>[d(u(e.comment),1)]),_:2},1024),w(y,{class:"review-tag"},{default:r(()=>[d(u(e.tag),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})):m("",!0),"docs"===j.value?(n(),l(a,{key:3,class:"tab-content"},{default:r(()=>[w(A(ge),{title:A(i)("title"),subtitle:A(i)("docSubtitle"),description:A(i)("docDescription"),steps:k.value,features:C.value},null,8,["title","subtitle","description","steps","features"])]),_:1})):m("",!0),"play"===j.value?(n(),l(Je,{key:4,visible:V.value,turtleColor:X.value,onComplete:t[0]||(t[0]=e=>V.value=!1)},null,8,["visible","turtleColor"])):m("",!0),"play"===j.value?(n(),l(Xe,{key:5,visible:Q.value,turtleColor:Y.value,reward:Z.value,onComplete:t[1]||(t[1]=e=>Q.value=!1)},null,8,["visible","turtleColor","reward"])):m("",!0),"play"===j.value?(n(),l(Ye,{key:6,visible:J.value,matches:A(L),reward:A(O),boxCount:Number((null==(e=A(x))?void 0:e.boxCount)||0),onClose:t[2]||(t[2]=e=>J.value=!1)},null,8,["visible","matches","reward","boxCount"])):m("",!0),"play"===j.value?(n(),l(Ze,{key:7,visible:q.value,onComplete:t[3]||(t[3]=e=>q.value=!1)},null,8,["visible"])):m("",!0)]}),_:1},8,["title","tabs","active-tab"])]),_:1})}}}),[["__scopeId","data-v-455c43cd"]]);export{et as default};
