import{d as e,c as t,o as a,a as n,b as l,i as o,n as s,e as r,w as i,f as c,g as u,t as d,h as f,r as p,F as v,j as h,k as g,l as m,m as w,p as b,q as y,s as _,u as k,v as C,x as S,y as x,z as I,A,B as T,C as E,D as z,E as B,I as M,G as $,H as P,J as G,K as F}from"./index-5Sw9eWXb.js";const R=(e,t)=>{const a=e.__vccOpts||e;for(const[n,l]of t)a[n]=l;return a},D=R(e({__name:"AppIcon",props:{name:{},size:{default:20},label:{},decorative:{type:Boolean,default:!0}},setup(e){const f=e,p={home:"ğŸ ",settings:"âš™ï¸",user:"ğŸ‘¤",wallet:"ğŸ’¼",book:"ğŸ“–",trophy:"ğŸ†",star:"â­",heart:"â¤ï¸",check:"âœ“",clock:"ğŸ•",plus:"â•",add:"â•",close:"âœ•",x:"âœ•",menu:"â˜°",activity:"ğŸ“¡",award:"ğŸ…",archive:"ğŸ—„ï¸",rocket:"ğŸš€",cart:"ğŸ›’",ticket:"ğŸŸï¸",bag:"ğŸ‘œ",trending:"ğŸ“ˆ",chart:"ğŸ“Š",calendar:"ğŸ“…",search:"ğŸ”",filter:"ğŸ”½",edit:"âœï¸",delete:"ğŸ—‘ï¸",copy:"ğŸ“‹",share:"ğŸ“¤",download:"â¬‡ï¸",upload:"â¬†ï¸",success:"âœ“",error:"âœ•",warning:"âš ï¸",info:"â„¹ï¸",loading:"â³",neo:"ğŸ’",gas:"â›½",contract:"ğŸ“œ",chain:"â›“ï¸",block:"ğŸ§±",helpful:"ğŸ¤",generous:"ğŸ",verified:"âœ“",contributor:"â­",champion:"ğŸ†",legend:"ğŸ‘‘",game:"ğŸ®",stats:"ğŸ“Š",docs:"ğŸ“„",about:"â„¹ï¸",contact:"âœ‰ï¸"},v={logout:"â†ª",back:"â†",forward:"â†’",arrowUp:"â†‘",arrowDown:"â†“",arrowLeft:"â†",arrowRight:"â†’",refresh:"â†»"},h=t(()=>{if(!f.label)return f.decorative?"true":void 0}),g=t(()=>f.decorative?"presentation":void 0),m=t(()=>f.label?f.label:f.decorative?void 0:`${f.name} icon`),w=t(()=>f.size<=16?"icon-sm":f.size<=20?"icon-md":f.size<=24?"icon-lg":"icon-xl"),b=t(()=>{if(!w.value||"icon-md"===w.value)return{};const e=f.size;return{width:`${e}px`,height:`${e}px`,fontSize:.6*e+"px"}}),y=t(()=>p[f.name]),_=t(()=>v[f.name]);return a(()=>{f.name,f.name}),(e,t)=>{const a=c,f=o;return n(),l(f,{class:r(["app-icon",`icon-${e.name}`,w.value]),style:s(b.value),"aria-hidden":h.value,"aria-label":m.value,role:g.value},{default:i(()=>[y.value?(n(),l(a,{key:0,class:"icon-emoji","aria-hidden":!0},{default:i(()=>[u(d(y.value),1)]),_:1})):_.value?(n(),l(a,{key:1,class:"icon-text","aria-hidden":!0},{default:i(()=>[u(d(_.value),1)]),_:1})):(n(),l(a,{key:2,class:"icon-fallback","aria-label":`Icon: ${e.name}`},{default:i(()=>[u(d(e.name.charAt(0).toUpperCase()),1)]),_:1},8,["aria-label"]))]),_:1},8,["class","style","aria-hidden","aria-label","role"])}}}),[["__scopeId","data-v-5a7f7e2b"]]),N=R(e({__name:"NavBar",props:{tabs:{},activeTab:{}},emits:["change"],setup(e,{emit:t}){const s=e,w=t,b=e=>{w("change",e)};return a(()=>{if(!s.tabs||0===s.tabs.length)return;s.tabs.some((e,t)=>s.tabs.findIndex(t=>t.id===e.id)!==t)&&console.error("[NavBar] Duplicate tab IDs detected - navigation may not work correctly");!s.tabs.some(e=>e.id===s.activeTab)&&s.activeTab}),(e,t)=>{const a=o,s=c;return n(),l(a,{class:"navbar",role:"tablist","aria-label":"Main navigation"},{default:i(()=>[(n(!0),f(v,null,p(e.tabs,t=>(n(),l(a,{key:t.id,class:r(["nav-item",e.activeTab===t.id&&"active"]),role:"tab",id:`tab-${t.id}`,tabindex:e.activeTab===t.id?0:-1,"aria-label":t.label,"aria-selected":e.activeTab===t.id?"true":"false","aria-controls":`tabpanel-${t.id}`,onClick:e=>b(t.id),onKeydown:[h(e=>b(t.id),["enter"]),h(g(e=>b(t.id),["prevent"]),["space"])]},{default:i(()=>[m(a,{class:"nav-icon","aria-hidden":"true"},{default:i(()=>[m(D,{name:t.icon,size:22},null,8,["name"])]),_:2},1024),m(s,{class:"nav-label"},{default:i(()=>[u(d(t.label),1)]),_:2},1024)]),_:2},1032,["class","id","tabindex","aria-label","aria-selected","aria-controls","onClick","onKeydown"]))),128))]),_:1})}}}),[["__scopeId","data-v-fb1ae8ac"]]),O=R(e({__name:"TopNavBar",props:{title:{},showBack:{type:Boolean}},emits:["back"],setup:e=>(e,t)=>{const a=o,s=c;return n(),l(a,{class:"top-navbar",role:"navigation","aria-label":e.title||"Top navigation"},{default:i(()=>[m(a,{class:"nav-left"},{default:i(()=>[e.showBack?(n(),l(a,{key:0,class:"nav-btn",role:"button",tabindex:"0","aria-label":"Go back",onClick:t[0]||(t[0]=t=>e.$emit("back")),onKeydown:[t[1]||(t[1]=h(t=>e.$emit("back"),["enter"])),t[2]||(t[2]=h(g(t=>e.$emit("back"),["prevent"]),["space"]))]},{default:i(()=>[m(D,{name:"arrow-left",size:20})]),_:1})):w("",!0)]),_:1}),m(a,{class:"nav-center"},{default:i(()=>[m(s,{class:"nav-title"},{default:i(()=>[u(d(e.title),1)]),_:1})]),_:1}),m(a,{class:"nav-right"},{default:i(()=>[b(e.$slots,"right",{},void 0,!0)]),_:3})]),_:3},8,["aria-label"])}}),[["__scopeId","data-v-2a3d315e"]]),L=R(e({__name:"AppLayout",props:{title:{default:""},showTopNav:{type:Boolean,default:!1},showBack:{type:Boolean,default:!1},tabs:{default:()=>[]},activeTab:{default:""},allowScroll:{type:Boolean,default:!0},theme:{default:""}},emits:["back","tab-change"],setup(e,{emit:s}){const c=y(!1),u=e,d=s,f=t(()=>u.activeTab||""),p=()=>{d("back");const e=_();e&&e.length>1&&k({delta:1})};return a(()=>{c.value="undefined"!=typeof window&&"1"===new URLSearchParams(window.location.search).get("embedded"),u.tabs&&u.tabs.length>0&&u.activeTab&&u.tabs.some(e=>e.id===u.activeTab),c.value}),(e,t)=>{const a=o;return n(),l(a,{class:r(["mobile-container",c.value&&"embedded"])},{default:i(()=>[m(a,{class:"aspect-wrapper"},{default:i(()=>[m(a,{class:"app-layout",role:"application","aria-label":"Application layout"},{default:i(()=>[e.showTopNav?(n(),l(O,{key:0,title:e.title??"","show-back":e.showBack,onBack:p},null,8,["title","show-back"])):w("",!0),m(a,{class:r(["app-content",!e.allowScroll&&"no-scroll"]),role:"main",tabindex:e.allowScroll?-1:0},{default:i(()=>[b(e.$slots,"default",{},void 0,!0)]),_:3},8,["class","tabindex"]),e.tabs&&e.tabs.length>0?(n(),l(N,{key:1,tabs:e.tabs,"active-tab":f.value,onChange:t[0]||(t[0]=t=>e.$emit("tab-change",t))},null,8,["tabs","active-tab"])):w("",!0)]),_:3})]),_:3})]),_:3},8,["class"])}}}),[["__scopeId","data-v-066cec47"]]),K=5e3,W=1e4,H=100,U=["https://neomini.app","https://miniapp.neo.org","https://testnet.miniapp.neo.org"];const q=new class{constructor(){this.dynamicOrigins=new Set,this.baseOrigins=new Set([...U])}getSelfOrigin(){if("undefined"==typeof window)return null;try{const e=new URL(window.location.href);if("null"===e.origin)return null;if("http:"===e.protocol||"https:"===e.protocol)return e.origin}catch{}return null}getReferrerOrigin(){if("undefined"==typeof document||!document.referrer)return null;try{return new URL(document.referrer).origin}catch{return null}}getAllowedOrigins(){const e=new Set(this.baseOrigins);this.dynamicOrigins.forEach(t=>e.add(t));const t=this.getReferrerOrigin();t&&this.baseOrigins.has(t)&&e.add(t);const a=this.getSelfOrigin();if(a&&e.add(a),"undefined"!=typeof window){const t=window.location.hostname;"localhost"!==t&&"127.0.0.1"!==t||e.add(window.location.origin)}return e}isValid(e){return!(!e||"null"===e)&&this.getAllowedOrigins().has(e)}getTargetOrigin(){var e;const t=this.getReferrerOrigin();if(t&&this.baseOrigins.has(t))return t;try{if("undefined"!=typeof window&&window.parent!==window&&(null==(e=window.location.ancestorOrigins)?void 0:e.length)>0){const e=window.location.ancestorOrigins[0];if(this.baseOrigins.has(e))return e}}catch{}const a=this.getSelfOrigin();if(a)return a;if("undefined"!=typeof window){const e=window.location.hostname;if("localhost"===e||"127.0.0.1"===e)return window.location.origin}throw new Error("Cannot determine safe target origin - no valid origin found")}getSafeTargetOrigin(){try{const e=this.getTargetOrigin();if(e&&"null"!==e)return e}catch{}if("undefined"!=typeof window&&window.parent!==window){const e=window.__MINIAPP_PARENT_ORIGIN__;if("string"==typeof e&&e&&this.baseOrigins.has(e))return e;throw new Error("Cannot communicate securely with parent - origin unknown. Ensure host app sets __MINIAPP_PARENT_ORIGIN__ or uses a supported browser.")}throw new Error("Cannot determine safe target origin - origin is null or undefined")}addDynamicOrigin(e){e&&"null"!==e&&this.dynamicOrigins.add(e)}};let j=null;function V(e){const t=null==e?void 0:e.layout;if("web"===t||"mobile"===t)return t;if("undefined"!=typeof window){const e=new URLSearchParams(window.location.search).get("layout");if("web"===e||"mobile"===e)return e;if(window.ReactNativeWebView)return"mobile"}return"web"}function J(e){if(!e||"object"!=typeof e)return!1;const t="function"==typeof e.invoke&&"function"==typeof e.getConfig,a="object"==typeof e.wallet||"object"==typeof e.payments;return t||a}function Q(e=K){return new Promise((t,a)=>{if("undefined"==typeof window)return void a(new Error("SDK not available in SSR"));if(window.MiniAppSDK)return J(window.MiniAppSDK)?void t(window.MiniAppSDK):void a(new Error("SDK validation failed"));const n=setTimeout(()=>{if(window.removeEventListener("miniapp-sdk-ready",l),window.parent!==window){const e=function(){const e=q.getSafeTargetOrigin();let t=0;const a=(a,...n)=>new Promise((l,o)=>{const s="undefined"!=typeof crypto&&crypto.getRandomValues?Array.from(crypto.getRandomValues(new Uint8Array(4)),e=>e.toString(16).padStart(2,"0")).join(""):Math.random().toString(36).slice(2,10),r=`sdk-${++t}-${Date.now()}-${s}`,i=setTimeout(()=>{window.removeEventListener("message",c),o(new Error("SDK invoke timeout"))},W),c=e=>{var t,a;q.isValid(e.origin)&&e.source===window.parent&&"miniapp_sdk_response"===(null==(t=e.data)?void 0:t.type)&&(null==(a=e.data)?void 0:a.id)===r&&(clearTimeout(i),window.removeEventListener("message",c),e.data.ok?l(e.data.result):o(new Error(e.data.error||"SDK call failed")))};window.addEventListener("message",c),window.parent.postMessage({type:"miniapp_sdk_request",id:r,method:a,params:n},e)});return{invoke:a,getConfig:()=>j?{...j,layout:V(j)}:"undefined"!=typeof window&&window.__MINIAPP_CONFIG__?(j=window.__MINIAPP_CONFIG__,{...j,layout:V(j??void 0)}):{appId:"",contractAddress:null,chainId:null,chainType:void 0,supportedChains:[],layout:V(),debug:!1},getAddress:()=>a("getAddress"),wallet:{getAddress:()=>a("wallet.getAddress"),switchChain:e=>a("wallet.switchChain",e),invokeIntent:e=>a("wallet.invokeIntent",e),signMessage:e=>a("wallet.signMessage",e)},payments:{payGAS:(e,t,n)=>a("payments.payGAS",e,t,n),payGASAndInvoke:(e,t,n)=>a("payments.payGASAndInvoke",e,t,n)},governance:{vote:(e,t,n,l)=>a("governance.vote",e,t,n,l),voteAndInvoke:(e,t,n,l)=>a("governance.voteAndInvoke",e,t,n,l),getCandidates:()=>a("governance.getCandidates")},rng:{requestRandom:e=>a("rng.requestRandom",e)},datafeed:{getPrice:e=>a("datafeed.getPrice",e),getPrices:()=>a("datafeed.getPrices"),getNetworkStats:()=>a("datafeed.getNetworkStats"),getRecentTransactions:e=>a("datafeed.getRecentTransactions",e)},stats:{getMyUsage:(e,t)=>a("stats.getMyUsage",e,t)},events:{list:e=>a("events.list",e),emit:(e,t)=>a("events.emit",e,t)},transactions:{list:e=>a("transactions.list",e)},automation:{register:(e,t,n,l)=>a("automation.register",e,t,n,l),unregister:e=>a("automation.unregister",e),status:e=>a("automation.status",e),list:()=>a("automation.list"),update:(e,t,n)=>a("automation.update",e,t,n),enable:e=>a("automation.enable",e),disable:e=>a("automation.disable",e),logs:(e,t)=>a("automation.logs",e,t)},share:{openModal:e=>a("share.openModal",e),getUrl:e=>a("share.getUrl",e),copy:e=>a("share.copy",e)}}}();window.MiniAppSDK=e,e.invoke("getConfig").then(e=>{e&&"object"==typeof e&&(j=e)}).catch(()=>{}),t(e)}else a(new Error("SDK timeout"))},e),l=()=>{if(clearTimeout(n),window.removeEventListener("miniapp-sdk-ready",l),window.MiniAppSDK){if(!J(window.MiniAppSDK))return void a(new Error("SDK validation failed"));t(window.MiniAppSDK)}else a(new Error("SDK not found"))};window.addEventListener("miniapp-sdk-ready",l)})}function X(){return"undefined"==typeof window?null:window.MiniAppSDK??null}const Y=new Set;let Z={connected:!1,address:null,balance:null},ee=null,te=!1;function ae(e){return e instanceof Error?e:"string"==typeof e?new Error(e):new Error(String(e))}function ne(e){const t=y(!1),a=y(null);return{isLoading:t,error:a,execute:async(...n)=>{t.value=!0,a.value=null;try{return await e(...n)}catch(l){throw a.value=ae(l),l}finally{t.value=!1}}}}"undefined"!=typeof window&&("undefined"!=typeof window&&(te&&ee||(ee=e=>{if(e.source!==window.parent)return;if(!q.isValid(e.origin))return;const t=e.data;t&&"object"==typeof t&&("miniapp_config"!==t.type?"miniapp_wallet_state_change"===t.type&&(Z={connected:Boolean(t.connected),address:t.address||null,chainId:t.chainId??null,chainType:t.chainType??null,balance:t.balance||t.multiChainBalance||null,balances:t.balances||void 0},Y.forEach(e=>{try{e(Z)}catch(t){console.error("[MiniApp SDK] Wallet state listener error:",t)}})):t.config&&"object"==typeof t.config&&(j=t.config))},window.addEventListener("message",ee),te=!0)),setTimeout(function(){if("undefined"==typeof window)return;const e=q.getSafeTargetOrigin();try{window.parent.postMessage({type:"miniapp_ready"},e)}catch{}},H));let le=class extends Error{constructor(e,t){super(e),this.statusCode=t,this.name="HttpError"}};const oe={maxRetries:3,baseDelayMs:1e3,maxDelayMs:1e4};function se(e,t){return Math.min(t.baseDelayMs*Math.pow(2,e),t.maxDelayMs)*(.75+.5*Math.random())}function re(e,t){if(t&&t>=500)return!0;if(429===t)return!0;if(e instanceof Error){const t=e.message.toLowerCase();return t.includes("network")||t.includes("timeout")||t.includes("abort")}return!1}async function ie(e,t){var a;if("undefined"!=typeof uni&&"function"==typeof C)return new Promise((a,n)=>{const l=(e=>{if(e){if(e instanceof Headers){const t={};return e.forEach((e,a)=>{t[a]=e}),t}return Array.isArray(e)?Object.fromEntries(e):e}})(t.headers),o=String((null==l?void 0:l["Content-Type"])||(null==l?void 0:l["content-type"])||"");let s=t.body;if("string"==typeof s&&o.includes("application/json"))try{s=JSON.parse(s)}catch{}C({url:e,method:t.method||"GET",data:s,header:l,success:e=>{if((e.statusCode??0)>=200&&(e.statusCode??0)<300)a(e.data);else{const t=e.data,a=null==t?void 0:t.error,l=("string"==typeof(null==a?void 0:a.message)?a.message:null)||`Request failed: ${e.statusCode}`;n(new le(l,e.statusCode??0))}},fail:e=>{n(new Error(e.errMsg||"Network error"))}})});const n="undefined"!=typeof window&&e.startsWith(window.location.origin),l=await fetch(e,{credentials:n?"include":"same-origin",...t});if(!l.ok){const t=await l.json().catch(()=>({}));throw new le((null==(a=t.error)?void 0:a.message)||`Request failed: ${e}`,l.status)}return l.json()}async function ce(e){return async function(e,t={}){var a,n;const l=e.startsWith("http")?e:`https://api.neo-service-layer.io${e}`,o={...oe,...t.retryConfig};let s=null;for(let i=0;i<=o.maxRetries;i++){if(null==(a=t.signal)?void 0:a.aborted)throw new Error("Request cancelled");try{return await ie(l,t)}catch(r){s=r instanceof Error?r:new Error(String(r));const e=r instanceof le?r.statusCode:void 0;if(null==(n=t.signal)?void 0:n.aborted)throw s;if(i>=o.maxRetries)break;if(!re(r,e))break;const a=se(i,o);await new Promise(e=>setTimeout(e,a))}}throw s||new Error("Request failed")}(e,{method:"GET"})}let ue=null,de=null;function fe(){const e=y(null),t=y({}),n=y(null),l=y(null),o=y(null),s=y([]),r=y(!1),i=y(!1),c=y(null),u=y(!1),d=y(null),f=a=>{a.connected&&a.address?(e.value=a.address,r.value=!0):(e.value=null,r.value=!1),n.value=a.chainId??null,l.value=a.chainType??null,t.value=(e=>{if(!e)return{};if(e.balances&&Object.keys(e.balances).length>0)return{...e.balances};if(e.balance){const t={};return t[e.balance.nativeSymbol||("neo-n3"===e.chainType?"GAS":"NATIVE")]=e.balance.native||"0",(e.balance.governance||e.balance.governanceSymbol)&&(t[e.balance.governanceSymbol||("neo-n3"===e.chainType?"NEO":"GOV")]=e.balance.governance||"0"),t}return{}})(a)},p=e=>{e&&(o.value=e.chainId??null,s.value=Array.isArray(e.supportedChains)?e.supportedChains:[])},v=async()=>{var e;const t=await Q(),a=null==(e=t.getConfig)?void 0:e.call(t);return p(a),a},h=async e=>{const t=await Q();if(!t.wallet.switchChain)throw new Error("switchChain not supported by SDK");await t.wallet.switchChain(e),n.value=e};let g=null;return a(()=>{var t;f(Z),t=e=>{f(e)},Y.add(t),t(Z),g=()=>Y.delete(t);const a=X();(null==a?void 0:a.getConfig)&&p(a.getConfig()),a&&!r.value&&(e=>e?(ue&&de!==e&&(ue=null,de=null),ue||(de=e,ue=e.wallet.getAddress().then(e=>e||null).catch(e=>{const t=e instanceof Error?e.message:String(e);return console.debug("[MiniApp SDK] Fallback wallet connection failed:",t),null}).finally(()=>{ue=null,de=null})),ue):Promise.resolve(null))(a).then(t=>{var o;if(!r.value&&t){e.value=t,r.value=!0;const s=null==(o=a.getConfig)?void 0:o.call(a);n.value=(null==s?void 0:s.chainId)??null,l.value=(null==s?void 0:s.chainType)??null,p(s)}}),Q().then(e=>{var t;return p(null==(t=e.getConfig)?void 0:t.call(e))}).catch(()=>{})}),S(()=>{g&&g()}),{address:e,chainId:n,chainType:l,appChainId:o,supportedChains:s,balances:t,isConnected:r,isLoading:i,error:c,showConnectionPrompt:u,connectionPromptMessage:d,connect:async()=>{var t;i.value=!0,c.value=null;try{const a=await Q(),o=await a.wallet.getAddress();if(!o)throw new Error("wallet returned empty address");e.value=o,r.value=!0;const s=null==(t=a.getConfig)?void 0:t.call(a);n.value=(null==s?void 0:s.chainId)??null,l.value=(null==s?void 0:s.chainType)??null,p(s)}catch(a){c.value=ae(a)}finally{i.value=!1}},invokeIntent:async e=>{var t;const a=X();if(!(null==(t=null==a?void 0:a.wallet)?void 0:t.invokeIntent))throw new Error("invokeIntent not available");return a.wallet.invokeIntent(e)},invokeContract:async e=>{var t;const a=await Q(),n=null==(t=a.getConfig)?void 0:t.call(a),l=e.contractAddress||e.scriptHash||e.contractHash,o=e.method||e.operation;if(!l||!o)throw new Error("contract address and method required");return a.invoke("invokeFunction",{contract:l,method:o,args:e.args,chainId:null==n?void 0:n.chainId,chainType:null==n?void 0:n.chainType})},invokeRead:async e=>{var t;const a=await Q(),n=null==(t=a.getConfig)?void 0:t.call(a),l=e.contractAddress||e.scriptHash||e.contractHash||(null==n?void 0:n.contractAddress),o=e.method||e.operation;if(!l)throw new Error("contract address not configured");if(!o)throw new Error("method required");return a.invoke("invokeRead",{contract:l,method:o,args:e.args||[],chainId:e.chainId||(null==n?void 0:n.chainId),chainType:e.chainType||(null==n?void 0:n.chainType)})},getContractAddress:async()=>{var e,t,a,n,l;const o=await Q(),s=null==(e=o.getConfig)?void 0:e.call(o);if(null==s?void 0:s.contractAddress)return s.contractAddress;if((null==s?void 0:s.chainId)&&(null==(a=null==(t=null==s?void 0:s.chainContracts)?void 0:t[s.chainId])?void 0:a.address))return s.chainContracts[s.chainId].address||null;if(o.invoke)try{const e=await o.invoke("getConfig");if(null==e?void 0:e.contractAddress)return e.contractAddress;if((null==e?void 0:e.chainId)&&(null==(l=null==(n=null==e?void 0:e.chainContracts)?void 0:n[e.chainId])?void 0:l.address))return e.chainContracts[e.chainId].address||null}catch{}return null},getAppConfig:v,getAddress:async()=>(await Q()).wallet.getAddress(),signMessage:async e=>{var t;const a=await Q();if(!(null==(t=a.wallet)?void 0:t.signMessage))throw new Error("signMessage not available");return a.wallet.signMessage(e)},switchChain:h,switchToAppChain:async e=>{const t=await v(),a=(null==t?void 0:t.chainId)||(Array.isArray(null==t?void 0:t.supportedChains)&&t.supportedChains.length>0?t.supportedChains[0]:null)||e||null;if(!a)throw new Error("app chain not configured");await h(a)},getBalance:async e=>{var a;i.value=!0,c.value=null;try{const l=await Q(),o=null==(a=l.getConfig)?void 0:a.call(l),s=(null==o?void 0:o.chainId)||n.value,r=s?`?chain_id=${encodeURIComponent(s)}`:"",i=await ce(`/wallet-balance${r}`),c=(null==i?void 0:i.balances)??{};return t.value=c,e?c[e]||"0":c}catch(l){throw c.value=ae(l),l}finally{i.value=!1}},getTransactions:async(e=20)=>{var t;i.value=!0,c.value=null;try{const a=Number.isNaN(e)||e<1?20:Math.min(e,100),l=await Q(),o=null==(t=l.getConfig)?void 0:t.call(l),s=(null==o?void 0:o.chainId)||n.value,r=new URLSearchParams({limit:String(a)});s&&r.set("chain_id",s);const i=await ce(`/wallet-transactions?${r.toString()}`);return(null==i?void 0:i.transactions)??[]}catch(a){throw c.value=ae(a),a}finally{i.value=!1}},invoke:async(e,t)=>(await Q()).invoke(e,t),requireConnection:(e={})=>{const{showPrompt:t=!0,errorMessage:a}=e;return!!r.value||(t&&(d.value=a||null,u.value=!0),!1)},closeConnectionPrompt:()=>{u.value=!1,d.value=null},clearError:()=>{c.value=null}}}function pe(){const{switchToAppChain:e}=fe(),a=t(()=>!1),n=async()=>{try{await e()}catch(t){throw console.error("[useChainValidation] Failed to switch chain:",t),t}},l=t(()=>({show:a.value,onSwitch:n}));return{showWarning:a,switchToAppChain:n,chainWarningProps:l}}y("en");const ve=R(e({__name:"ChainWarning",props:{title:{default:"Wrong Network"},message:{default:"Switch to Neo N3 Mainnet to continue."},buttonText:{default:"Switch Network"},show:{type:Boolean,default:void 0}},emits:["switch","switch-complete","switch-error"],setup(e,{emit:a}){const s=e,r=a,{showWarning:f,switchToAppChain:p}=pe(),v=y(!1),h=t(()=>void 0!==s.show?s.show:f.value),g=async()=>{if(!v.value){v.value=!0,r("switch");try{await p(),r("switch-complete")}catch(e){const t=e instanceof Error?e:new Error(String(e));r("switch-error",t),console.error("[ChainWarning] Failed to switch chain:",t)}finally{v.value=!1}}};return(e,t)=>{const a=c,s=o;return h.value?(n(),l(s,{key:0,class:"chain-warning mb-4 px-4",role:"alert","aria-live":"assertive"},{default:i(()=>[m(x(we),{variant:"danger"},{default:i(()=>[m(s,{class:"flex flex-col items-center gap-2 py-1"},{default:i(()=>[m(a,{class:"text-center font-bold text-red-400"},{default:i(()=>[u(d(e.title),1)]),_:1}),e.message?(n(),l(a,{key:0,class:"text-center text-xs text-white opacity-80"},{default:i(()=>[u(d(e.message),1)]),_:1})):w("",!0),m(x(be),{size:"sm",variant:"secondary",class:"mt-2",loading:v.value,onClick:g},{default:i(()=>[u(d(e.buttonText),1)]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1})):w("",!0)}}}),[["__scopeId","data-v-8876cefe"]]),he=R(e({__name:"DesktopSidebar",props:{tabs:{},activeTab:{}},emits:["tab-change"],setup(e,{emit:a}){const s=a,y=I(),_=t(()=>Boolean(y["desktop-sidebar"]));return(e,t)=>{const a=c,y=o;return n(),l(y,{class:"sidebar",role:"navigation","aria-label":"Main navigation"},{default:i(()=>[m(y,{class:"sidebar-header"},{default:i(()=>[m(a,{class:"brand-name"},{default:i(()=>[u("NeoHub")]),_:1}),m(a,{class:"brand-tagline"},{default:i(()=>[u("Miniapps")]),_:1})]),_:1}),m(y,{class:"sidebar-nav",role:"tablist","aria-label":"Navigation tabs"},{default:i(()=>[(n(!0),f(v,null,p(e.tabs,t=>(n(),l(y,{key:t.id,class:r(["nav-item",e.activeTab===t.id&&"active"]),role:"tab",id:`tab-${t.id}`,tabindex:e.activeTab===t.id?0:-1,"aria-label":t.label,"aria-selected":e.activeTab===t.id?"true":"false","aria-controls":`tabpanel-${t.id}`,onClick:e=>s("tab-change",t.id),onKeydown:[h(e=>s("tab-change",t.id),["enter"]),h(g(e=>s("tab-change",t.id),["prevent"]),["space"])]},{default:i(()=>[m(y,{class:"nav-icon-wrapper"},{default:i(()=>[m(D,{name:t.icon,size:20},null,8,["name"])]),_:2},1024),m(a,{class:"nav-label"},{default:i(()=>[u(d(t.label),1)]),_:2},1024),e.activeTab===t.id?(n(),l(y,{key:0,class:"nav-indicator","aria-hidden":"true"})):w("",!0)]),_:2},1032,["class","id","tabindex","aria-label","aria-selected","aria-controls","onClick","onKeydown"]))),128))]),_:1}),_.value?(n(),l(y,{key:0,class:"sidebar-panel",role:"complementary","aria-label":"Sidebar details"},{default:i(()=>[b(e.$slots,"desktop-sidebar",{},void 0,!0)]),_:3})):w("",!0),m(y,{class:"sidebar-footer"},{default:i(()=>[m(y,{class:"footer-status",role:"status","aria-live":"polite"},{default:i(()=>[m(y,{class:"status-dot online","aria-hidden":"true"}),m(a,{class:"status-text"},{default:i(()=>[u("Connected")]),_:1})]),_:1})]),_:1})]),_:3})}}}),[["__scopeId","data-v-393f16e1"]]),ge=R(e({__name:"DesktopLayout",props:{title:{default:""},tabs:{default:()=>[]},activeTab:{default:""},allowScroll:{type:Boolean,default:!0},theme:{default:""}},emits:["tab-change"],setup(e,{emit:a}){const s=e,f=a,p=t(()=>s.theme?`theme-${s.theme}`:""),v=I(),h=t(()=>Boolean(v["desktop-sidebar"])),g=e=>{f("tab-change",e)};return(()=>{if(!s.tabs||0===s.tabs.length)return!1;!s.tabs.some((e,t)=>s.tabs.findIndex(t=>t.id===e.id)!==t)||console.error("[DesktopLayout] Duplicate tab IDs detected - navigation may not work correctly")})(),(e,t)=>{const a=c,s=o;return n(),l(s,{class:r(["desktop-container",p.value])},{default:i(()=>[m(he,{tabs:e.tabs,"active-tab":e.activeTab,onTabChange:g},A({_:2},[h.value?{name:"desktop-sidebar",fn:i(()=>[b(e.$slots,"desktop-sidebar",{},void 0,!0)]),key:"0"}:void 0]),1032,["tabs","active-tab"]),m(s,{class:"main-content-wrapper",role:"main"},{default:i(()=>[m(s,{class:"top-bar"},{default:i(()=>[m(s,{class:"top-bar-left"},{default:i(()=>[e.title?(n(),l(a,{key:0,class:"page-title"},{default:i(()=>[u(d(e.title),1)]),_:1})):w("",!0)]),_:1}),m(s,{class:"top-bar-right"},{default:i(()=>[b(e.$slots,"top-bar-actions",{},void 0,!0)]),_:3})]),_:3}),m(s,{class:r(["content-area",!e.allowScroll&&"no-scroll"]),tabindex:e.allowScroll?-1:0},{default:i(()=>[b(e.$slots,"default",{},void 0,!0)]),_:3},8,["class","tabindex"])]),_:3})]),_:3},8,["class"])}}}),[["__scopeId","data-v-2023cafd"]]),me=e({__name:"ResponsiveLayout",props:{title:{default:""},tabs:{default:()=>[]},navItems:{default:()=>[]},activeTab:{default:""},allowScroll:{type:Boolean,default:!0},theme:{default:""},showTopNav:{type:Boolean,default:!1},showSidebar:{type:Boolean,default:!1},layout:{default:"default"},showBack:{type:Boolean,default:!1},desktopBreakpoint:{default:1024}},emits:["back","tab-change","navigate"],setup(e,{emit:o}){const s=e,r=o,c=y(!1),u=y(!1),d=()=>{if(!u.value)return;const e=window.innerWidth;c.value=e>=s.desktopBreakpoint};let f;const p=()=>{clearTimeout(f),f=window.setTimeout(()=>{d()},150)},v=t(()=>s.tabs&&s.tabs.length>0?s.tabs:s.navItems&&s.navItems.length>0?s.navItems.map(e=>({id:e.id??e.key??"",label:e.label,icon:e.icon})).filter(e=>Boolean(e.id)):[]),h=t(()=>c.value?ge:L),g=e=>{r("tab-change",e),r("navigate",e)};return T(c,(e,t)=>{t!==e&&u.value}),a(()=>{u.value="undefined"!=typeof window,u.value&&(d(),window.addEventListener("resize",p))}),S(()=>{u.value&&(window.removeEventListener("resize",p),clearTimeout(f))}),(e,t)=>(n(),l(E(h.value),{title:e.title,tabs:v.value,"active-tab":e.activeTab,"allow-scroll":e.allowScroll,theme:e.theme,"show-top-nav":e.showTopNav,"show-back":e.showBack,onTabChange:g,onBack:t[0]||(t[0]=t=>e.$emit("back"))},{"top-bar-actions":i(()=>[b(e.$slots,"top-bar-actions")]),"desktop-sidebar":i(()=>[b(e.$slots,"desktop-sidebar")]),default:i(()=>[b(e.$slots,"default")]),_:3},40,["title","tabs","active-tab","allow-scroll","theme","show-top-nav","show-back"]))}}),we=R(e({__name:"NeoCard",props:{title:{default:void 0},variant:{default:"default"},hoverable:{type:Boolean,default:!1},flat:{type:Boolean,default:!1},ariaLabel:{default:void 0}},emits:["click"],setup:e=>(e,t)=>{const a=c,s=o;return n(),l(s,{class:r(["neo-card",`neo-card--${e.variant}`,{"neo-card--hoverable":e.hoverable,"neo-card--flat":e.flat}]),role:e.hoverable?"button":"region",tabindex:e.hoverable?0:void 0,"aria-label":e.ariaLabel||e.title||void 0,onClick:t[0]||(t[0]=t=>e.hoverable&&e.$emit("click",t)),onKeydown:[t[1]||(t[1]=h(t=>e.hoverable&&e.$emit("click",t),["enter"])),t[2]||(t[2]=h(g(t=>e.hoverable&&e.$emit("click",t),["prevent"]),["space"]))]},{default:i(()=>[e.title||e.$slots.header?(n(),l(s,{key:0,class:"neo-card__header"},{default:i(()=>[e.title?(n(),l(a,{key:0,class:"neo-card__title"},{default:i(()=>[u(d(e.title),1)]),_:1})):w("",!0),b(e.$slots,"header",{},void 0,!0)]),_:3})):w("",!0),m(s,{class:"neo-card__body"},{default:i(()=>[b(e.$slots,"default",{},void 0,!0)]),_:3}),e.$slots.footer?(n(),l(s,{key:1,class:"neo-card__footer"},{default:i(()=>[b(e.$slots,"footer",{},void 0,!0)]),_:3})):w("",!0)]),_:3},8,["class","role","tabindex","aria-label"])}}),[["__scopeId","data-v-301259a2"]]),be=R(e({__name:"NeoButton",props:{variant:{default:"primary"},size:{default:"md"},block:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},ariaLabel:{default:void 0}},emits:["click"],setup:e=>(e,t)=>{const a=o,s=z;return n(),l(s,{class:r(["neo-btn",`neo-btn--${e.variant}`,`neo-btn--${e.size}`,{"neo-btn--block":e.block,"neo-btn--loading":e.loading}]),disabled:e.disabled||e.loading,"aria-busy":e.loading,"aria-disabled":e.disabled||e.loading,"aria-label":e.ariaLabel,onClick:t[0]||(t[0]=t=>e.$emit("click",t))},{default:i(()=>[e.loading?(n(),l(a,{key:0,class:"neo-btn__spinner"})):b(e.$slots,"default",{key:1},void 0,!0)]),_:3},8,["class","disabled","aria-busy","aria-disabled","aria-label"])}}),[["__scopeId","data-v-1fa13096"]]),ye=R(e({__name:"NeoInput",props:{modelValue:{},type:{},label:{},placeholder:{},suffix:{},suffixIcon:{},hint:{},error:{},disabled:{type:Boolean},required:{type:Boolean},ariaLabel:{}},emits:["update:modelValue","focus","blur"],setup(e){let t=0;const a="neo-input-"+ ++t;return(e,t)=>{const s=c,f=B,p=M,v=o;return n(),l(v,{class:r(["neo-input",{"neo-input--error":e.error,"neo-input--disabled":e.disabled}])},{default:i(()=>[e.label?(n(),l(s,{key:0,id:`${a}-label`,class:"neo-input__label"},{default:i(()=>[u(d(e.label),1)]),_:1},8,["id"])):w("",!0),m(v,{class:"neo-input__wrapper"},{default:i(()=>["textarea"===e.type?(n(),l(f,{key:0,id:a,value:e.modelValue,placeholder:e.placeholder,disabled:e.disabled,"aria-label":e.ariaLabel||(e.label?void 0:e.placeholder),"aria-labelledby":e.label?`${a}-label`:void 0,"aria-describedby":e.error?`${a}-error`:e.hint?`${a}-hint`:void 0,"aria-invalid":!!e.error||void 0,"aria-required":e.required||void 0,class:"neo-input__field neo-input__textarea",onInput:t[0]||(t[0]=t=>e.$emit("update:modelValue",t.target.value)),onFocus:t[1]||(t[1]=t=>e.$emit("focus",t)),onBlur:t[2]||(t[2]=t=>e.$emit("blur",t))},null,8,["value","placeholder","disabled","aria-label","aria-labelledby","aria-describedby","aria-invalid","aria-required"])):(n(),l(p,{key:1,id:a,value:e.modelValue,type:e.type,placeholder:e.placeholder,disabled:e.disabled,"aria-label":e.ariaLabel||(e.label?void 0:e.placeholder),"aria-labelledby":e.label?`${a}-label`:void 0,"aria-describedby":e.error?`${a}-error`:e.hint?`${a}-hint`:void 0,"aria-invalid":!!e.error||void 0,"aria-required":e.required||void 0,class:"neo-input__field",onInput:t[3]||(t[3]=t=>e.$emit("update:modelValue",t.target.value)),onFocus:t[4]||(t[4]=t=>e.$emit("focus",t)),onBlur:t[5]||(t[5]=t=>e.$emit("blur",t))},null,8,["value","type","placeholder","disabled","aria-label","aria-labelledby","aria-describedby","aria-invalid","aria-required"])),e.suffixIcon||e.suffix?(n(),l(v,{key:2,class:"neo-input__suffix"},{default:i(()=>[e.suffixIcon?(n(),l(x(D),{key:0,name:e.suffixIcon,size:18},null,8,["name"])):w("",!0),e.suffix?(n(),l(s,{key:1},{default:i(()=>[u(d(e.suffix),1)]),_:1})):w("",!0)]),_:1})):w("",!0)]),_:1}),e.error?(n(),l(s,{key:1,id:`${a}-error`,class:"neo-input__error",role:"alert"},{default:i(()=>[u(d(e.error),1)]),_:1},8,["id"])):e.hint?(n(),l(s,{key:2,id:`${a}-hint`,class:"neo-input__hint"},{default:i(()=>[u(d(e.hint),1)]),_:1},8,["id"])):w("",!0)]),_:1},8,["class"])}}}),[["__scopeId","data-v-39374a76"]]);const _e={docBadge:{en:"Documentation",zh:"æ–‡æ¡£"},docFooter:{en:"NeoHub MiniApp Protocol v2.4.0",zh:"NeoHub MiniApp Protocol v2.4.0"}};function ke(e){const t={..._e,...e},a=y("undefined"==typeof window?"en":(navigator.language||navigator.userLanguage||"en").toLowerCase().startsWith("zh")?"zh":"en"),n=(e,n)=>{const l=t[e];if(!l)return String(e);let o="";return o="string"==typeof l?l:l[a.value]||l.en||l.zh||String(e),n?((e,t)=>e.replace(/\{(\w+)\}/g,(e,a)=>String(t[a]??`{${a}}`)))(o,n):o},l=e=>{a.value=(e=>e&&e.toLowerCase().startsWith("zh")?"zh":"en")(e)};if("undefined"!=typeof window){window.addEventListener("languageChange",e=>{var t;const a=null==(t=e.detail)?void 0:t.language;a&&l(a)});const e=(()=>{try{if(window.parent!==window&&document.referrer)return new URL(document.referrer).origin}catch{}return window.location.origin})();window.addEventListener("message",t=>{const a=t.source===window.parent;if(!(t.origin===e||t.origin===window.location.origin||a&&("null"===t.origin||"null"===e)))return;const n=t.data;if(!n||"object"!=typeof n)return;if("language-change"!==n.type)return;const o=String(n.language||n.locale||n.lang||"").trim();o&&l(o)})}return()=>({locale:a,t:n,setLocale:l})}const Ce=ke({wrongChain:{en:"Wrong Network",zh:"ç½‘ç»œé”™è¯¯"},wrongChainMessage:{en:"Switch to Neo N3 Mainnet to continue.",zh:"åˆ‡æ¢åˆ° Neo N3 ä¸»ç½‘ä»¥ç»§ç»­ã€‚"},switchToNeo:{en:"Switch Network",zh:"åˆ‡æ¢ç½‘ç»œ"},connectWalletPrompt:{en:"Please connect your wallet",zh:"è¯·è¿æ¥é’±åŒ…"},contractUnavailable:{en:"Contract unavailable",zh:"åˆçº¦ä¸å¯ç”¨"},transactionFailed:{en:"Transaction failed",zh:"äº¤æ˜“å¤±è´¥"},insufficientBalance:{en:"Insufficient balance",zh:"ä½™é¢ä¸è¶³"},loading:{en:"Loading...",zh:"åŠ è½½ä¸­..."},error:{en:"Error",zh:"é”™è¯¯"},main:{en:"Main",zh:"ä¸»é¡µ"},game:{en:"Game",zh:"æ¸¸æˆ"},games:{en:"Games",zh:"æ¸¸æˆ"},stats:{en:"Stats",zh:"ç»Ÿè®¡"},docsTab:{en:"Docs",zh:"æ–‡æ¡£"},settings:{en:"Settings",zh:"è®¾ç½®"},about:{en:"About",zh:"å…³äº"},docSubtitle:{en:"Documentation",zh:"æ–‡æ¡£"},docDescription:{en:"Learn how to use this miniapp",zh:"äº†è§£å¦‚ä½•ä½¿ç”¨æ­¤è¿·ä½ åº”ç”¨"},docWhatItIs:{en:"What is it?",zh:"è¿™æ˜¯ä»€ä¹ˆï¼Ÿ"},docHowToUse:{en:"How to use",zh:"å¦‚ä½•ä½¿ç”¨"},docOnChainFeatures:{en:"On-Chain Features",zh:"é“¾ä¸Šç‰¹æ€§"},confirm:{en:"Confirm",zh:"ç¡®è®¤"},cancel:{en:"Cancel",zh:"å–æ¶ˆ"},close:{en:"Close",zh:"å…³é—­"},continue:{en:"Continue",zh:"ç»§ç»­"},retry:{en:"Retry",zh:"é‡è¯•"},back:{en:"Back",zh:"è¿”å›"},walletRequired:{en:"Wallet Required",zh:"éœ€è¦é’±åŒ…"},walletDescription:{en:"Please connect your wallet to continue.",zh:"è¯·è¿æ¥é’±åŒ…ä»¥ç»§ç»­ã€‚"},connectWallet:{en:"Connect Wallet",zh:"è¿æ¥é’±åŒ…"},wpTitle:{en:"Wallet Required",zh:"éœ€è¦é’±åŒ…"},wpDescription:{en:"Please connect your wallet to continue.",zh:"è¯·è¿æ¥é’±åŒ…ä»¥ç»§ç»­ã€‚"},wpConnect:{en:"Connect Wallet",zh:"è¿æ¥é’±åŒ…"},wpCancel:{en:"Cancel",zh:"å–æ¶ˆ"},success:{en:"Success",zh:"æˆåŠŸ"},failed:{en:"Failed",zh:"å¤±è´¥"},pending:{en:"Pending",zh:"å¤„ç†ä¸­"},completed:{en:"Completed",zh:"å·²å®Œæˆ"},buy:{en:"Buy",zh:"è´­ä¹°"},sell:{en:"Sell",zh:"å‡ºå”®"},swap:{en:"Swap",zh:"äº¤æ¢"},transfer:{en:"Transfer",zh:"è½¬è´¦"},claim:{en:"Claim",zh:"é¢†å–"},enterAmount:{en:"Enter amount",zh:"è¯·è¾“å…¥æ•°é‡"},selectOption:{en:"Select an option",zh:"è¯·é€‰æ‹©"},search:{en:"Search",zh:"æœç´¢"},docBadge:{en:"Documentation",zh:"æ–‡æ¡£"},docFooter:{en:"NeoHub MiniApp Protocol v2.4.0",zh:"NeoHub MiniApp Protocol v2.4.0"}}),Se=R(e({__name:"ScrollReveal",props:{animation:{default:"fade-up"},delay:{default:0},duration:{default:800},threshold:{default:.1},offset:{default:-50},reversible:{type:Boolean,default:!1}},setup(e,{expose:t}){const c=e,u=y(!1),d=P();let f=null;return a(()=>{setTimeout(()=>{d&&(setTimeout(()=>{u.value||(u.value=!0)},500),f=$(d),f.relativeToViewport({bottom:c.offset}).observe(".scroll-reveal",e=>{e.intersectionRatio>0?(u.value=!0,c.reversible||f.disconnect()):c.reversible&&(u.value=!1)}))},100)}),t({isVisible:u}),S(()=>{f&&f.disconnect()}),(e,t)=>{const a=o;return n(),l(a,{class:r(["scroll-reveal",[e.animation,{"is-visible":u.value}]]),style:s({transitionDelay:e.delay+"ms",transitionDuration:e.duration+"ms"})},{default:i(()=>[b(e.$slots,"default",{},void 0,!0)]),_:3},8,["class","style"])}}}),[["__scopeId","data-v-d6e295e6"]]),xe=R(e({__name:"NeoDoc",props:{title:{},subtitle:{},description:{},steps:{},features:{}},setup(e){const{t:t}=Ce();return(e,a)=>{const s=o,r=c;return n(),l(s,{class:"neo-doc",role:"article","aria-label":e.title},{default:i(()=>[m(s,{class:"doc-header"},{default:i(()=>[m(Se,{animation:"fade-down",duration:1e3},{default:i(()=>[m(s,{class:"title-row"},{default:i(()=>[m(s,{class:"doc-badge","aria-hidden":"true"},{default:i(()=>[u(d(x(t)("docBadge")),1)]),_:1})]),_:1}),m(r,{class:"doc-title",role:"heading","aria-level":"2"},{default:i(()=>[u(d(e.title),1)]),_:1}),m(r,{class:"doc-subtitle"},{default:i(()=>[u(d(e.subtitle),1)]),_:1})]),_:1})]),_:1}),m(s,{class:"doc-content"},{default:i(()=>[m(s,{class:"doc-section"},{default:i(()=>[m(Se,{animation:"fade-up",delay:200},{default:i(()=>[m(r,{class:"section-label",role:"heading","aria-level":"3"},{default:i(()=>[u(d(x(t)("docWhatItIs")),1)]),_:1}),m(r,{class:"section-text"},{default:i(()=>[u(d(e.description),1)]),_:1})]),_:1})]),_:1}),m(s,{class:"doc-section"},{default:i(()=>[m(Se,{animation:"fade-up",delay:300},{default:i(()=>[m(r,{class:"section-label",role:"heading","aria-level":"3"},{default:i(()=>[u(d(x(t)("docHowToUse")),1)]),_:1})]),_:1}),m(s,{class:"steps-list",role:"list","aria-label":"Steps"},{default:i(()=>[(n(!0),f(v,null,p(e.steps,(e,t)=>(n(),l(Se,{key:t,delay:400+100*t,animation:"slide-left"},{default:i(()=>[m(s,{class:"step-item",role:"listitem"},{default:i(()=>[m(s,{class:"step-number","aria-hidden":"true"},{default:i(()=>[u(d(t+1),1)]),_:2},1024),m(r,{class:"step-text"},{default:i(()=>[u(d(e),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["delay"]))),128))]),_:1})]),_:1}),m(s,{class:"doc-section"},{default:i(()=>[m(Se,{animation:"fade-up",delay:400},{default:i(()=>[m(r,{class:"section-label",role:"heading","aria-level":"3"},{default:i(()=>[u(d(x(t)("docOnChainFeatures")),1)]),_:1})]),_:1}),m(s,{class:"features-grid",role:"list","aria-label":"Features"},{default:i(()=>[(n(!0),f(v,null,p(e.features,(e,t)=>(n(),l(Se,{key:e.name,delay:500+100*t,animation:"scale-in",reversible:""},{default:i(()=>[m(s,{class:"feature-card",role:"listitem"},{default:i(()=>[m(r,{class:"feature-name"},{default:i(()=>[u(d(e.name),1)]),_:2},1024),m(r,{class:"feature-desc"},{default:i(()=>[u(d(e.desc),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["delay"]))),128))]),_:1})]),_:1})]),_:1}),m(s,{class:"doc-footer"},{default:i(()=>[m(Se,{animation:"fade-up",delay:800},{default:i(()=>[m(r,{class:"footer-text"},{default:i(()=>[u(d(x(t)("docFooter")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["aria-label"])}}}),[["__scopeId","data-v-b60f38ea"]]),Ie=R(e({__name:"NeoStats",props:{stats:{}},setup:e=>(e,t)=>{const a=c,s=o;return n(),l(s,{class:"neo-stats",role:"list","aria-label":"Statistics"},{default:i(()=>[(n(!0),f(v,null,p(e.stats,e=>(n(),l(s,{key:e.label,class:r(["neo-stats__item",`neo-stats__item--${e.variant||"default"}`]),role:"listitem","aria-label":`${e.label}: ${e.value}`},{default:i(()=>[m(a,{class:"neo-stats__value","aria-hidden":"true"},{default:i(()=>[u(d(e.value),1)]),_:2},1024),m(a,{class:"neo-stats__label","aria-hidden":"true"},{default:i(()=>[u(d(e.label),1)]),_:2},1024)]),_:2},1032,["class","aria-label"]))),128))]),_:1})}}),[["__scopeId","data-v-46509ca9"]]),Ae=R(e({__name:"GradientCard",props:{variant:{default:"glass"},hoverable:{type:Boolean,default:!1},glow:{type:Boolean,default:!1},glowIntensity:{default:.3},ariaLabel:{default:void 0}},emits:["click"],setup(e){const a=e,c={purple:"linear-gradient(135deg, rgba(159, 157, 243, 0.2) 0%, rgba(123, 121, 209, 0.1) 100%)",neo:"linear-gradient(135deg, rgba(0, 229, 153, 0.2) 0%, rgba(0, 179, 119, 0.1) 100%)",bitcoin:"linear-gradient(135deg, rgba(255, 228, 195, 0.2) 0%, rgba(255, 200, 140, 0.1) 100%)",glass:"rgba(255, 255, 255, 0.03)",dark:"rgba(0, 0, 0, 0.4)"},u={purple:"rgba(159, 157, 243, 0.4)",neo:"rgba(0, 229, 153, 0.4)",bitcoin:"rgba(255, 228, 195, 0.4)",glass:"rgba(255, 255, 255, 0.1)",dark:"rgba(0, 0, 0, 0.2)"},d=t(()=>({background:c[a.variant]})),f=t(()=>({background:u[a.variant],opacity:a.glowIntensity}));return(e,t)=>{const a=o;return n(),l(a,{class:r(["gradient-card",`gradient-card--${e.variant}`,{"gradient-card--hoverable":e.hoverable}]),style:s(d.value),role:"region","aria-label":e.ariaLabel||void 0,onClick:t[0]||(t[0]=t=>e.hoverable&&e.$emit("click",t))},{default:i(()=>[e.glow?(n(),l(a,{key:0,class:"gradient-card__glow",style:s(f.value)},null,8,["style"])):w("",!0),m(a,{class:"gradient-card__content"},{default:i(()=>[b(e.$slots,"default",{},void 0,!0)]),_:3})]),_:3},8,["class","style","aria-label"])}}}),[["__scopeId","data-v-cebe9846"]]),Te=R(e({__name:"ErrorBoundary",props:{showDetails:{type:Boolean,default:!1},onError:{},fallback:{}},emits:["retry","reset","error"],setup(e,{expose:t,emit:a}){const s=e,r=a,f=y(!1),p=y(null),v=y(""),h=e=>({errorTitle:"Something went wrong",retry:"Try Again",reset:"Reset"}[e]||e);G(e=>{var t;const a=e instanceof Error?e:new Error(String(e));return p.value=a,v.value=s.fallback||a.message||"An unexpected error occurred",f.value=!0,r("error",a),null==(t=s.onError)||t.call(s,a),!1});const g=()=>{f.value=!1,p.value=null,r("retry")},_=()=>{f.value=!1,p.value=null,v.value="",r("reset")};return t({setError:e=>{const t=e instanceof Error?e:new Error(e);p.value=t,v.value=t.message,f.value=!0,r("error",t)},clearError:_}),(e,t)=>{const a=c,s=o;return f.value?(n(),l(s,{key:0,class:"error-boundary",role:"alert","aria-live":"assertive"},{default:i(()=>[m(s,{class:"error-container"},{default:i(()=>[m(a,{class:"error-icon"},{default:i(()=>[u("âš ï¸")]),_:1}),m(a,{class:"error-title"},{default:i(()=>[u(d(h("errorTitle")||"Something went wrong"),1)]),_:1}),m(a,{class:"error-message"},{default:i(()=>[u(d(v.value),1)]),_:1}),m(s,{class:"error-actions"},{default:i(()=>[m(be,{variant:"primary",onClick:g},{default:i(()=>[u(d(h("retry")||"Try Again"),1)]),_:1}),m(be,{variant:"secondary",onClick:_},{default:i(()=>[u(d(h("reset")||"Reset"),1)]),_:1})]),_:1}),e.showDetails?(n(),l(s,{key:0,class:"error-details"},{default:i(()=>[m(a,{class:"error-stack"},{default:i(()=>{var e,t;return[u(d((null==(e=p.value)?void 0:e.stack)||(null==(t=p.value)?void 0:t.message)),1)]}),_:1})]),_:1})):w("",!0)]),_:1})]),_:1})):b(e.$slots,"default",{key:1},void 0,!0)}}}),[["__scopeId","data-v-34155aa3"]]),Ee=R(e({__name:"Fireworks",props:{active:{type:Boolean,default:!1},duration:{default:3e3}},emits:["complete"],setup(e,{emit:t}){const a=e,c=t;let u=null;const d=e=>{const t=["#ff6b6b","#ffd93d","#6bcb77","#4d96ff","#ff6bd6","#a855f7"];return{left:`${10+80*Math.random()}%`,top:`${10+60*Math.random()}%`,animationDelay:`${.5*Math.random()}s`,"--firework-color":t[(e-1)%t.length]}};return T(()=>a.active,e=>{e&&(u=setTimeout(()=>{c("complete")},a.duration))}),S(()=>{u&&clearTimeout(u)}),(e,t)=>{const a=o;return e.active?(n(),l(a,{key:0,class:"fireworks-container","aria-hidden":"true"},{default:i(()=>[(n(),f(v,null,p(12,e=>m(a,{key:e,class:r(`firework firework-${e}`),style:s(d(e))},{default:i(()=>[(n(),f(v,null,p(8,e=>m(a,{key:e,class:r(`spark spark-${e}`)},null,8,["class"])),64))]),_:2},1032,["class","style"])),64))]),_:1})):w("",!0)}}}),[["__scopeId","data-v-8a253f7e"]]),ze=R(e({__name:"SidebarPanel",props:{title:{default:""},description:{default:""},items:{default:()=>[]}},setup:e=>(e,t)=>{const a=c,s=o;return n(),l(s,{class:"sidebar-panel-content"},{default:i(()=>[e.title?(n(),l(a,{key:0,class:"sidebar-title"},{default:i(()=>[u(d(e.title),1)]),_:1})):w("",!0),e.description?(n(),l(a,{key:1,class:"sidebar-desc"},{default:i(()=>[u(d(e.description),1)]),_:1})):w("",!0),e.items.length?(n(),l(s,{key:2,class:"sidebar-items"},{default:i(()=>[(n(!0),f(v,null,p(e.items,e=>(n(),l(s,{key:e.label,class:"sidebar-item"},{default:i(()=>[m(a,{class:"sidebar-item-label"},{default:i(()=>[u(d(e.label),1)]),_:2},1024),m(a,{class:"sidebar-value"},{default:i(()=>[u(d(e.value),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})):w("",!0),b(e.$slots,"default",{},void 0,!0)]),_:3})}}),[["__scopeId","data-v-0f03dbb3"]]),Be=R(e({__name:"game-board",emits:["ready"],setup:e=>(e,t)=>{const a=o;return n(),l(a,{class:"game-board-slot"},{default:i(()=>[m(a,{class:"game-arena"},{default:i(()=>[b(e.$slots,"default",{},void 0,!0)]),_:3})]),_:3})}}),[["__scopeId","data-v-865ce7b3"]]),Me=R(e({__name:"market-list",emits:["ready"],setup:e=>(e,t)=>{const a=o;return n(),l(a,{class:"market-list-slot"},{default:i(()=>[e.$slots.filters?(n(),l(a,{key:0,class:"list-filters"},{default:i(()=>[b(e.$slots,"filters",{},void 0,!0)]),_:3})):w("",!0),m(a,{class:"list-container"},{default:i(()=>[b(e.$slots,"default",{},void 0,!0)]),_:3})]),_:3})}}),[["__scopeId","data-v-7bb016db"]]),$e=R(e({__name:"form-panel",emits:["ready"],setup:e=>(e,t)=>{const a=o;return n(),l(a,{class:"form-panel-slot"},{default:i(()=>[m(a,{class:"form-card"},{default:i(()=>[b(e.$slots,"default",{},void 0,!0)]),_:3}),e.$slots.footer?(n(),l(a,{key:0,class:"form-footer"},{default:i(()=>[b(e.$slots,"footer",{},void 0,!0)]),_:3})):w("",!0)]),_:3})}}),[["__scopeId","data-v-dc99375e"]]),Pe=R(e({__name:"dashboard",emits:["ready"],setup:e=>(e,t)=>{const a=o;return n(),l(a,{class:"dashboard-slot"},{default:i(()=>[e.$slots.hero?(n(),l(a,{key:0,class:"dashboard-hero"},{default:i(()=>[b(e.$slots,"hero",{},void 0,!0)]),_:3})):w("",!0),m(a,{class:"dashboard-panels"},{default:i(()=>[b(e.$slots,"default",{},void 0,!0)]),_:3})]),_:3})}}),[["__scopeId","data-v-094f7c79"]]),Ge=R(e({__name:"swap-interface",emits:["ready"],setup:e=>(e,t)=>{const a=o;return n(),l(a,{class:"swap-interface-slot"},{default:i(()=>[m(a,{class:"swap-container"},{default:i(()=>[b(e.$slots,"default",{},void 0,!0)]),_:3})]),_:3})}}),[["__scopeId","data-v-172c680c"]]),Fe=R(e({__name:"timer-hero",emits:["ready"],setup:e=>(e,t)=>{const a=o;return n(),l(a,{class:"timer-hero-slot"},{default:i(()=>[m(a,{class:"timer-display"},{default:i(()=>[b(e.$slots,"timer",{},void 0,!0)]),_:3}),m(a,{class:"timer-action"},{default:i(()=>[b(e.$slots,"default",{},void 0,!0)]),_:3})]),_:3})}}),[["__scopeId","data-v-b3a2b09d"]]),Re=R(e({__name:"two-column",emits:["ready"],setup(e){const a=I(),s=t(()=>!!a.operation);return(e,t)=>{const a=o;return n(),l(a,{class:r(["two-column-slot",{"single-column":!s.value}])},{default:i(()=>[m(a,{class:"two-column-info"},{default:i(()=>[b(e.$slots,"default",{},void 0,!0)]),_:3}),s.value?(n(),l(a,{key:0,class:"two-column-operation"},{default:i(()=>[b(e.$slots,"operation",{},void 0,!0)]),_:3})):w("",!0)]),_:3},8,["class"])}}}),[["__scopeId","data-v-34a617ab"]]),De=R(e({__name:"MiniAppTemplate",props:{config:{},state:{},t:{type:Function},statusMessage:{},fireworksActive:{type:Boolean}},emits:["tab-change"],setup(e,{emit:a}){const s=e,r=a,h=I(),{showWarning:g}=pe(),_=t(()=>{var e;return!1!==(null==(e=s.config.features)?void 0:e.chainWarning)&&g.value}),k=t(()=>{var e;const t=s.config.tabs.find(e=>e.default);return(null==t?void 0:t.key)??(null==(e=s.config.tabs[0])?void 0:e.key)??""}),C=y(k.value),S=t(()=>s.config.tabs.map(e=>({id:e.key,label:s.t(e.labelKey),icon:e.icon??""}))),A=t(()=>s.config.tabs.filter(e=>e.key!==k.value)),T=e=>{C.value=e,r("tab-change",e)},z={"game-board":Be,"market-list":Me,"form-panel":$e,dashboard:Pe,"swap-interface":Ge,"timer-hero":Fe,"two-column":Re,custom:"view"},B=t(()=>z[s.config.contentType]??"view"),M=t(()=>{var e;return((null==(e=s.config.stats)?void 0:e.length)??0)>0}),$=(e,t)=>{const a=t??0;switch(e.format){case"currency":return`${Number(a).toFixed(2)} GAS`;case"percent":return`${Number(a).toFixed(1)}%`;case"duration":return String(a);default:return"number"==typeof a?a:Number(a)||0}},P=t(()=>(s.config.stats??[]).map(e=>({label:s.t(e.labelKey),value:$(e,s.state[e.valueKey]),variant:e.variant??"default"}))),G=t(()=>{var e;return null==(e=s.config.features)?void 0:e.docs}),F=t(()=>!!G.value),R=t(()=>{var e;return((null==(e=G.value)?void 0:e.stepKeys)??[]).map(e=>s.t(e))}),D=t(()=>{var e;return((null==(e=G.value)?void 0:e.featureKeys)??[]).map(e=>({name:s.t(e.nameKey),desc:s.t(e.descKey)}))}),N=t(()=>{var e;return!1!==(null==(e=s.config.features)?void 0:e.fireworks)}),O=t(()=>{var e;return!1!==(null==(e=s.config.features)?void 0:e.statusMessages)}),L=e=>!!h[e];return(e,t)=>{const a=c,s=o;return n(),l(x(me),{"desktop-breakpoint":1024,tabs:S.value,"active-tab":C.value,onTabChange:T},{"desktop-sidebar":i(()=>[b(e.$slots,"desktop-sidebar",{},void 0,!0)]),default:i(()=>[_.value?(n(),l(x(ve),{key:0,title:e.t("wrongChain"),message:e.t("wrongChainMessage"),"button-text":e.t("switchToNeo")},null,8,["title","message","button-text"])):w("",!0),O.value&&e.statusMessage?(n(),l(x(we),{key:1,variant:"error"===e.statusMessage.type?"danger":"erobo-neo",class:"template-status mb-4"},{default:i(()=>[m(a,{class:"text-center font-bold"},{default:i(()=>[u(d(e.statusMessage.msg),1)]),_:1})]),_:1},8,["variant"])):w("",!0),C.value===k.value?(n(),l(s,{key:2,class:"tab-content",role:"tabpanel",id:`tabpanel-${k.value}`,"aria-labelledby":`tab-${k.value}`},{default:i(()=>[(n(),l(E(B.value),null,{operation:i(()=>[b(e.$slots,"operation",{},void 0,!0)]),default:i(()=>[b(e.$slots,"content",{},void 0,!0)]),_:3}))]),_:3},8,["id","aria-labelledby"])):w("",!0),(n(!0),f(v,null,p(A.value,t=>(n(),f(v,{key:t.key},[C.value===t.key?(n(),l(s,{key:0,class:"tab-content scrollable",role:"tabpanel",id:`tabpanel-${t.key}`,"aria-labelledby":`tab-${t.key}`},{default:i(()=>["stats"===t.key&&M.value&&!L("tab-stats")?(n(),l(x(we),{key:0,variant:"erobo"},{default:i(()=>[m(x(Ie),{stats:P.value},null,8,["stats"])]),_:1})):"docs"===t.key&&F.value&&!L("tab-docs")?(n(),l(x(xe),{key:1,title:e.t(G.value.titleKey),subtitle:G.value.subtitleKey?e.t(G.value.subtitleKey):void 0,steps:R.value,features:D.value},null,8,["title","subtitle","steps","features"])):b(e.$slots,`tab-${t.key}`,{key:2},void 0,!0)]),_:2},1032,["id","aria-labelledby"])):w("",!0)],64))),128)),N.value?(n(),l(Ee,{key:3,active:e.fireworksActive,duration:3e3},null,8,["active"])):w("",!0)]),_:3},8,["tabs","active-tab"])}}}),[["__scopeId","data-v-07ef5641"]]);const Ne=ke({title:{en:"Turtle Match",zh:"ä¹Œé¾Ÿå¯¹å¯¹ç¢°"},totalSessions:{en:"Total Sessions",zh:"æ€»åœºæ¬¡"},totalRewards:{en:"Total Rewards",zh:"æ€»å¥–åŠ±"},description:{en:"Buy boxes, match turtles, win GAS!",zh:"è´­ä¹°ç›²ç›’ï¼Œæ”¶é›†ä¹Œé¾Ÿï¼Œé…å¯¹èµ¢å– GASï¼"},splashTitle:{en:"Turtle Match",zh:"ä¹Œé¾Ÿå¯¹å¯¹ç¢°"},splashSubtitle:{en:"Cyber Pond Edition",zh:"èµ›åšæ± å¡˜ç‰ˆ"},sessionComplete:{en:"Session Complete",zh:"æœ¬å±€å®Œæˆ"},totalMatchesLabel:{en:"Total Matches",zh:"é…å¯¹æ€»æ•°"},totalEarnedLabel:{en:"Total Earned",zh:"æ€»æ”¶ç›Š"},boxesOpenedLabel:{en:"Boxes Opened",zh:"å¼€å¯ç›²ç›’"},confirmSettlement:{en:"Confirm Settlement",zh:"ç¡®è®¤ç»“ç®—"},matchLabel:{en:"Match!",zh:"é…å¯¹æˆåŠŸï¼"},rewardLabel:{en:"Reward",zh:"å¥–åŠ±"},neoSymbol:{en:"NEO",zh:"NEO"},docSubtitle:{en:"Blindbox matching with GAS rewards",zh:"ç›²ç›’é…å¯¹èµ¢å– GAS"},docDescription:{en:"Purchase blindboxes, auto-open turtles on a 3x3 grid, match pairs, and settle rewards on-chain. Rewards follow the contract odds and are paid after settlement.",zh:"è´­ä¹°ç›²ç›’åè‡ªåŠ¨å¼€ç›’ï¼Œåœ¨ 3x3 ç½‘æ ¼ä¸­å®Œæˆé…å¯¹å¹¶é“¾ä¸Šç»“ç®—å¥–åŠ±ã€‚å¥–åŠ±æŒ‰åˆçº¦èµ”ç‡è®¡ç®—ï¼Œç»“ç®—åå‘æ”¾ã€‚"},docStep1:{en:"Connect your wallet to sync game sessions and stats.",zh:"è¿æ¥é’±åŒ…ä»¥åŒæ­¥æ¸¸æˆä¼šè¯ä¸ç»Ÿè®¡æ•°æ®ã€‚"},docStep2:{en:"Choose 3-20 blindboxes and start the session (0.1 GAS each).",zh:"é€‰æ‹© 3-20 ä¸ªç›²ç›’å¹¶å¼€å§‹æ¸¸æˆï¼ˆæ¯ä¸ª 0.1 GASï¼‰ã€‚"},docStep3:{en:"Watch auto-opening, matches, and reward previews as the grid fills.",zh:"è§‚çœ‹è‡ªåŠ¨å¼€ç›’ã€é…å¯¹ä¸å¥–åŠ±é¢„è§ˆã€‚"},docStep4:{en:"Settle the session on-chain to receive GAS rewards, then start a new game.",zh:"é“¾ä¸Šç»“ç®—è·å– GAS å¥–åŠ±ï¼Œç„¶åå¼€å§‹æ–°ä¸€å±€ã€‚"},docFeature1Name:{en:"On-chain sessions",zh:"é“¾ä¸Šä¼šè¯"},docFeature1Desc:{en:"Sessions, matches, and payouts are recorded by the contract.",zh:"ä¼šè¯ã€é…å¯¹ä¸å¥–åŠ±å‡ç”±åˆçº¦è®°å½•ã€‚"},docFeature2Name:{en:"Deterministic reveals",zh:"å¯å¤ç°å¼€ç›’"},docFeature2Desc:{en:"Turtle colors are derived from a seeded hash for transparent outcomes.",zh:"ä¹Œé¾Ÿé¢œè‰²ç”±ç§å­å“ˆå¸Œæ¨å¯¼ï¼Œç»“æœé€æ˜å¯éªŒè¯ã€‚"},docFeature3Name:{en:"Instant settlement",zh:"å³æ—¶ç»“ç®—"},docFeature3Desc:{en:"Complete the session and claim rewards in a single settlement.",zh:"å®Œæˆä¼šè¯åä¸€æ¬¡ç»“ç®—å³å¯é¢†å–å¥–åŠ±ã€‚"},connectWallet:{en:"Connect Wallet",zh:"è¿æ¥é’±åŒ…"},buyBlindbox:{en:"Buy Boxes",zh:"è´­ä¹°ç›²ç›’"},pricePerBox:{en:"GAS / box",zh:"GAS / ä¸ª"},totalPrice:{en:"Total",zh:"æ€»ä»·"},startGame:{en:"Start Game",zh:"å¼€å§‹æ¸¸æˆ"},box:{en:"Box",zh:"ç›’å­"},remainingBoxes:{en:"Remaining",zh:"å‰©ä½™ç›²ç›’"},matches:{en:"Matches",zh:"å·²é…å¯¹"},won:{en:"Won",zh:"å·²èµ¢å–"},autoOpening:{en:"Auto opening...",zh:"è‡ªåŠ¨å¼€å¯ä¸­..."},settleRewards:{en:"Settle Rewards",zh:"ç»“ç®—å¥–åŠ±"},newGame:{en:"New Game",zh:"å¼€å§‹æ–°æ¸¸æˆ"},blindbox:{en:"Blindbox",zh:"ç›²ç›’"},connectWalletFirst:{en:"Please connect your wallet first.",zh:"è¯·å…ˆè¿æ¥é’±åŒ…"},invalidBoxCount:{en:"Blindbox count must be between 3 and 20.",zh:"ç›²ç›’æ•°é‡å¿…é¡»åœ¨3-20ä¹‹é—´"},contractUnavailable:{en:"Contract unavailable",zh:"åˆçº¦ä¸å¯ç”¨"},receiptMissing:{en:"Payment receipt missing",zh:"æ”¯ä»˜å‡­è¯ç¼ºå¤±"},noActiveSession:{en:"No active game session.",zh:"æ²¡æœ‰æ´»è·ƒçš„æ¸¸æˆä¼šè¯"},alreadySettled:{en:"Game already settled.",zh:"æ¸¸æˆå·²ç»“ç®—"},scriptHashMissing:{en:"Verification script unavailable",zh:"éªŒè¯è„šæœ¬ä¸å¯ç”¨"},statsLoadFailed:{en:"Failed to load stats.",zh:"ç»Ÿè®¡æ•°æ®åŠ è½½å¤±è´¥"},sessionLoadFailed:{en:"Failed to load session.",zh:"ä¼šè¯åŠ è½½å¤±è´¥"},connectFailed:{en:"Unable to connect wallet.",zh:"æ— æ³•è¿æ¥é’±åŒ…"},sdkUnavailable:{en:"SDK not available",zh:"SDK ä¸å¯ç”¨"},sdkInitTimeout:{en:"SDK initialization timeout",zh:"SDK åˆå§‹åŒ–è¶…æ—¶"},error:{en:"Error",zh:"é”™è¯¯"},wrongChain:{en:"Wrong Network",zh:"ç½‘ç»œé”™è¯¯"},wrongChainMessage:{en:"This app requires Neo N3 network.",zh:"æ­¤åº”ç”¨éœ€ Neo N3 ç½‘ç»œã€‚"},switchToNeo:{en:"Switch to Neo N3",zh:"åˆ‡æ¢åˆ° Neo N3"},loading:{en:"Loading...",zh:"åŠ è½½ä¸­..."},docs:{en:"Docs",zh:"æ–‡æ¡£"},tabPlay:{en:"Play",zh:"æ¸¸æˆ"},tabGuide:{en:"Guide",zh:"å¼•å¯¼"},tabCommunity:{en:"Reviews",zh:"è¯„ä»·"},operationFlow:{en:"Operation Flow",zh:"æ“ä½œæµç¨‹"},coreLogicTitle:{en:"Core Game Logic",zh:"æ ¸å¿ƒç©æ³•é€»è¾‘"},operationPanelTitle:{en:"Transaction Operation Block",zh:"äº¤æ˜“æ“ä½œé¢æ¿"},communityReviews:{en:"Community Reviews",zh:"ç¤¾åŒºè¯„ä»·"},communityHint:{en:"Real user feedback focused on interaction clarity and transaction flow.",zh:"çœŸå®ç”¨æˆ·åé¦ˆï¼Œé‡ç‚¹å…³æ³¨äº¤äº’æ¸…æ™°åº¦å’Œäº¤æ˜“æµç¨‹ã€‚"},wpTitle:{en:"Wallet Required",zh:"éœ€è¦é’±åŒ…"},wpDescription:{en:"Please connect your wallet to continue.",zh:"è¯·è¿æ¥é’±åŒ…ä»¥ç»§ç»­ã€‚"},wpConnect:{en:"Connect Wallet",zh:"è¿æ¥é’±åŒ…"},wpCancel:{en:"Cancel",zh:"å–æ¶ˆ"},docWhatItIs:{en:"What is it?",zh:"è¿™æ˜¯ä»€ä¹ˆï¼Ÿ"},docHowToUse:{en:"How to use",zh:"å¦‚ä½•ä½¿ç”¨"},docOnChainFeatures:{en:"On-Chain Features",zh:"é“¾ä¸Šç‰¹æ€§"},phase:{en:"Phase",zh:"é˜¶æ®µ"},overview:{en:"Overview",zh:"æ¦‚è§ˆ"},errorFallback:{en:"Something went wrong",zh:"å‡ºç°é”™è¯¯"}}),Oe=5e3,Le=1e4,Ke=100,We=["https://neomini.app","https://miniapp.neo.org","https://testnet.miniapp.neo.org"];const He=new class{constructor(){this.dynamicOrigins=new Set,this.baseOrigins=new Set([...We])}getSelfOrigin(){if("undefined"==typeof window)return null;try{const e=new URL(window.location.href);if("null"===e.origin)return null;if("http:"===e.protocol||"https:"===e.protocol)return e.origin}catch{}return null}getReferrerOrigin(){if("undefined"==typeof document||!document.referrer)return null;try{return new URL(document.referrer).origin}catch{return null}}getAllowedOrigins(){const e=new Set(this.baseOrigins);this.dynamicOrigins.forEach(t=>e.add(t));const t=this.getReferrerOrigin();t&&this.baseOrigins.has(t)&&e.add(t);const a=this.getSelfOrigin();if(a&&e.add(a),"undefined"!=typeof window){const t=window.location.hostname;"localhost"!==t&&"127.0.0.1"!==t||e.add(window.location.origin)}return e}isValid(e){return!(!e||"null"===e)&&this.getAllowedOrigins().has(e)}getTargetOrigin(){var e;const t=this.getReferrerOrigin();if(t&&this.baseOrigins.has(t))return t;try{if("undefined"!=typeof window&&window.parent!==window&&(null==(e=window.location.ancestorOrigins)?void 0:e.length)>0){const e=window.location.ancestorOrigins[0];if(this.baseOrigins.has(e))return e}}catch{}const a=this.getSelfOrigin();if(a)return a;if("undefined"!=typeof window){const e=window.location.hostname;if("localhost"===e||"127.0.0.1"===e)return window.location.origin}throw new Error("Cannot determine safe target origin - no valid origin found")}getSafeTargetOrigin(){try{const e=this.getTargetOrigin();if(e&&"null"!==e)return e}catch{}if("undefined"!=typeof window&&window.parent!==window){const e=window.__MINIAPP_PARENT_ORIGIN__;if("string"==typeof e&&e&&this.baseOrigins.has(e))return e;throw new Error("Cannot communicate securely with parent - origin unknown. Ensure host app sets __MINIAPP_PARENT_ORIGIN__ or uses a supported browser.")}throw new Error("Cannot determine safe target origin - origin is null or undefined")}addDynamicOrigin(e){e&&"null"!==e&&this.dynamicOrigins.add(e)}};let Ue=null;function qe(e){const t=null==e?void 0:e.layout;if("web"===t||"mobile"===t)return t;if("undefined"!=typeof window){const e=new URLSearchParams(window.location.search).get("layout");if("web"===e||"mobile"===e)return e;if(window.ReactNativeWebView)return"mobile"}return"web"}function je(e){if(!e||"object"!=typeof e)return!1;const t="function"==typeof e.invoke&&"function"==typeof e.getConfig,a="object"==typeof e.wallet||"object"==typeof e.payments;return t||a}function Ve(e=Oe){return new Promise((t,a)=>{if("undefined"==typeof window)return void a(new Error("SDK not available in SSR"));if(window.MiniAppSDK)return je(window.MiniAppSDK)?void t(window.MiniAppSDK):void a(new Error("SDK validation failed"));const n=setTimeout(()=>{if(window.removeEventListener("miniapp-sdk-ready",l),window.parent!==window){const e=function(){const e=He.getSafeTargetOrigin();let t=0;const a=(a,...n)=>new Promise((l,o)=>{const s="undefined"!=typeof crypto&&crypto.getRandomValues?Array.from(crypto.getRandomValues(new Uint8Array(4)),e=>e.toString(16).padStart(2,"0")).join(""):Math.random().toString(36).slice(2,10),r=`sdk-${++t}-${Date.now()}-${s}`,i=setTimeout(()=>{window.removeEventListener("message",c),o(new Error("SDK invoke timeout"))},Le),c=e=>{var t,a;He.isValid(e.origin)&&e.source===window.parent&&"miniapp_sdk_response"===(null==(t=e.data)?void 0:t.type)&&(null==(a=e.data)?void 0:a.id)===r&&(clearTimeout(i),window.removeEventListener("message",c),e.data.ok?l(e.data.result):o(new Error(e.data.error||"SDK call failed")))};window.addEventListener("message",c),window.parent.postMessage({type:"miniapp_sdk_request",id:r,method:a,params:n},e)});return{invoke:a,getConfig:()=>Ue?{...Ue,layout:qe(Ue)}:"undefined"!=typeof window&&window.__MINIAPP_CONFIG__?(Ue=window.__MINIAPP_CONFIG__,{...Ue,layout:qe(Ue??void 0)}):{appId:"",contractAddress:null,chainId:null,chainType:void 0,supportedChains:[],layout:qe(),debug:!1},getAddress:()=>a("getAddress"),wallet:{getAddress:()=>a("wallet.getAddress"),switchChain:e=>a("wallet.switchChain",e),invokeIntent:e=>a("wallet.invokeIntent",e),signMessage:e=>a("wallet.signMessage",e)},payments:{payGAS:(e,t,n)=>a("payments.payGAS",e,t,n),payGASAndInvoke:(e,t,n)=>a("payments.payGASAndInvoke",e,t,n)},governance:{vote:(e,t,n,l)=>a("governance.vote",e,t,n,l),voteAndInvoke:(e,t,n,l)=>a("governance.voteAndInvoke",e,t,n,l),getCandidates:()=>a("governance.getCandidates")},rng:{requestRandom:e=>a("rng.requestRandom",e)},datafeed:{getPrice:e=>a("datafeed.getPrice",e),getPrices:()=>a("datafeed.getPrices"),getNetworkStats:()=>a("datafeed.getNetworkStats"),getRecentTransactions:e=>a("datafeed.getRecentTransactions",e)},stats:{getMyUsage:(e,t)=>a("stats.getMyUsage",e,t)},events:{list:e=>a("events.list",e),emit:(e,t)=>a("events.emit",e,t)},transactions:{list:e=>a("transactions.list",e)},automation:{register:(e,t,n,l)=>a("automation.register",e,t,n,l),unregister:e=>a("automation.unregister",e),status:e=>a("automation.status",e),list:()=>a("automation.list"),update:(e,t,n)=>a("automation.update",e,t,n),enable:e=>a("automation.enable",e),disable:e=>a("automation.disable",e),logs:(e,t)=>a("automation.logs",e,t)},share:{openModal:e=>a("share.openModal",e),getUrl:e=>a("share.getUrl",e),copy:e=>a("share.copy",e)}}}();window.MiniAppSDK=e,e.invoke("getConfig").then(e=>{e&&"object"==typeof e&&(Ue=e)}).catch(()=>{}),t(e)}else a(new Error("SDK timeout"))},e),l=()=>{if(clearTimeout(n),window.removeEventListener("miniapp-sdk-ready",l),window.MiniAppSDK){if(!je(window.MiniAppSDK))return void a(new Error("SDK validation failed"));t(window.MiniAppSDK)}else a(new Error("SDK not found"))};window.addEventListener("miniapp-sdk-ready",l)})}function Je(){return"undefined"==typeof window?null:window.MiniAppSDK??null}const Qe=new Set;let Xe={connected:!1,address:null,balance:null},Ye=null,Ze=!1;function et(e){return e instanceof Error?e:"string"==typeof e?new Error(e):new Error(String(e))}"undefined"!=typeof window&&("undefined"!=typeof window&&(Ze&&Ye||(Ye=e=>{if(e.source!==window.parent)return;if(!He.isValid(e.origin))return;const t=e.data;t&&"object"==typeof t&&("miniapp_config"!==t.type?"miniapp_wallet_state_change"===t.type&&(Xe={connected:Boolean(t.connected),address:t.address||null,chainId:t.chainId??null,chainType:t.chainType??null,balance:t.balance||t.multiChainBalance||null,balances:t.balances||void 0},Qe.forEach(e=>{try{e(Xe)}catch(t){console.error("[MiniApp SDK] Wallet state listener error:",t)}})):t.config&&"object"==typeof t.config&&(Ue=t.config))},window.addEventListener("message",Ye),Ze=!0)),setTimeout(function(){if("undefined"==typeof window)return;const e=He.getSafeTargetOrigin();try{window.parent.postMessage({type:"miniapp_ready"},e)}catch{}},Ke));class tt extends Error{constructor(e,t){super(e),this.statusCode=t,this.name="HttpError"}}const at={maxRetries:3,baseDelayMs:1e3,maxDelayMs:1e4};function nt(e,t){return Math.min(t.baseDelayMs*Math.pow(2,e),t.maxDelayMs)*(.75+.5*Math.random())}function lt(e,t){if(t&&t>=500)return!0;if(429===t)return!0;if(e instanceof Error){const t=e.message.toLowerCase();return t.includes("network")||t.includes("timeout")||t.includes("abort")}return!1}async function ot(e,t){var a;if("undefined"!=typeof uni&&"function"==typeof C)return new Promise((a,n)=>{const l=(e=>{if(e){if(e instanceof Headers){const t={};return e.forEach((e,a)=>{t[a]=e}),t}return Array.isArray(e)?Object.fromEntries(e):e}})(t.headers),o=String((null==l?void 0:l["Content-Type"])||(null==l?void 0:l["content-type"])||"");let s=t.body;if("string"==typeof s&&o.includes("application/json"))try{s=JSON.parse(s)}catch{}C({url:e,method:t.method||"GET",data:s,header:l,success:e=>{if((e.statusCode??0)>=200&&(e.statusCode??0)<300)a(e.data);else{const t=e.data,a=null==t?void 0:t.error,l=("string"==typeof(null==a?void 0:a.message)?a.message:null)||`Request failed: ${e.statusCode}`;n(new tt(l,e.statusCode??0))}},fail:e=>{n(new Error(e.errMsg||"Network error"))}})});const n="undefined"!=typeof window&&e.startsWith(window.location.origin),l=await fetch(e,{credentials:n?"include":"same-origin",...t});if(!l.ok){const t=await l.json().catch(()=>({}));throw new tt((null==(a=t.error)?void 0:a.message)||`Request failed: ${e}`,l.status)}return l.json()}async function st(e){return async function(e,t={}){var a,n;const l=e.startsWith("http")?e:`https://api.neo-service-layer.io${e}`,o={...at,...t.retryConfig};let s=null;for(let i=0;i<=o.maxRetries;i++){if(null==(a=t.signal)?void 0:a.aborted)throw new Error("Request cancelled");try{return await ot(l,t)}catch(r){s=r instanceof Error?r:new Error(String(r));const e=r instanceof tt?r.statusCode:void 0;if(null==(n=t.signal)?void 0:n.aborted)throw s;if(i>=o.maxRetries)break;if(!lt(r,e))break;const a=nt(i,o);await new Promise(e=>setTimeout(e,a))}}throw s||new Error("Request failed")}(e,{method:"GET"})}let rt=null,it=null;function ct(){const e=y(null),t=y({}),n=y(null),l=y(null),o=y(null),s=y([]),r=y(!1),i=y(!1),c=y(null),u=y(!1),d=y(null),f=a=>{a.connected&&a.address?(e.value=a.address,r.value=!0):(e.value=null,r.value=!1),n.value=a.chainId??null,l.value=a.chainType??null,t.value=(e=>{if(!e)return{};if(e.balances&&Object.keys(e.balances).length>0)return{...e.balances};if(e.balance){const t={};return t[e.balance.nativeSymbol||("neo-n3"===e.chainType?"GAS":"NATIVE")]=e.balance.native||"0",(e.balance.governance||e.balance.governanceSymbol)&&(t[e.balance.governanceSymbol||("neo-n3"===e.chainType?"NEO":"GOV")]=e.balance.governance||"0"),t}return{}})(a)},p=e=>{e&&(o.value=e.chainId??null,s.value=Array.isArray(e.supportedChains)?e.supportedChains:[])},v=async()=>{var e;const t=await Ve(),a=null==(e=t.getConfig)?void 0:e.call(t);return p(a),a},h=async e=>{const t=await Ve();if(!t.wallet.switchChain)throw new Error("switchChain not supported by SDK");await t.wallet.switchChain(e),n.value=e};let g=null;return a(()=>{var t;f(Xe),t=e=>{f(e)},Qe.add(t),t(Xe),g=()=>Qe.delete(t);const a=Je();(null==a?void 0:a.getConfig)&&p(a.getConfig()),a&&!r.value&&(e=>e?(rt&&it!==e&&(rt=null,it=null),rt||(it=e,rt=e.wallet.getAddress().then(e=>e||null).catch(e=>{const t=e instanceof Error?e.message:String(e);return console.debug("[MiniApp SDK] Fallback wallet connection failed:",t),null}).finally(()=>{rt=null,it=null})),rt):Promise.resolve(null))(a).then(t=>{var o;if(!r.value&&t){e.value=t,r.value=!0;const s=null==(o=a.getConfig)?void 0:o.call(a);n.value=(null==s?void 0:s.chainId)??null,l.value=(null==s?void 0:s.chainType)??null,p(s)}}),Ve().then(e=>{var t;return p(null==(t=e.getConfig)?void 0:t.call(e))}).catch(()=>{})}),S(()=>{g&&g()}),{address:e,chainId:n,chainType:l,appChainId:o,supportedChains:s,balances:t,isConnected:r,isLoading:i,error:c,showConnectionPrompt:u,connectionPromptMessage:d,connect:async()=>{var t;i.value=!0,c.value=null;try{const a=await Ve(),o=await a.wallet.getAddress();if(!o)throw new Error("wallet returned empty address");e.value=o,r.value=!0;const s=null==(t=a.getConfig)?void 0:t.call(a);n.value=(null==s?void 0:s.chainId)??null,l.value=(null==s?void 0:s.chainType)??null,p(s)}catch(a){c.value=et(a)}finally{i.value=!1}},invokeIntent:async e=>{var t;const a=Je();if(!(null==(t=null==a?void 0:a.wallet)?void 0:t.invokeIntent))throw new Error("invokeIntent not available");return a.wallet.invokeIntent(e)},invokeContract:async e=>{var t;const a=await Ve(),n=null==(t=a.getConfig)?void 0:t.call(a),l=e.contractAddress||e.scriptHash||e.contractHash,o=e.method||e.operation;if(!l||!o)throw new Error("contract address and method required");return a.invoke("invokeFunction",{contract:l,method:o,args:e.args,chainId:null==n?void 0:n.chainId,chainType:null==n?void 0:n.chainType})},invokeRead:async e=>{var t;const a=await Ve(),n=null==(t=a.getConfig)?void 0:t.call(a),l=e.contractAddress||e.scriptHash||e.contractHash||(null==n?void 0:n.contractAddress),o=e.method||e.operation;if(!l)throw new Error("contract address not configured");if(!o)throw new Error("method required");return a.invoke("invokeRead",{contract:l,method:o,args:e.args||[],chainId:e.chainId||(null==n?void 0:n.chainId),chainType:e.chainType||(null==n?void 0:n.chainType)})},getContractAddress:async()=>{var e,t,a,n,l;const o=await Ve(),s=null==(e=o.getConfig)?void 0:e.call(o);if(null==s?void 0:s.contractAddress)return s.contractAddress;if((null==s?void 0:s.chainId)&&(null==(a=null==(t=null==s?void 0:s.chainContracts)?void 0:t[s.chainId])?void 0:a.address))return s.chainContracts[s.chainId].address||null;if(o.invoke)try{const e=await o.invoke("getConfig");if(null==e?void 0:e.contractAddress)return e.contractAddress;if((null==e?void 0:e.chainId)&&(null==(l=null==(n=null==e?void 0:e.chainContracts)?void 0:n[e.chainId])?void 0:l.address))return e.chainContracts[e.chainId].address||null}catch{}return null},getAppConfig:v,getAddress:async()=>(await Ve()).wallet.getAddress(),signMessage:async e=>{var t;const a=await Ve();if(!(null==(t=a.wallet)?void 0:t.signMessage))throw new Error("signMessage not available");return a.wallet.signMessage(e)},switchChain:h,switchToAppChain:async e=>{const t=await v(),a=(null==t?void 0:t.chainId)||(Array.isArray(null==t?void 0:t.supportedChains)&&t.supportedChains.length>0?t.supportedChains[0]:null)||e||null;if(!a)throw new Error("app chain not configured");await h(a)},getBalance:async e=>{var a;i.value=!0,c.value=null;try{const l=await Ve(),o=null==(a=l.getConfig)?void 0:a.call(l),s=(null==o?void 0:o.chainId)||n.value,r=s?`?chain_id=${encodeURIComponent(s)}`:"",i=await st(`/wallet-balance${r}`),c=(null==i?void 0:i.balances)??{};return t.value=c,e?c[e]||"0":c}catch(l){throw c.value=et(l),l}finally{i.value=!1}},getTransactions:async(e=20)=>{var t;i.value=!0,c.value=null;try{const a=Number.isNaN(e)||e<1?20:Math.min(e,100),l=await Ve(),o=null==(t=l.getConfig)?void 0:t.call(l),s=(null==o?void 0:o.chainId)||n.value,r=new URLSearchParams({limit:String(a)});s&&r.set("chain_id",s);const i=await st(`/wallet-transactions?${r.toString()}`);return(null==i?void 0:i.transactions)??[]}catch(a){throw c.value=et(a),a}finally{i.value=!1}},invoke:async(e,t)=>(await Ve()).invoke(e,t),requireConnection:(e={})=>{const{showPrompt:t=!0,errorMessage:a}=e;return!!r.value||(t&&(d.value=a||null,u.value=!0),!1)},closeConnectionPrompt:()=>{u.value=!1,d.value=null},clearError:()=>{c.value=null}}}function ut(e){if(null==e)return null;if("object"==typeof e&&"type"in e){const t=e;switch(t.type){case"ByteArray":case"Buffer":case"InteropInterface":default:return t.value;case"Integer":return"string"==typeof t.value?t.value.startsWith("0x")?BigInt(t.value).toString():parseInt(t.value,10):Number(t.value);case"Array":case"Struct":return Array.isArray(t.value)?t.value.map(ut):t.value;case"Map":if(Array.isArray(t.value)){const e=new Map;for(const a of t.value)Array.isArray(a)&&2===a.length&&e.set(ut(a[0]),ut(a[1]));return Object.fromEntries(e)}return t.value;case"Boolean":return Boolean(t.value);case"String":case"Hash160":case"Hash256":return String(t.value)}}return Array.isArray(e)?e.map(ut):e}function dt(e){if(!e)return null;if("object"==typeof e&&null!==e){const t=e;return"stack"in t&&Array.isArray(t.stack)?0===t.stack.length?null:1===t.stack.length?ut(t.stack[0]):t.stack.map(ut):"state"in t?ut(t.state):"txid"in t||"txHash"in t?e:ut(e)}return"string"==typeof e||"number"==typeof e||"boolean"==typeof e?e:ut(e)}y("en");class ft extends Error{constructor(e,t,a,n){super(e),this.code=t,this.userMessage=a,this.details=n,this.name="MiniAppError"}}function pt(e,t="An error occurred"){return function(e){return e instanceof ft}(e)?e.userMessage||e.message:e instanceof Error?e.message:t}function vt(e,t){const{payGAS:a}=function(e){const{isLoading:t,error:a,execute:n}=ne(async(t,a)=>{const n=parseFloat(t);if(Number.isNaN(n)||n<=0)throw new Error("Invalid amount: must be a positive number");const l=await Q();return l.payments.payGASAndInvoke?await l.payments.payGASAndInvoke(e,t,a):await l.payments.payGAS(e,t,a)});return{isLoading:t,error:a,payGAS:n}}(e),{address:n,connect:l,invokeContract:o}=fe(),{list:s}=function(){const e=ne(async(e={})=>{var t;const a=await Q();if(!(null==(t=a.events)?void 0:t.list))throw new Error("events.list not available");return await a.events.list(e)}),t=ne(async(e,t)=>{var a;const n=String(e||"").trim();if(!n)throw new Error("eventName required");const l=await Q();if(!(null==(a=l.events)?void 0:a.emit))throw new Error("events.emit not available");return await l.events.emit(n,t||{})});return{isLoading:e.isLoading,error:e.error,list:e.execute,isEmitting:t.isLoading,emitError:t.error,emit:t.execute}}(),r=y(!1),i=y(null),c=y(!1);return{isProcessing:r,isLoading:r,error:i,success:c,processPayment:async(u,d)=>{try{if(n.value||await l(),!n.value)throw new Error("Wallet not connected");r.value=!0,i.value=null;const f=(await a(u,d)).receipt_id||"",p=async(t,a,n=3e4)=>async function(e,t,a){const{timeoutMs:n=3e4,pollIntervalMs:l=1500,errorMessage:o="Event not found in time"}=a||{},s=Date.now();for(;Date.now()-s<n;){const a=(await e()).find(t);if(a)return a;await new Promise(e=>setTimeout(e,l))}throw new Error(o)}(async()=>(await s({app_id:e,event_name:a,limit:20})).events||[],e=>e.tx_hash===t,{timeoutMs:n,errorMessage:`Event "${a}" not found for transaction ${t}`});return{receiptId:f,invoke:async(e,t,a)=>{let n,l,s;if("string"==typeof t&&Array.isArray(a))n=e,l=t,s=a;else{if(!Array.isArray(t)||"string"!=typeof a)throw new Error("Invalid invoke signature");l=e,s=t,n=a}const r=await o({scriptHash:n,operation:l,args:s});return{txid:r.txid||r.txHash||"",receiptId:f}},waitForEvent:p,triggerSuccess:()=>{var e;c.value=!0,null==(e=null==t?void 0:t.onSuccess)||e.call(t),setTimeout(()=>{c.value=!1},3500)}}}catch(f){throw i.value=f instanceof Error?f:new Error(String(f)),f}finally{r.value=!1}}}}var ht=(e=>(e[e.Green=0]="Green",e[e.Red=1]="Red",e[e.Blue=2]="Blue",e[e.Purple=3]="Purple",e[e.Gold=4]="Gold",e))(ht||{});const gt={2:BigInt(1e7),3:BigInt(5e7),4:BigInt(1e8),5:BigInt(25e7)};function mt(e,t=4){const a="bigint"==typeof e?e:BigInt(e||0),n=BigInt(1e8),l=a/n,o=a%n;if(o===BigInt(0))return l.toString();const s=o.toString().padStart(8,"0").slice(0,t).replace(/0+$/,"");return s?`${l}.${s}`:l.toString()}const wt=R(e({__name:"PlayerStats",props:{stats:{},t:{type:Function}},setup:e=>(e,t)=>{const a=o,s=c;return n(),l(x(Ae),{variant:"erobo"},{default:i(()=>[m(a,{class:"stats-display"},{default:i(()=>[m(a,{class:"stat-row"},{default:i(()=>[m(a,{class:"stat-icon"},{default:i(()=>[u("ğŸ“…")]),_:1}),m(s,{class:"stat-label"},{default:i(()=>[u(d(e.t("totalSessions")),1)]),_:1}),m(s,{class:"stat-value"},{default:i(()=>{var t;return[u(d((null==(t=e.stats)?void 0:t.totalSessions)||0),1)]}),_:1})]),_:1}),m(a,{class:"stat-divider"}),m(a,{class:"stat-row"},{default:i(()=>[m(a,{class:"stat-icon"},{default:i(()=>[u("ğŸ’")]),_:1}),m(s,{class:"stat-label"},{default:i(()=>[u(d(e.t("totalRewards")),1)]),_:1}),m(s,{class:"stat-value gold"},{default:i(()=>{var t;return[u(d(x(mt)((null==(t=e.stats)?void 0:t.totalPaid)||0n,3))+" GAS",1)]}),_:1})]),_:1})]),_:1})]),_:1})}}),[["__scopeId","data-v-978e2c5c"]]),bt={0:"#50C878",1:"#FF6B6B",2:"#4ECDC4",3:"#9B59B6",4:"#FFD700"},yt=R(e({__name:"TurtleSprite",props:{color:{},matched:{type:Boolean,default:!1},size:{default:"md"}},setup(e){const a=e,c={[ht.Red]:{color:"#EF4444",dark:"#991B1B",light:"#F87171",highlight:"#FECACA"},[ht.Orange]:{color:"#F97316",dark:"#9A3412",light:"#FB923C",highlight:"#FED7AA"},[ht.Yellow]:{color:"#EAB308",dark:"#854D0E",light:"#FACC15",highlight:"#FEF08A"},[ht.Green]:{color:"#22C55E",dark:"#166534",light:"#4ADE80",highlight:"#BBF7D0"},[ht.Blue]:{color:"#3B82F6",dark:"#1E40AF",light:"#60A5FA",highlight:"#BFDBFE"},[ht.Purple]:{color:"#A855F7",dark:"#6B21A8",light:"#C084FC",highlight:"#E9D5FF"},[ht.Pink]:{color:"#EC4899",dark:"#9D174D",light:"#F472B6",highlight:"#FBCFE8"},[ht.Gold]:{color:"#FFD700",dark:"#92400E",light:"#FDE047",highlight:"#FFFBEB"}},u=t(()=>c[a.color]||c[ht.Green]),d=t(()=>{switch(a.size){case"sm":return"40px";case"lg":return"120px";default:return"80px"}});return(e,t)=>{const a=o;return n(),l(a,{class:r(["turtle-container",{"is-matched":e.matched}]),style:s({width:d.value,height:d.value})},{default:i(()=>[(n(),f("svg",{viewBox:"0 0 200 200",xmlns:"http://www.w3.org/2000/svg",class:"turtle-svg"},[F("defs",null,[F("radialGradient",{id:"shellGrad-"+e.color,cx:"40%",cy:"40%",r:"60%"},[F("stop",{offset:"0%","stop-color":u.value.highlight},null,8,["stop-color"]),F("stop",{offset:"70%","stop-color":u.value.color},null,8,["stop-color"]),F("stop",{offset:"100%","stop-color":u.value.dark},null,8,["stop-color"])],8,["id"]),F("linearGradient",{id:"skinGrad-"+e.color,x1:"0%",y1:"0%",x2:"0%",y2:"100%"},[F("stop",{offset:"0%","stop-color":u.value.light},null,8,["stop-color"]),F("stop",{offset:"100%","stop-color":u.value.dark},null,8,["stop-color"])],8,["id"]),F("radialGradient",{id:"eyeGrad",cx:"30%",cy:"30%",r:"80%"},[F("stop",{offset:"0%","stop-color":"#FFFFFF"}),F("stop",{offset:"100%","stop-color":"#E5E7EB"})]),F("filter",{id:"refraction-"+e.color,x:"-20%",y:"-20%",width:"140%",height:"140%"},[F("feGaussianBlur",{in:"SourceAlpha",stdDeviation:"1.5",result:"blur"}),F("feSpecularLighting",{in:"blur",surfaceScale:"5",specularConstant:"0.7",specularExponent:"30","lighting-color":u.value.highlight,result:"spec"},[F("fePointLight",{x:"-50",y:"-100",z:"200"})],8,["lighting-color"]),F("feComposite",{in:"spec",in2:"SourceAlpha",operator:"in",result:"specOut"}),F("feComposite",{in:"SourceGraphic",in2:"specOut",operator:"arithmetic",k1:"0",k2:"1",k3:"1",k4:"0"})],8,["id"]),F("filter",{id:"dropShadow",x:"-20%",y:"-20%",width:"140%",height:"140%"},[F("feDropShadow",{dx:"0",dy:"5",stdDeviation:"3","flood-opacity":"0.3"})])]),F("g",{class:"turtle-body"},[F("ellipse",{cx:"100",cy:"160",rx:"70",ry:"15",fill:"#000000",opacity:"0.15",class:"floor-shadow"}),F("g",{filter:"url(#refraction-"+e.color+")"},[F("g",{class:"turtle-limbs"},[F("ellipse",{cx:"60",cy:"140",rx:"18",ry:"12",fill:"url(#skinGrad-"+e.color+")",transform:"rotate(-20 60 140)"},null,8,["fill"]),F("ellipse",{cx:"140",cy:"140",rx:"18",ry:"12",fill:"url(#skinGrad-"+e.color+")",transform:"rotate(20 140 140)"},null,8,["fill"]),F("ellipse",{cx:"50",cy:"85",rx:"18",ry:"12",fill:"url(#skinGrad-"+e.color+")",transform:"rotate(30 50 85)"},null,8,["fill"]),F("ellipse",{cx:"150",cy:"85",rx:"18",ry:"12",fill:"url(#skinGrad-"+e.color+")",transform:"rotate(-30 150 85)"},null,8,["fill"])]),F("g",{class:"turtle-head"},[F("ellipse",{cx:"100",cy:"55",rx:"30",ry:"28",fill:"url(#skinGrad-"+e.color+")"},null,8,["fill"]),F("g",{class:"eyes"},[F("circle",{cx:"85",cy:"50",r:"8",fill:"url(#eyeGrad)",stroke:"#ccc","stroke-width":"0.5"}),F("circle",{cx:"85",cy:"50",r:"3",fill:"#1F2937"}),F("circle",{cx:"87",cy:"48",r:"1.5",fill:"white"}),F("circle",{cx:"115",cy:"50",r:"8",fill:"url(#eyeGrad)",stroke:"#ccc","stroke-width":"0.5"}),F("circle",{cx:"115",cy:"50",r:"3",fill:"#1F2937"}),F("circle",{cx:"113",cy:"48",r:"1.5",fill:"white"})]),F("path",{d:"M90 65 Q 100 72 110 65",fill:"none",stroke:"rgba(0,0,0,0.3)","stroke-width":"2","stroke-linecap":"round"})]),F("g",{class:"turtle-shell"},[F("ellipse",{cx:"100",cy:"105",rx:"70",ry:"60",fill:"url(#shellGrad-"+e.color+")",filter:"url(#dropShadow)"},null,8,["fill"]),F("ellipse",{cx:"100",cy:"105",rx:"65",ry:"55",fill:"none",stroke:u.value.highlight,"stroke-width":"2",opacity:"0.1",class:"shell-pulse"},null,8,["stroke"]),F("g",{opacity:"0.2"},[F("path",{d:"M100 65 L 125 80 L 125 110 L 100 125 L 75 110 L 75 80 Z",fill:"none",stroke:u.value.highlight,"stroke-width":"1.5"},null,8,["stroke"]),F("circle",{cx:"100",cy:"105",r:"40",fill:"none",stroke:u.value.highlight,"stroke-width":"0.5","stroke-dasharray":"2,2"},null,8,["stroke"])]),F("path",{d:"M50 105 Q 50 65 100 55 Q 150 65 150 105",fill:"none",stroke:"white","stroke-width":"4",opacity:"0.3","stroke-linecap":"round"}),F("ellipse",{cx:"85",cy:"75",rx:"20",ry:"12",transform:"rotate(-30 85 75)",fill:"white",opacity:"0.35",filter:"blur(4px)"})])],8,["filter"])])]))]),_:1},8,["class","style"])}}}),[["__scopeId","data-v-57daaf56"]]),_t=R(e({__name:"TurtleGrid",props:{gridTurtles:{},matchedPair:{}},setup(e){const a=e,s=t(()=>a.matchedPair&&0!==a.matchedPair.length?a.matchedPair.map(e=>{var t;return null==(t=a.gridTurtles[e])?void 0:t.id}).filter(e=>void 0!==e):[]);return(e,t)=>{const a=o;return n(),l(a,{class:"turtle-grid-wrapper"},{default:i(()=>[m(a,{class:"pond-waves"},{default:i(()=>[m(a,{class:"wave wave1"}),m(a,{class:"wave wave2"}),m(a,{class:"wave wave3"}),m(a,{class:"grass-shadows"},{default:i(()=>[m(a,{class:"grass grass1"}),m(a,{class:"grass grass2"})]),_:1})]),_:1}),m(a,{class:"turtle-grid"},{default:i(()=>[(n(!0),f(v,null,p(e.gridTurtles,(e,t)=>(n(),l(a,{key:t,class:r(["turtle-grid__cell",{"turtle-grid__cell--empty":!e,"turtle-grid__cell--matched":!!e&&s.value.includes(e.id)}])},{default:i(()=>[e?(n(),l(yt,{key:0,color:e.color,matched:s.value.includes(e.id),size:"md"},null,8,["color","matched"])):(n(),l(a,{key:1,class:"turtle-grid__placeholder"},{default:i(()=>[m(a,{class:"ripple-effect"})]),_:1}))]),_:2},1032,["class"]))),128))]),_:1})]),_:1})}}}),[["__scopeId","data-v-16a50861"]]),kt=R(e({__name:"GameBoard",props:{remainingBoxes:{},currentMatches:{},currentReward:{},gridTurtles:{},matchedPair:{},gamePhase:{},loading:{type:Boolean},t:{type:Function}},emits:["settle","newGame"],setup:e=>(e,t)=>{const a=c,s=o;return n(),l(s,{class:"game-board"},{default:i(()=>[m(s,{class:"game-stats-row"},{default:i(()=>[m(s,{class:"stat-bubble"},{default:i(()=>[m(a,{class:"bubble-label"},{default:i(()=>[u(d(e.t("remainingBoxes")),1)]),_:1}),m(a,{class:"bubble-value"},{default:i(()=>[u(d(e.remainingBoxes),1)]),_:1})]),_:1}),m(s,{class:"stat-bubble"},{default:i(()=>[m(a,{class:"bubble-label"},{default:i(()=>[u(d(e.t("matches")),1)]),_:1}),m(a,{class:"bubble-value"},{default:i(()=>[u(d(e.currentMatches),1)]),_:1})]),_:1}),m(s,{class:"stat-bubble highlight"},{default:i(()=>[m(a,{class:"bubble-label"},{default:i(()=>[u(d(e.t("won")),1)]),_:1}),m(a,{class:"bubble-value gold"},{default:i(()=>[u(d(x(mt)(e.currentReward||0n,3))+" GAS",1)]),_:1})]),_:1})]),_:1}),m(s,{class:"grid-container"},{default:i(()=>[m(_t,{gridTurtles:e.gridTurtles,matchedPair:e.matchedPair},null,8,["gridTurtles","matchedPair"])]),_:1}),m(s,{class:"game-actions"},{default:i(()=>["playing"===e.gamePhase?(n(),l(s,{key:0,class:"auto-play-status"},{default:i(()=>[m(s,{class:"auto-play-waves"},{default:i(()=>[m(s,{class:"p-wave"}),m(s,{class:"p-wave"})]),_:1}),m(a,{class:"auto-play-text"},{default:i(()=>[u(d(e.t("autoOpening")),1)]),_:1})]),_:1})):"settling"===e.gamePhase?(n(),l(x(be),{key:1,variant:"primary",size:"lg",block:"",onClick:t[0]||(t[0]=t=>e.$emit("settle")),loading:e.loading},{default:i(()=>[u(d(e.t("settleRewards")),1)]),_:1},8,["loading"])):"complete"===e.gamePhase?(n(),l(x(be),{key:2,variant:"secondary",block:"",onClick:t[1]||(t[1]=t=>e.$emit("newGame"))},{default:i(()=>[u(d(e.t("newGame")),1)]),_:1})):w("",!0)]),_:1})]),_:1})}}),[["__scopeId","data-v-298830e0"]]),Ct=R(e({__name:"ConnectPrompt",props:{loading:{type:Boolean},t:{type:Function}},emits:["connect"],setup:e=>(e,t)=>{const a=o,s=c;return n(),l(a,{class:"connect-prompt"},{default:i(()=>[m(x(Ae),{variant:"erobo"},{default:i(()=>[m(a,{class:"connect-prompt__content"},{default:i(()=>[m(a,{class:"hero-turtle"},{default:i(()=>[m(yt,{color:x(ht).Green,matched:""},null,8,["color"])]),_:1}),m(s,{class:"connect-prompt__title"},{default:i(()=>[u(d(e.t("title")),1)]),_:1}),m(s,{class:"connect-prompt__desc"},{default:i(()=>[u(d(e.t("description")),1)]),_:1}),m(x(be),{variant:"primary",size:"lg",onClick:t[0]||(t[0]=t=>e.$emit("connect")),loading:e.loading},{default:i(()=>[u(d(e.t("connectWallet")),1)]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1})}}),[["__scopeId","data-v-d6a0f678"]]),St=R(e({__name:"PurchaseSection",props:{boxCount:{},loading:{type:Boolean},t:{type:Function}},emits:["start","update:boxCount"],setup(e,{emit:a}){const s=e,r=a,f=t(()=>(.1*s.boxCount).toFixed(1));function p(){s.boxCount<20&&r("update:boxCount",s.boxCount+1)}function v(){s.boxCount>3&&r("update:boxCount",s.boxCount-1)}return(e,t)=>{const a=c,s=o;return n(),l(s,{class:"purchase-section"},{default:i(()=>[m(s,{class:"purchase-grid"},{default:i(()=>[m(x(Ae),{variant:"erobo-neo",class:"purchase-card"},{default:i(()=>[m(s,{class:"purchase-section__content"},{default:i(()=>[m(a,{class:"purchase-section__title"},{default:i(()=>[u(d(e.t("buyBlindbox")),1)]),_:1}),m(a,{class:"purchase-section__price"},{default:i(()=>[u("0.1 GAS / "+d(e.t("box")),1)]),_:1}),m(s,{class:"purchase-section__counter"},{default:i(()=>[m(s,{class:"counter-btn",onClick:v},{default:i(()=>[m(a,{class:"btn-icon"},{default:i(()=>[u("-")]),_:1})]),_:1}),m(a,{class:"counter-value"},{default:i(()=>[u(d(e.boxCount),1)]),_:1}),m(s,{class:"counter-btn",onClick:p},{default:i(()=>[m(a,{class:"btn-icon"},{default:i(()=>[u("+")]),_:1})]),_:1})]),_:1}),m(s,{class:"purchase-section__total"},{default:i(()=>[m(a,{class:"total-label"},{default:i(()=>[u(d(e.t("totalPrice")),1)]),_:1}),m(a,{class:"total-value"},{default:i(()=>[u(d(f.value)+" GAS",1)]),_:1})]),_:1}),m(x(be),{variant:"primary",size:"lg",block:"",onClick:t[0]||(t[0]=t=>e.$emit("start")),loading:e.loading},{default:i(()=>[u(d(e.t("startGame")),1)]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1})]),_:1})}}}),[["__scopeId","data-v-5bdcce66"]]),xt=R(e({__name:"GuideTab",props:{t:{type:Function}},setup(e){const a=e,s=t(()=>[a.t("docFeature1Desc"),a.t("docFeature2Desc"),a.t("docFeature3Desc")]),r=t(()=>[a.t("docStep1"),a.t("docStep2"),a.t("docStep3"),a.t("docStep4")]);return(e,t)=>{const a=c,h=o;return n(),l(h,{class:"insight-grid"},{default:i(()=>[m(x(Ae),{variant:"erobo",class:"insight-card"},{default:i(()=>[m(a,{class:"insight-title"},{default:i(()=>[u(d(e.t("coreLogicTitle")),1)]),_:1}),m(h,{class:"insight-list"},{default:i(()=>[(n(!0),f(v,null,p(s.value,e=>(n(),l(h,{key:e,class:"insight-item"},{default:i(()=>[m(a,{class:"insight-bullet"},{default:i(()=>[u("â€¢")]),_:1}),m(a,{class:"insight-text"},{default:i(()=>[u(d(e),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),m(x(Ae),{variant:"erobo-neo",class:"insight-card"},{default:i(()=>[m(a,{class:"insight-title"},{default:i(()=>[u(d(e.t("operationPanelTitle")),1)]),_:1}),m(h,{class:"insight-list"},{default:i(()=>[(n(!0),f(v,null,p(r.value,e=>(n(),l(h,{key:e,class:"insight-item"},{default:i(()=>[m(a,{class:"insight-bullet"},{default:i(()=>[u("â€¢")]),_:1}),m(a,{class:"insight-text"},{default:i(()=>[u(d(e),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})}}}),[["__scopeId","data-v-fd913b24"]]),It=R(e({__name:"CommunityTab",props:{t:{type:Function}},setup(e){const a=t(()=>[{user:"@neo-player",score:"â˜…â˜…â˜…â˜…â˜…",comment:"Game flow is crystal clear. Connect, open, settle â€” done.",tag:"Fast settlement"},{user:"@gas-hunter",score:"â˜…â˜…â˜…â˜…â˜†",comment:"Operation panel is easy to follow, no confusion on transaction steps.",tag:"Great UX"},{user:"@turtle-collector",score:"â˜…â˜…â˜…â˜…â˜…",comment:"Excellent mobile layout and clean desktop split-view for wallet actions.",tag:"Polished UI"}]);return(e,t)=>{const s=c,r=o;return n(),l(r,{class:"community-shell"},{default:i(()=>[m(x(Ae),{variant:"erobo",class:"community-header"},{default:i(()=>[m(s,{class:"community-title"},{default:i(()=>[u(d(e.t("communityReviews")),1)]),_:1}),m(s,{class:"community-subtitle"},{default:i(()=>[u(d(e.t("communityHint")),1)]),_:1})]),_:1}),m(r,{class:"reviews-list"},{default:i(()=>[(n(!0),f(v,null,p(a.value,e=>(n(),l(r,{key:e.user,class:"review-card"},{default:i(()=>[m(r,{class:"review-meta"},{default:i(()=>[m(s,{class:"review-user"},{default:i(()=>[u(d(e.user),1)]),_:2},1024),m(s,{class:"review-score"},{default:i(()=>[u(d(e.score),1)]),_:2},1024)]),_:2},1024),m(s,{class:"review-comment"},{default:i(()=>[u(d(e.comment),1)]),_:2},1024),m(s,{class:"review-tag"},{default:i(()=>[u(d(e.tag),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})}}}),[["__scopeId","data-v-8616f163"]]),At=R(e({__name:"BlindboxOpening",props:{visible:{type:Boolean},turtleColor:{}},emits:["complete"],setup(e,{emit:a}){const h=e,g=a,{t:b}=Ne(),_=y(!1),k=y(!1),C=t(()=>bt[h.turtleColor]);let I=null,A=null,E=null;function z(){I&&(clearTimeout(I),I=null),A&&(clearTimeout(A),A=null),E&&(clearTimeout(E),E=null)}return T(()=>h.visible,e=>{z(),e&&(_.value=!1,k.value=!1,I=setTimeout(()=>{_.value=!0},200),A=setTimeout(()=>{k.value=!0},1e3),E=setTimeout(()=>{g("complete")},2500))}),S(()=>{z()}),(e,t)=>{const a=o,h=c;return e.visible?(n(),l(a,{key:0,class:"blindbox-opening"},{default:i(()=>[m(a,{class:"blindbox-opening__backdrop"}),m(a,{class:r(["capsule-container",{"capsule-container--opening":_.value}])},{default:i(()=>[m(a,{class:"capsule"},{default:i(()=>[m(a,{class:"capsule-top"},{default:i(()=>[m(a,{class:"capsule-rim"}),m(a,{class:"hologram-scanner"})]),_:1}),m(a,{class:"capsule-bottom"},{default:i(()=>[m(a,{class:"capsule-glow"})]),_:1}),m(a,{class:"capsule-core"},{default:i(()=>[m(h,{class:"core-text"},{default:i(()=>[u(d(x(b)("neoSymbol")),1)]),_:1})]),_:1})]),_:1}),_.value?(n(),l(a,{key:0,class:"projection-beam"})):w("",!0),_.value?(n(),l(a,{key:1,class:"energy-beam"})):w("",!0)]),_:1},8,["class"]),k.value?(n(),l(a,{key:0,class:"blindbox-opening__reveal"},{default:i(()=>[m(a,{class:"reveal-glow",style:s({"--glow-color":C.value})},null,8,["style"]),m(yt,{color:e.turtleColor,size:"lg"},null,8,["color"])]),_:1})):w("",!0),_.value?(n(),l(a,{key:1,class:"blindbox-opening__particles"},{default:i(()=>[(n(),f(v,null,p(16,e=>m(a,{key:e,class:"blindbox-opening__particle"})),64))]),_:1})):w("",!0)]),_:1})):w("",!0)}}}),[["__scopeId","data-v-20000715"]]),Tt=R(e({__name:"MatchCelebration",props:{visible:{type:Boolean},turtleColor:{},reward:{}},emits:["complete"],setup(e,{emit:a}){const r=e,h=a,{t:g}=Ne(),b=t(()=>bt[r.turtleColor]),y=t(()=>(Number(r.reward)/1e8).toFixed(3));let _=null;return T(()=>r.visible,e=>{_&&(clearTimeout(_),_=null),e&&(_=setTimeout(()=>{h("complete")},2500))}),S(()=>{_&&clearTimeout(_)}),(e,t)=>{const a=o,r=c;return e.visible?(n(),l(a,{key:0,class:"match-celebration"},{default:i(()=>[m(a,{class:"match-celebration__backdrop",style:s({"--celebration-color":b.value})},null,8,["style"]),m(a,{class:"light-rays"},{default:i(()=>[(n(),f(v,null,p(12,e=>m(a,{key:e,class:"ray",style:s({"--angle":30*e+"deg"})},null,8,["style"])),64))]),_:1}),m(a,{class:"match-view"},{default:i(()=>[m(a,{class:"match-turtle left"},{default:i(()=>[m(yt,{color:e.turtleColor,matched:"",size:"lg"},null,8,["color"])]),_:1}),m(a,{class:"match-text"},{default:i(()=>[u(d(x(g)("matchLabel")),1)]),_:1}),m(a,{class:"match-turtle right"},{default:i(()=>[m(yt,{color:e.turtleColor,matched:"",size:"lg"},null,8,["color"])]),_:1})]),_:1}),m(a,{class:"reward-card"},{default:i(()=>[m(r,{class:"reward-title"},{default:i(()=>[u(d(x(g)("rewardLabel")),1)]),_:1}),m(a,{class:"reward-amount"},{default:i(()=>[m(r,{class:"amount-val"},{default:i(()=>[u("+"+d(y.value),1)]),_:1}),m(r,{class:"amount-unit"},{default:i(()=>[u("GAS")]),_:1})]),_:1})]),_:1}),m(a,{class:"fx-layer"},{default:i(()=>[(n(),f(v,null,p(15,e=>m(a,{key:"s"+e,class:"sparkle"})),64)),(n(),f(v,null,p(10,e=>m(a,{key:"c"+e,class:"flying-coin"},{default:i(()=>[(n(),f("svg",{viewBox:"0 0 100 100",class:"holo-coin"},[F("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:"var(--turtle-accent)","stroke-width":"2"},null,8,["stroke"]),F("circle",{cx:"50",cy:"50",r:"35",fill:"var(--turtle-accent-soft)",stroke:"var(--turtle-accent)","stroke-width":"1"},null,8,["stroke"]),F("path",{d:"M40 35 L60 35 L60 45 L40 65 L60 65",fill:"none",stroke:"white","stroke-width":"5"})]))]),_:2},1024)),64))]),_:1})]),_:1})):w("",!0)}}}),[["__scopeId","data-v-81ef2b5f"]]),Et=R(e({__name:"GameResult",props:{visible:{type:Boolean},matches:{},reward:{},boxCount:{}},emits:["close"],setup(e){const a=e,{t:s}=Ne(),r=t(()=>(Number(a.reward)/1e8).toFixed(3));return(e,t)=>{const a=o,h=c;return e.visible?(n(),l(a,{key:0,class:"game-result"},{default:i(()=>[m(a,{class:"result-backdrop"}),m(a,{class:"result-card"},{default:i(()=>[m(a,{class:"title-area"},{default:i(()=>[m(h,{class:"congrats-text"},{default:i(()=>[u(d(x(s)("sessionComplete")),1)]),_:1}),m(a,{class:"glow-line"})]),_:1}),m(a,{class:"stats-grid"},{default:i(()=>[m(a,{class:"stat-item"},{default:i(()=>[m(h,{class:"stat-label"},{default:i(()=>[u(d(x(s)("totalMatchesLabel")),1)]),_:1}),m(h,{class:"stat-value"},{default:i(()=>[u(d(e.matches),1)]),_:1})]),_:1}),m(a,{class:"stat-item highlight"},{default:i(()=>[m(h,{class:"stat-label"},{default:i(()=>[u(d(x(s)("totalEarnedLabel")),1)]),_:1}),m(h,{class:"stat-value gold"},{default:i(()=>[u(d(r.value)+" GAS",1)]),_:1})]),_:1}),m(a,{class:"stat-item"},{default:i(()=>[m(h,{class:"stat-label"},{default:i(()=>[u(d(x(s)("boxesOpenedLabel")),1)]),_:1}),m(h,{class:"stat-value"},{default:i(()=>[u(d(e.boxCount),1)]),_:1})]),_:1})]),_:1}),m(a,{class:"action-area"},{default:i(()=>[m(x(be),{variant:"primary",size:"lg",block:"",onClick:t[0]||(t[0]=t=>e.$emit("close"))},{default:i(()=>[u(d(x(s)("confirmSettlement")),1)]),_:1})]),_:1})]),_:1}),m(a,{class:"result-fx"},{default:i(()=>[(n(),f(v,null,p(20,e=>m(a,{key:e,class:"sparkle"})),64))]),_:1})]),_:1})):w("",!0)}}}),[["__scopeId","data-v-ab404047"]]),zt=R(e({__name:"GameSplash",props:{visible:{type:Boolean}},emits:["complete"],setup(e,{emit:t}){const{t:s}=Ne(),f=y(!1),p=t;let v=null,h=null;return a(()=>{v=setTimeout(()=>{f.value=!0,h=setTimeout(()=>{p("complete")},800)},2500)}),S(()=>{v&&clearTimeout(v),h&&clearTimeout(h)}),(e,t)=>{const a=o,p=c;return e.visible?(n(),l(a,{key:0,class:r(["game-splash",{"splash-exit":f.value}])},{default:i(()=>[m(a,{class:"splash-content"},{default:i(()=>[m(a,{class:"logo-container"},{default:i(()=>[m(a,{class:"turtle-glow"}),m(yt,{color:x(ht).Gold,matched:"",size:"lg"},null,8,["color"])]),_:1}),m(a,{class:"title-container"},{default:i(()=>[m(p,{class:"game-name"},{default:i(()=>[u(d(x(s)("splashTitle")),1)]),_:1}),m(p,{class:"game-subtitle"},{default:i(()=>[u(d(x(s)("splashSubtitle")),1)]),_:1})]),_:1}),m(a,{class:"loading-bar"},{default:i(()=>[m(a,{class:"loading-progress"})]),_:1})]),_:1})]),_:1},8,["class"])):w("",!0)}}}),[["__scopeId","data-v-e729f806"]]),Bt=R(e({__name:"index",setup(e){const{t:s}=Ne(),{status:r}=function(e=4e3){const t=y(null);return{status:t,setStatus:(a,n)=>{t.value={msg:a,type:n},setTimeout(()=>{var e;(null==(e=t.value)?void 0:e.msg)===a&&(t.value=null)},e)},clearStatus:()=>{t.value=null}}}(),f={contentType:"two-column",tabs:[{key:"play",labelKey:"tabPlay",icon:"game",default:!0},{key:"guide",labelKey:"tabGuide",icon:"activity"},{key:"community",labelKey:"tabCommunity",icon:"heart"},{key:"docs",labelKey:"docs",icon:"book"}],features:{chainWarning:!0,statusMessages:!0,docs:{titleKey:"title",subtitleKey:"docSubtitle",stepKeys:["docStep1","docStep2","docStep3","docStep4"],featureKeys:[{nameKey:"docFeature1Name",descKey:"docFeature1Desc"},{nameKey:"docFeature2Name",descKey:"docFeature2Desc"},{nameKey:"docFeature3Name",descKey:"docFeature3Desc"}]}}},p=t(()=>({})),v=t(()=>{var e;return[{label:s("totalSessions"),value:(null==(e=k.value)?void 0:e.totalSessions)??0},{label:s("matches"),value:F.value},{label:s("remainingBoxes"),value:P.value},{label:s("phase"),value:A.value}]}),h=t(()=>{var e;return[{label:s("totalSessions"),value:(null==(e=k.value)?void 0:e.totalSessions)??0},{label:s("matches"),value:F.value},{label:s("remainingBoxes"),value:P.value},{label:s("phase"),value:A.value}]}),{loading:g,error:b,session:_,stats:k,isConnected:C,hasActiveSession:I,gamePhase:A,connect:T,loadStats:E,startGame:z,settleGame:B}=function(e){const{address:a,connect:n,invokeContract:l,invokeRead:o,getContractAddress:s}=ct(),{processPayment:r}=vt(e),i=(e,t)=>t,c=y(!1),u=y(null),d=y(null),f=y(null),p=y(!1),v=y("idle"),h=t(()=>!!a.value),g=t(()=>!!d.value),m=async()=>{try{const e=await s();if(!e)return;const[t,a]=await Promise.all([o({scriptHash:e,operation:"totalSessions",args:[]}),o({scriptHash:e,operation:"totalPaid",args:[]})]),n=Number(dt(t)||0),l=BigInt(dt(a)||0);f.value={totalSessions:n,totalPaid:l}}catch(e){}};return{loading:c,error:u,session:d,stats:f,isConnected:h,hasActiveSession:g,isAutoPlaying:p,gamePhase:v,connect:n,loadStats:m,startGame:async e=>{c.value=!0,u.value=null;try{if(a.value||await n(),!a.value)throw new Error(i(0,"Wallet not connected"));const t=await s();if(!t)throw new Error(i(0,"Contract not available"));const l=(.1*e).toFixed(1),{receiptId:o,invoke:c}=await r(l,`turtle:${e}`);if(!o)throw new Error(i(0,"Payment failed"));const u=await c("StartGame",[{type:"Hash160",value:a.value},{type:"Integer",value:String(e)},{type:"Integer",value:String(o)}],t),f=(null==u?void 0:u.txid)||String(Date.now());return d.value={id:f,boxCount:BigInt(e),cost:BigInt(e)*BigInt(1e7)},f}catch(t){return u.value=pt(t,i(0,"Failed to start game")),null}finally{c.value=!1}},settleGame:async()=>{c.value=!0,u.value=null;try{if(!d.value||!a.value)return!1;const e=await s();return!!e&&(await l({scriptHash:e,operation:"SettleGame",args:[{type:"Hash160",value:a.value},{type:"Integer",value:d.value.id}]}),d.value=null,await m(),!0)}catch(e){return u.value=pt(e,i(0,"Failed to settle game")),!1}finally{c.value=!1}}}}("miniapp-turtle-match"),{localGame:M,matchedPairRef:$,remainingBoxes:P,currentReward:G,currentMatches:F,gridTurtles:R,initGame:D,processGameStep:N,resetLocalGame:O}=function(){const e=y(null),a=y([]),n=t(()=>e.value?e.value.turtles.length-e.value.currentBoxIndex:0),l=t(()=>e.value?e.value.totalReward:BigInt(0)),o=t(()=>e.value?e.value.totalMatches:0),s=t(()=>e.value?e.value.turtles:[]);return{localGame:e,matchedPairRef:a,remainingBoxes:n,currentReward:l,currentMatches:o,gridTurtles:s,initGame:t=>{const a=Number(t.boxCount),n=[];for(let e=0;e<a;e++){const t=Math.floor(5*Math.random());n.push({id:e,color:t,isRevealed:!1,isMatched:!1})}e.value={turtles:n,currentBoxIndex:0,totalMatches:0,totalReward:BigInt(0),isComplete:!1,matchHistory:[]}},processGameStep:async()=>{if(!e.value)return{turtle:null,matches:0,reward:BigInt(0),isComplete:!0};const t=e.value;if(t.currentBoxIndex>=t.turtles.length)return t.isComplete=!0,{turtle:null,matches:0,reward:BigInt(0),isComplete:!0};const n=t.turtles[t.currentBoxIndex];n.isRevealed=!0;const l=t.turtles.filter((e,a)=>e.isRevealed&&e.color===n.color&&a<=t.currentBoxIndex);let o=0,s=BigInt(0);return l.length>=3&&0===l.filter(e=>e.isMatched).length&&(o=l.length,s=gt[o]||BigInt(0),t.totalReward+=s,t.totalMatches++,l.forEach(e=>{e.isMatched=!0}),a.value=l.map(e=>e.id)),t.currentBoxIndex++,t.currentBoxIndex>=t.turtles.length&&(t.isComplete=!0),{turtle:n,matches:o,reward:s,isComplete:t.isComplete}},resetLocalGame:()=>{e.value=null,a.value=[]}}}(),L=y("play"),K=y(5),W=y(!0),H=y(!1),U=y(!1),q=y(!1),j=y(ht.Green),V=y(ht.Green),J=y(BigInt(0)),Q=y(!1);let X=null,Y=null,Z=!1;function ee(e){return new Promise(t=>{Y=setTimeout(()=>{Y=null,t()},e)})}async function te(){A.value="playing";await z(K.value)&&_.value?(D(_.value),X=setTimeout(()=>{X=null,async function(){if(!M.value||Q.value)return;Q.value=!0;for(;!M.value.isComplete&&!Z;){H.value=!0;const e=await N();if(Z)break;if(e.turtle&&(j.value=e.turtle.color),await ee(2e3),Z)break;if(H.value=!1,e.matches>0){if(V.value=j.value,J.value=e.reward,U.value=!0,await ee(2500),Z)break;U.value=!1}if(await ee(300),Z)break}Z||(Q.value=!1,A.value="settling",q.value=!0)}()},500)):A.value="idle"}async function ae(){await B()&&(A.value="complete")}function ne(){O(),A.value="idle"}a(()=>{E()}),S(()=>{Z=!0,X&&clearTimeout(X),Y&&clearTimeout(Y)});const le=e=>{console.error("[turtle-match] boundary error:",e)},oe=async()=>{E()};return(e,t)=>{const a=c,y=o;return n(),l(y,{class:"theme-turtle-match"},{default:i(()=>[m(x(De),{config:f,state:p.value,t:x(s),"status-message":x(r),class:"pond-theme",onTabChange:t[6]||(t[6]=e=>L.value=e)},{"desktop-sidebar":i(()=>[m(x(ze),{title:x(s)("overview"),items:v.value},null,8,["title","items"])]),content:i(()=>[m(x(Te),{onError:le,onRetry:oe,"fallback-message":x(s)("errorFallback")},{default:i(()=>{var e;return[m(y,{class:"game-container"},{default:i(()=>[m(wt,{stats:x(k),t:x(s)},null,8,["stats","t"]),x(b)?(n(),l(y,{key:0,class:"error-banner"},{default:i(()=>[m(a,{class:"error-text"},{default:i(()=>[u(d(x(b)),1)]),_:1})]),_:1})):w("",!0),x(C)?x(I)?(n(),l(y,{key:3,class:"game-area"},{default:i(()=>[m(kt,{remainingBoxes:x(P),currentMatches:x(F),currentReward:x(G),gridTurtles:x(R),matchedPair:x($),gamePhase:x(A),loading:x(g),t:x(s),onSettle:ae,onNewGame:ne},null,8,["remainingBoxes","currentMatches","currentReward","gridTurtles","matchedPair","gamePhase","loading","t"])]),_:1})):(n(),l(St,{key:2,boxCount:K.value,"onUpdate:boxCount":t[0]||(t[0]=e=>K.value=e),loading:x(g),t:x(s),onStart:te},null,8,["boxCount","loading","t"])):(n(),l(Ct,{key:1,loading:x(g),t:x(s),onConnect:x(T)},null,8,["loading","t","onConnect"]))]),_:1}),m(At,{visible:H.value,turtleColor:j.value,onComplete:t[1]||(t[1]=e=>H.value=!1)},null,8,["visible","turtleColor"]),m(Tt,{visible:U.value,turtleColor:V.value,reward:J.value,onComplete:t[2]||(t[2]=e=>U.value=!1)},null,8,["visible","turtleColor","reward"]),m(Et,{visible:q.value,matches:x(F),reward:x(G),boxCount:Number((null==(e=x(_))?void 0:e.boxCount)||0),onClose:t[3]||(t[3]=e=>q.value=!1)},null,8,["visible","matches","reward","boxCount"]),m(zt,{visible:W.value,onComplete:t[4]||(t[4]=e=>W.value=!1)},null,8,["visible"])]}),_:1},8,["fallback-message"])]),"tab-guide":i(()=>[m(xt,{t:x(s)},null,8,["t"])]),"tab-community":i(()=>[m(It,{t:x(s)},null,8,["t"])]),operation:i(()=>[m(x(we),{variant:"erobo",title:x(s)("operationPanelTitle")},{default:i(()=>[m(x(Ie),{stats:h.value},null,8,["stats"]),x(C)?x(I)?(n(),l(y,{key:2,class:"op-active"},{default:i(()=>["settling"===x(A)?(n(),l(x(be),{key:0,size:"sm",variant:"primary",class:"op-btn",disabled:x(g),onClick:ae},{default:i(()=>[u(d(x(s)("settleRewards")),1)]),_:1},8,["disabled"])):"complete"===x(A)?(n(),l(x(be),{key:1,size:"sm",variant:"secondary",class:"op-btn",onClick:ne},{default:i(()=>[u(d(x(s)("newGame")),1)]),_:1})):(n(),l(y,{key:2,class:"op-hint"},{default:i(()=>[m(a,{class:"op-hint-text"},{default:i(()=>[u(d(x(s)("autoOpening")),1)]),_:1})]),_:1}))]),_:1})):(n(),l(y,{key:1,class:"op-start"},{default:i(()=>[m(y,{class:"op-box-select"},{default:i(()=>[m(a,{class:"op-label"},{default:i(()=>[u(d(x(s)("buyBlindbox")),1)]),_:1}),m(x(ye),{modelValue:K.value,"onUpdate:modelValue":t[5]||(t[5]=e=>K.value=e),type:"number",size:"sm",placeholder:"3-20"},null,8,["modelValue"])]),_:1}),m(x(be),{size:"sm",variant:"primary",class:"op-btn",disabled:x(g),onClick:te},{default:i(()=>[u(d(x(s)("startGame")),1)]),_:1},8,["disabled"])]),_:1})):(n(),l(y,{key:0,class:"op-connect"},{default:i(()=>[m(x(be),{size:"sm",variant:"primary",class:"op-btn",disabled:x(g),onClick:x(T)},{default:i(()=>[u(d(x(s)("connectWallet")),1)]),_:1},8,["disabled","onClick"])]),_:1}))]),_:1},8,["title"])]),_:1},8,["state","t","status-message"])]),_:1})}}}),[["__scopeId","data-v-3e7b5c74"]]);export{Bt as default};
