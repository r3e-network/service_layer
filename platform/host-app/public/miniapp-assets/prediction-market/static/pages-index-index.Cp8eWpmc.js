import{d as e,c as t,o as a,a as l,b as n,i as r,n as o,e as s,w as i,f as c,g as d,t as u,h as f,r as p,F as v,j as m,k as g,l as y,m as w,p as h,q as b,s as _,u as k,v as C,x as S,y as T,z as I,A,B as $,C as E,D as x,E as M,S as P,G as O,H as D,I as N,J as V}from"./index-CQuirkK9.js";import{_ as K,N as B,u as L}from"./useI18n.BbLsDNER.js";const F=K(e({__name:"AppIcon",props:{name:{},size:{default:20},label:{},decorative:{type:Boolean,default:!0}},setup(e){const f=e,p={home:"ðŸ ",settings:"âš™ï¸",user:"ðŸ‘¤",wallet:"ðŸ’¼",book:"ðŸ“–",trophy:"ðŸ†",star:"â­",heart:"â¤ï¸",check:"âœ“",clock:"ðŸ•",plus:"âž•",add:"âž•",close:"âœ•",x:"âœ•",menu:"â˜°",activity:"ðŸ“¡",award:"ðŸ…",archive:"ðŸ—„ï¸",rocket:"ðŸš€",cart:"ðŸ›’",ticket:"ðŸŽŸï¸",bag:"ðŸ‘œ",trending:"ðŸ“ˆ",chart:"ðŸ“Š",calendar:"ðŸ“…",search:"ðŸ”",filter:"ðŸ”½",edit:"âœï¸",delete:"ðŸ—‘ï¸",copy:"ðŸ“‹",share:"ðŸ“¤",download:"â¬‡ï¸",upload:"â¬†ï¸",success:"âœ“",error:"âœ•",warning:"âš ï¸",info:"â„¹ï¸",loading:"â³",neo:"ðŸ’Ž",gas:"â›½",contract:"ðŸ“œ",chain:"â›“ï¸",block:"ðŸ§±",helpful:"ðŸ¤",generous:"ðŸŽ",verified:"âœ“",contributor:"â­",champion:"ðŸ†",legend:"ðŸ‘‘",game:"ðŸŽ®",stats:"ðŸ“Š",docs:"ðŸ“„",about:"â„¹ï¸",contact:"âœ‰ï¸"},v={logout:"â†ª",back:"â†",forward:"â†’",arrowUp:"â†‘",arrowDown:"â†“",arrowLeft:"â†",arrowRight:"â†’",refresh:"â†»"},m=t(()=>{if(!f.label)return f.decorative?"true":void 0}),g=t(()=>f.decorative?"presentation":void 0),y=t(()=>f.label?f.label:f.decorative?void 0:`${f.name} icon`),w=t(()=>f.size<=16?"icon-sm":f.size<=20?"icon-md":f.size<=24?"icon-lg":"icon-xl"),h=t(()=>{if(!w.value||"icon-md"===w.value)return{};const e=f.size;return{width:`${e}px`,height:`${e}px`,fontSize:.6*e+"px"}}),b=t(()=>p[f.name]),_=t(()=>v[f.name]);return a(()=>{f.name,f.name}),(e,t)=>{const a=c,f=r;return l(),n(f,{class:s(["app-icon",`icon-${e.name}`,w.value]),style:o(h.value),"aria-hidden":m.value,"aria-label":y.value,role:g.value},{default:i(()=>[b.value?(l(),n(a,{key:0,class:"icon-emoji","aria-hidden":!0},{default:i(()=>[d(u(b.value),1)]),_:1})):_.value?(l(),n(a,{key:1,class:"icon-text","aria-hidden":!0},{default:i(()=>[d(u(_.value),1)]),_:1})):(l(),n(a,{key:2,class:"icon-fallback","aria-label":`Icon: ${e.name}`},{default:i(()=>[d(u(e.name.charAt(0).toUpperCase()),1)]),_:1},8,["aria-label"]))]),_:1},8,["class","style","aria-hidden","aria-label","role"])}}}),[["__scopeId","data-v-5a7f7e2b"]]),R=K(e({__name:"NavBar",props:{tabs:{},activeTab:{}},emits:["change"],setup(e,{emit:t}){const o=e,w=t,h=e=>{w("change",e)};return a(()=>{if(!o.tabs||0===o.tabs.length)return;o.tabs.some((e,t)=>o.tabs.findIndex(t=>t.id===e.id)!==t)&&console.error("[NavBar] Duplicate tab IDs detected - navigation may not work correctly");!o.tabs.some(e=>e.id===o.activeTab)&&o.activeTab}),(e,t)=>{const a=r,o=c;return l(),n(a,{class:"navbar",role:"tablist","aria-label":"Main navigation"},{default:i(()=>[(l(!0),f(v,null,p(e.tabs,t=>(l(),n(a,{key:t.id,class:s(["nav-item",e.activeTab===t.id&&"active"]),role:"tab",id:`tab-${t.id}`,tabindex:e.activeTab===t.id?0:-1,"aria-label":t.label,"aria-selected":e.activeTab===t.id?"true":"false","aria-controls":`tabpanel-${t.id}`,onClick:e=>h(t.id),onKeydown:[m(e=>h(t.id),["enter"]),m(g(e=>h(t.id),["prevent"]),["space"])]},{default:i(()=>[y(a,{class:"nav-icon","aria-hidden":"true"},{default:i(()=>[y(F,{name:t.icon,size:22},null,8,["name"])]),_:2},1024),y(o,{class:"nav-label"},{default:i(()=>[d(u(t.label),1)]),_:2},1024)]),_:2},1032,["class","id","tabindex","aria-label","aria-selected","aria-controls","onClick","onKeydown"]))),128))]),_:1})}}}),[["__scopeId","data-v-fb1ae8ac"]]),q=K(e({__name:"TopNavBar",props:{title:{},showBack:{type:Boolean}},emits:["back"],setup:e=>(e,t)=>{const a=r,o=c;return l(),n(a,{class:"top-navbar",role:"navigation","aria-label":e.title||"Top navigation"},{default:i(()=>[y(a,{class:"nav-left"},{default:i(()=>[e.showBack?(l(),n(a,{key:0,class:"nav-btn",role:"button",tabindex:"0","aria-label":"Go back",onClick:t[0]||(t[0]=t=>e.$emit("back")),onKeydown:[t[1]||(t[1]=m(t=>e.$emit("back"),["enter"])),t[2]||(t[2]=m(g(t=>e.$emit("back"),["prevent"]),["space"]))]},{default:i(()=>[y(F,{name:"arrow-left",size:20})]),_:1})):w("",!0)]),_:1}),y(a,{class:"nav-center"},{default:i(()=>[y(o,{class:"nav-title"},{default:i(()=>[d(u(e.title),1)]),_:1})]),_:1}),y(a,{class:"nav-right"},{default:i(()=>[h(e.$slots,"right",{},void 0,!0)]),_:3})]),_:3},8,["aria-label"])}}),[["__scopeId","data-v-2a3d315e"]]),G=K(e({__name:"AppLayout",props:{title:{default:""},showTopNav:{type:Boolean,default:!1},showBack:{type:Boolean,default:!1},tabs:{default:()=>[]},activeTab:{default:""},allowScroll:{type:Boolean,default:!0},theme:{default:""}},emits:["back","tab-change"],setup(e,{emit:o}){const c=b(!1),d=e,u=o,f=t(()=>d.activeTab||""),p=()=>{u("back");const e=_();e&&e.length>1&&k({delta:1})};return a(()=>{c.value="undefined"!=typeof window&&"1"===new URLSearchParams(window.location.search).get("embedded"),d.tabs&&d.tabs.length>0&&d.activeTab&&d.tabs.some(e=>e.id===d.activeTab),c.value}),(e,t)=>{const a=r;return l(),n(a,{class:s(["mobile-container",c.value&&"embedded"])},{default:i(()=>[y(a,{class:"aspect-wrapper"},{default:i(()=>[y(a,{class:"app-layout",role:"application","aria-label":"Application layout"},{default:i(()=>[e.showTopNav?(l(),n(q,{key:0,title:e.title??"","show-back":e.showBack,onBack:p},null,8,["title","show-back"])):w("",!0),y(a,{class:s(["app-content",!e.allowScroll&&"no-scroll"]),role:"main",tabindex:e.allowScroll?-1:0},{default:i(()=>[h(e.$slots,"default",{},void 0,!0)]),_:3},8,["class","tabindex"]),e.tabs&&e.tabs.length>0?(l(),n(R,{key:1,tabs:e.tabs,"active-tab":f.value,onChange:t[0]||(t[0]=t=>e.$emit("tab-change",t))},null,8,["tabs","active-tab"])):w("",!0)]),_:3})]),_:3})]),_:3},8,["class"])}}}),[["__scopeId","data-v-066cec47"]]),U=5e3,H=1e4,j=100,W=["https://neomini.app","https://miniapp.neo.org","https://testnet.miniapp.neo.org"];const z=new class{constructor(){this.dynamicOrigins=new Set,this.baseOrigins=new Set([...W])}getSelfOrigin(){if("undefined"==typeof window)return null;try{const e=new URL(window.location.href);if("null"===e.origin)return null;if("http:"===e.protocol||"https:"===e.protocol)return e.origin}catch{}return null}getReferrerOrigin(){if("undefined"==typeof document||!document.referrer)return null;try{return new URL(document.referrer).origin}catch{return null}}getAllowedOrigins(){const e=new Set(this.baseOrigins);this.dynamicOrigins.forEach(t=>e.add(t));const t=this.getReferrerOrigin();t&&this.baseOrigins.has(t)&&e.add(t);const a=this.getSelfOrigin();if(a&&e.add(a),"undefined"!=typeof window){const t=window.location.hostname;"localhost"!==t&&"127.0.0.1"!==t||e.add(window.location.origin)}return e}isValid(e){return!(!e||"null"===e)&&this.getAllowedOrigins().has(e)}getTargetOrigin(){var e;const t=this.getReferrerOrigin();if(t&&this.baseOrigins.has(t))return t;try{if("undefined"!=typeof window&&window.parent!==window&&(null==(e=window.location.ancestorOrigins)?void 0:e.length)>0){const e=window.location.ancestorOrigins[0];if(this.baseOrigins.has(e))return e}}catch{}const a=this.getSelfOrigin();if(a)return a;if("undefined"!=typeof window){const e=window.location.hostname;if("localhost"===e||"127.0.0.1"===e)return window.location.origin}throw new Error("Cannot determine safe target origin - no valid origin found")}getSafeTargetOrigin(){try{const e=this.getTargetOrigin();if(e&&"null"!==e)return e}catch{}if("undefined"!=typeof window&&window.parent!==window){const e=window.__MINIAPP_PARENT_ORIGIN__;if("string"==typeof e&&e&&this.baseOrigins.has(e))return e;throw new Error("Cannot communicate securely with parent - origin unknown. Ensure host app sets __MINIAPP_PARENT_ORIGIN__ or uses a supported browser.")}throw new Error("Cannot determine safe target origin - origin is null or undefined")}addDynamicOrigin(e){e&&"null"!==e&&this.dynamicOrigins.add(e)}};let Y=null;function J(e){const t=null==e?void 0:e.layout;if("web"===t||"mobile"===t)return t;if("undefined"!=typeof window){const e=new URLSearchParams(window.location.search).get("layout");if("web"===e||"mobile"===e)return e;if(window.ReactNativeWebView)return"mobile"}return"web"}function Q(e){if(!e||"object"!=typeof e)return!1;const t="function"==typeof e.invoke&&"function"==typeof e.getConfig,a="object"==typeof e.wallet||"object"==typeof e.payments;return t||a}function X(e=U){return new Promise((t,a)=>{if("undefined"==typeof window)return void a(new Error("SDK not available in SSR"));if(window.MiniAppSDK)return Q(window.MiniAppSDK)?void t(window.MiniAppSDK):void a(new Error("SDK validation failed"));const l=setTimeout(()=>{if(window.removeEventListener("miniapp-sdk-ready",n),window.parent!==window){const e=function(){const e=z.getSafeTargetOrigin();let t=0;const a=(a,...l)=>new Promise((n,r)=>{const o="undefined"!=typeof crypto&&crypto.getRandomValues?Array.from(crypto.getRandomValues(new Uint8Array(4)),e=>e.toString(16).padStart(2,"0")).join(""):Math.random().toString(36).slice(2,10),s=`sdk-${++t}-${Date.now()}-${o}`,i=setTimeout(()=>{window.removeEventListener("message",c),r(new Error("SDK invoke timeout"))},H),c=e=>{var t,a;z.isValid(e.origin)&&e.source===window.parent&&"miniapp_sdk_response"===(null==(t=e.data)?void 0:t.type)&&(null==(a=e.data)?void 0:a.id)===s&&(clearTimeout(i),window.removeEventListener("message",c),e.data.ok?n(e.data.result):r(new Error(e.data.error||"SDK call failed")))};window.addEventListener("message",c),window.parent.postMessage({type:"miniapp_sdk_request",id:s,method:a,params:l},e)});return{invoke:a,getConfig:()=>Y?{...Y,layout:J(Y)}:"undefined"!=typeof window&&window.__MINIAPP_CONFIG__?(Y=window.__MINIAPP_CONFIG__,{...Y,layout:J(Y??void 0)}):{appId:"",contractAddress:null,chainId:null,chainType:void 0,supportedChains:[],layout:J(),debug:!1},getAddress:()=>a("getAddress"),wallet:{getAddress:()=>a("wallet.getAddress"),switchChain:e=>a("wallet.switchChain",e),invokeIntent:e=>a("wallet.invokeIntent",e),signMessage:e=>a("wallet.signMessage",e)},payments:{payGAS:(e,t,l)=>a("payments.payGAS",e,t,l),payGASAndInvoke:(e,t,l)=>a("payments.payGASAndInvoke",e,t,l)},governance:{vote:(e,t,l,n)=>a("governance.vote",e,t,l,n),voteAndInvoke:(e,t,l,n)=>a("governance.voteAndInvoke",e,t,l,n),getCandidates:()=>a("governance.getCandidates")},rng:{requestRandom:e=>a("rng.requestRandom",e)},datafeed:{getPrice:e=>a("datafeed.getPrice",e),getPrices:()=>a("datafeed.getPrices"),getNetworkStats:()=>a("datafeed.getNetworkStats"),getRecentTransactions:e=>a("datafeed.getRecentTransactions",e)},stats:{getMyUsage:(e,t)=>a("stats.getMyUsage",e,t)},events:{list:e=>a("events.list",e),emit:(e,t)=>a("events.emit",e,t)},transactions:{list:e=>a("transactions.list",e)},automation:{register:(e,t,l,n)=>a("automation.register",e,t,l,n),unregister:e=>a("automation.unregister",e),status:e=>a("automation.status",e),list:()=>a("automation.list"),update:(e,t,l)=>a("automation.update",e,t,l),enable:e=>a("automation.enable",e),disable:e=>a("automation.disable",e),logs:(e,t)=>a("automation.logs",e,t)},share:{openModal:e=>a("share.openModal",e),getUrl:e=>a("share.getUrl",e),copy:e=>a("share.copy",e)}}}();window.MiniAppSDK=e,e.invoke("getConfig").then(e=>{e&&"object"==typeof e&&(Y=e)}).catch(()=>{}),t(e)}else a(new Error("SDK timeout"))},e),n=()=>{if(clearTimeout(l),window.removeEventListener("miniapp-sdk-ready",n),window.MiniAppSDK){if(!Q(window.MiniAppSDK))return void a(new Error("SDK validation failed"));t(window.MiniAppSDK)}else a(new Error("SDK not found"))};window.addEventListener("miniapp-sdk-ready",n)})}function Z(){return"undefined"==typeof window?null:window.MiniAppSDK??null}const ee=new Set;let te={connected:!1,address:null,balance:null},ae=null,le=!1;function ne(e){return e instanceof Error?e:"string"==typeof e?new Error(e):new Error(String(e))}function re(e){const t=b(!1),a=b(null);return{isLoading:t,error:a,execute:async(...l)=>{t.value=!0,a.value=null;try{return await e(...l)}catch(n){throw a.value=ne(n),n}finally{t.value=!1}}}}"undefined"!=typeof window&&("undefined"!=typeof window&&(le&&ae||(ae=e=>{if(e.source!==window.parent)return;if(!z.isValid(e.origin))return;const t=e.data;t&&"object"==typeof t&&("miniapp_config"!==t.type?"miniapp_wallet_state_change"===t.type&&(te={connected:Boolean(t.connected),address:t.address||null,chainId:t.chainId??null,chainType:t.chainType??null,balance:t.balance||t.multiChainBalance||null,balances:t.balances||void 0},ee.forEach(e=>{try{e(te)}catch(t){console.error("[MiniApp SDK] Wallet state listener error:",t)}})):t.config&&"object"==typeof t.config&&(Y=t.config))},window.addEventListener("message",ae),le=!0)),setTimeout(function(){if("undefined"==typeof window)return;const e=z.getSafeTargetOrigin();try{window.parent.postMessage({type:"miniapp_ready"},e)}catch{}},j));let oe=class extends Error{constructor(e,t){super(e),this.statusCode=t,this.name="HttpError"}};const se={maxRetries:3,baseDelayMs:1e3,maxDelayMs:1e4};function ie(e,t){return Math.min(t.baseDelayMs*Math.pow(2,e),t.maxDelayMs)*(.75+.5*Math.random())}function ce(e,t){if(t&&t>=500)return!0;if(429===t)return!0;if(e instanceof Error){const t=e.message.toLowerCase();return t.includes("network")||t.includes("timeout")||t.includes("abort")}return!1}async function de(e,t){var a;if("undefined"!=typeof uni&&"function"==typeof C)return new Promise((a,l)=>{const n=(e=>{if(e){if(e instanceof Headers){const t={};return e.forEach((e,a)=>{t[a]=e}),t}return Array.isArray(e)?Object.fromEntries(e):e}})(t.headers),r=String((null==n?void 0:n["Content-Type"])||(null==n?void 0:n["content-type"])||"");let o=t.body;if("string"==typeof o&&r.includes("application/json"))try{o=JSON.parse(o)}catch{}C({url:e,method:t.method||"GET",data:o,header:n,success:e=>{if((e.statusCode??0)>=200&&(e.statusCode??0)<300)a(e.data);else{const t=e.data,a=null==t?void 0:t.error,n=("string"==typeof(null==a?void 0:a.message)?a.message:null)||`Request failed: ${e.statusCode}`;l(new oe(n,e.statusCode??0))}},fail:e=>{l(new Error(e.errMsg||"Network error"))}})});const l="undefined"!=typeof window&&e.startsWith(window.location.origin),n=await fetch(e,{credentials:l?"include":"same-origin",...t});if(!n.ok){const t=await n.json().catch(()=>({}));throw new oe((null==(a=t.error)?void 0:a.message)||`Request failed: ${e}`,n.status)}return n.json()}async function ue(e){return async function(e,t={}){var a,l;const n=e.startsWith("http")?e:`https://api.neo-service-layer.io${e}`,r={...se,...t.retryConfig};let o=null;for(let i=0;i<=r.maxRetries;i++){if(null==(a=t.signal)?void 0:a.aborted)throw new Error("Request cancelled");try{return await de(n,t)}catch(s){o=s instanceof Error?s:new Error(String(s));const e=s instanceof oe?s.statusCode:void 0;if(null==(l=t.signal)?void 0:l.aborted)throw o;if(i>=r.maxRetries)break;if(!ce(s,e))break;const a=ie(i,r);await new Promise(e=>setTimeout(e,a))}}throw o||new Error("Request failed")}(e,{method:"GET"})}let fe=null,pe=null;function ve(){const e=b(null),t=b({}),l=b(null),n=b(null),r=b(null),o=b([]),s=b(!1),i=b(!1),c=b(null),d=b(!1),u=b(null),f=a=>{a.connected&&a.address?(e.value=a.address,s.value=!0):(e.value=null,s.value=!1),l.value=a.chainId??null,n.value=a.chainType??null,t.value=(e=>{if(!e)return{};if(e.balances&&Object.keys(e.balances).length>0)return{...e.balances};if(e.balance){const t={};return t[e.balance.nativeSymbol||("neo-n3"===e.chainType?"GAS":"NATIVE")]=e.balance.native||"0",(e.balance.governance||e.balance.governanceSymbol)&&(t[e.balance.governanceSymbol||("neo-n3"===e.chainType?"NEO":"GOV")]=e.balance.governance||"0"),t}return{}})(a)},p=e=>{e&&(r.value=e.chainId??null,o.value=Array.isArray(e.supportedChains)?e.supportedChains:[])},v=async()=>{var e;const t=await X(),a=null==(e=t.getConfig)?void 0:e.call(t);return p(a),a},m=async e=>{const t=await X();if(!t.wallet.switchChain)throw new Error("switchChain not supported by SDK");await t.wallet.switchChain(e),l.value=e};let g=null;return a(()=>{var t;f(te),t=e=>{f(e)},ee.add(t),t(te),g=()=>ee.delete(t);const a=Z();(null==a?void 0:a.getConfig)&&p(a.getConfig()),a&&!s.value&&(e=>e?(fe&&pe!==e&&(fe=null,pe=null),fe||(pe=e,fe=e.wallet.getAddress().then(e=>e||null).catch(e=>{const t=e instanceof Error?e.message:String(e);return console.debug("[MiniApp SDK] Fallback wallet connection failed:",t),null}).finally(()=>{fe=null,pe=null})),fe):Promise.resolve(null))(a).then(t=>{var r;if(!s.value&&t){e.value=t,s.value=!0;const o=null==(r=a.getConfig)?void 0:r.call(a);l.value=(null==o?void 0:o.chainId)??null,n.value=(null==o?void 0:o.chainType)??null,p(o)}}),X().then(e=>{var t;return p(null==(t=e.getConfig)?void 0:t.call(e))}).catch(()=>{})}),S(()=>{g&&g()}),{address:e,chainId:l,chainType:n,appChainId:r,supportedChains:o,balances:t,isConnected:s,isLoading:i,error:c,showConnectionPrompt:d,connectionPromptMessage:u,connect:async()=>{var t;i.value=!0,c.value=null;try{const a=await X(),r=await a.wallet.getAddress();if(!r)throw new Error("wallet returned empty address");e.value=r,s.value=!0;const o=null==(t=a.getConfig)?void 0:t.call(a);l.value=(null==o?void 0:o.chainId)??null,n.value=(null==o?void 0:o.chainType)??null,p(o)}catch(a){c.value=ne(a)}finally{i.value=!1}},invokeIntent:async e=>{var t;const a=Z();if(!(null==(t=null==a?void 0:a.wallet)?void 0:t.invokeIntent))throw new Error("invokeIntent not available");return a.wallet.invokeIntent(e)},invokeContract:async e=>{var t;const a=await X(),l=null==(t=a.getConfig)?void 0:t.call(a),n=e.contractAddress||e.scriptHash||e.contractHash,r=e.method||e.operation;if(!n||!r)throw new Error("contract address and method required");return a.invoke("invokeFunction",{contract:n,method:r,args:e.args,chainId:null==l?void 0:l.chainId,chainType:null==l?void 0:l.chainType})},invokeRead:async e=>{var t;const a=await X(),l=null==(t=a.getConfig)?void 0:t.call(a),n=e.contractAddress||e.scriptHash||e.contractHash||(null==l?void 0:l.contractAddress),r=e.method||e.operation;if(!n)throw new Error("contract address not configured");if(!r)throw new Error("method required");return a.invoke("invokeRead",{contract:n,method:r,args:e.args||[],chainId:e.chainId||(null==l?void 0:l.chainId),chainType:e.chainType||(null==l?void 0:l.chainType)})},getContractAddress:async()=>{var e,t,a,l,n;const r=await X(),o=null==(e=r.getConfig)?void 0:e.call(r);if(null==o?void 0:o.contractAddress)return o.contractAddress;if((null==o?void 0:o.chainId)&&(null==(a=null==(t=null==o?void 0:o.chainContracts)?void 0:t[o.chainId])?void 0:a.address))return o.chainContracts[o.chainId].address||null;if(r.invoke)try{const e=await r.invoke("getConfig");if(null==e?void 0:e.contractAddress)return e.contractAddress;if((null==e?void 0:e.chainId)&&(null==(n=null==(l=null==e?void 0:e.chainContracts)?void 0:l[e.chainId])?void 0:n.address))return e.chainContracts[e.chainId].address||null}catch{}return null},getAppConfig:v,getAddress:async()=>(await X()).wallet.getAddress(),signMessage:async e=>{var t;const a=await X();if(!(null==(t=a.wallet)?void 0:t.signMessage))throw new Error("signMessage not available");return a.wallet.signMessage(e)},switchChain:m,switchToAppChain:async e=>{const t=await v(),a=(null==t?void 0:t.chainId)||(Array.isArray(null==t?void 0:t.supportedChains)&&t.supportedChains.length>0?t.supportedChains[0]:null)||e||null;if(!a)throw new Error("app chain not configured");await m(a)},getBalance:async e=>{var a;i.value=!0,c.value=null;try{const n=await X(),r=null==(a=n.getConfig)?void 0:a.call(n),o=(null==r?void 0:r.chainId)||l.value,s=o?`?chain_id=${encodeURIComponent(o)}`:"",i=await ue(`/wallet-balance${s}`),c=(null==i?void 0:i.balances)??{};return t.value=c,e?c[e]||"0":c}catch(n){throw c.value=ne(n),n}finally{i.value=!1}},getTransactions:async(e=20)=>{var t;i.value=!0,c.value=null;try{const a=Number.isNaN(e)||e<1?20:Math.min(e,100),n=await X(),r=null==(t=n.getConfig)?void 0:t.call(n),o=(null==r?void 0:r.chainId)||l.value,s=new URLSearchParams({limit:String(a)});o&&s.set("chain_id",o);const i=await ue(`/wallet-transactions?${s.toString()}`);return(null==i?void 0:i.transactions)??[]}catch(a){throw c.value=ne(a),a}finally{i.value=!1}},invoke:async(e,t)=>(await X()).invoke(e,t),requireConnection:(e={})=>{const{showPrompt:t=!0,errorMessage:a}=e;return!!s.value||(t&&(u.value=a||null,d.value=!0),!1)},closeConnectionPrompt:()=>{d.value=!1,u.value=null},clearError:()=>{c.value=null}}}function me(){const{switchToAppChain:e}=ve(),a=t(()=>!1),l=async()=>{try{await e()}catch(t){throw console.error("[useChainValidation] Failed to switch chain:",t),t}},n=t(()=>({show:a.value,onSwitch:l}));return{showWarning:a,switchToAppChain:l,chainWarningProps:n}}b("en");const ge=K(e({__name:"ChainWarning",props:{title:{default:"Wrong Network"},message:{default:"Switch to Neo N3 Mainnet to continue."},buttonText:{default:"Switch Network"},show:{type:Boolean,default:void 0}},emits:["switch","switch-complete","switch-error"],setup(e,{emit:a}){const o=e,s=a,{showWarning:f,switchToAppChain:p}=me(),v=b(!1),m=t(()=>void 0!==o.show?o.show:f.value),g=async()=>{if(!v.value){v.value=!0,s("switch");try{await p(),s("switch-complete")}catch(e){const t=e instanceof Error?e:new Error(String(e));s("switch-error",t),console.error("[ChainWarning] Failed to switch chain:",t)}finally{v.value=!1}}};return(e,t)=>{const a=c,o=r;return m.value?(l(),n(o,{key:0,class:"chain-warning mb-4 px-4",role:"alert","aria-live":"assertive"},{default:i(()=>[y(T(be),{variant:"danger"},{default:i(()=>[y(o,{class:"flex flex-col items-center gap-2 py-1"},{default:i(()=>[y(a,{class:"text-center font-bold text-red-400"},{default:i(()=>[d(u(e.title),1)]),_:1}),e.message?(l(),n(a,{key:0,class:"text-center text-xs text-white opacity-80"},{default:i(()=>[d(u(e.message),1)]),_:1})):w("",!0),y(T(_e),{size:"sm",variant:"secondary",class:"mt-2",loading:v.value,onClick:g},{default:i(()=>[d(u(e.buttonText),1)]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1})):w("",!0)}}}),[["__scopeId","data-v-8876cefe"]]),ye=K(e({__name:"DesktopSidebar",props:{tabs:{},activeTab:{}},emits:["tab-change"],setup(e,{emit:a}){const o=a,b=I(),_=t(()=>Boolean(b["desktop-sidebar"]));return(e,t)=>{const a=c,b=r;return l(),n(b,{class:"sidebar",role:"navigation","aria-label":"Main navigation"},{default:i(()=>[y(b,{class:"sidebar-header"},{default:i(()=>[y(a,{class:"brand-name"},{default:i(()=>[d("NeoHub")]),_:1}),y(a,{class:"brand-tagline"},{default:i(()=>[d("Miniapps")]),_:1})]),_:1}),y(b,{class:"sidebar-nav",role:"tablist","aria-label":"Navigation tabs"},{default:i(()=>[(l(!0),f(v,null,p(e.tabs,t=>(l(),n(b,{key:t.id,class:s(["nav-item",e.activeTab===t.id&&"active"]),role:"tab",id:`tab-${t.id}`,tabindex:e.activeTab===t.id?0:-1,"aria-label":t.label,"aria-selected":e.activeTab===t.id?"true":"false","aria-controls":`tabpanel-${t.id}`,onClick:e=>o("tab-change",t.id),onKeydown:[m(e=>o("tab-change",t.id),["enter"]),m(g(e=>o("tab-change",t.id),["prevent"]),["space"])]},{default:i(()=>[y(b,{class:"nav-icon-wrapper"},{default:i(()=>[y(F,{name:t.icon,size:20},null,8,["name"])]),_:2},1024),y(a,{class:"nav-label"},{default:i(()=>[d(u(t.label),1)]),_:2},1024),e.activeTab===t.id?(l(),n(b,{key:0,class:"nav-indicator","aria-hidden":"true"})):w("",!0)]),_:2},1032,["class","id","tabindex","aria-label","aria-selected","aria-controls","onClick","onKeydown"]))),128))]),_:1}),_.value?(l(),n(b,{key:0,class:"sidebar-panel",role:"complementary","aria-label":"Sidebar details"},{default:i(()=>[h(e.$slots,"desktop-sidebar",{},void 0,!0)]),_:3})):w("",!0),y(b,{class:"sidebar-footer"},{default:i(()=>[y(b,{class:"footer-status",role:"status","aria-live":"polite"},{default:i(()=>[y(b,{class:"status-dot online","aria-hidden":"true"}),y(a,{class:"status-text"},{default:i(()=>[d("Connected")]),_:1})]),_:1})]),_:1})]),_:3})}}}),[["__scopeId","data-v-393f16e1"]]),we=K(e({__name:"DesktopLayout",props:{title:{default:""},tabs:{default:()=>[]},activeTab:{default:""},allowScroll:{type:Boolean,default:!0},theme:{default:""}},emits:["tab-change"],setup(e,{emit:a}){const o=e,f=a,p=t(()=>o.theme?`theme-${o.theme}`:""),v=I(),m=t(()=>Boolean(v["desktop-sidebar"])),g=e=>{f("tab-change",e)};return(()=>{if(!o.tabs||0===o.tabs.length)return!1;!o.tabs.some((e,t)=>o.tabs.findIndex(t=>t.id===e.id)!==t)||console.error("[DesktopLayout] Duplicate tab IDs detected - navigation may not work correctly")})(),(e,t)=>{const a=c,o=r;return l(),n(o,{class:s(["desktop-container",p.value])},{default:i(()=>[y(ye,{tabs:e.tabs,"active-tab":e.activeTab,onTabChange:g},A({_:2},[m.value?{name:"desktop-sidebar",fn:i(()=>[h(e.$slots,"desktop-sidebar",{},void 0,!0)]),key:"0"}:void 0]),1032,["tabs","active-tab"]),y(o,{class:"main-content-wrapper",role:"main"},{default:i(()=>[y(o,{class:"top-bar"},{default:i(()=>[y(o,{class:"top-bar-left"},{default:i(()=>[e.title?(l(),n(a,{key:0,class:"page-title"},{default:i(()=>[d(u(e.title),1)]),_:1})):w("",!0)]),_:1}),y(o,{class:"top-bar-right"},{default:i(()=>[h(e.$slots,"top-bar-actions",{},void 0,!0)]),_:3})]),_:3}),y(o,{class:s(["content-area",!e.allowScroll&&"no-scroll"]),tabindex:e.allowScroll?-1:0},{default:i(()=>[h(e.$slots,"default",{},void 0,!0)]),_:3},8,["class","tabindex"])]),_:3})]),_:3},8,["class"])}}}),[["__scopeId","data-v-2023cafd"]]),he=e({__name:"ResponsiveLayout",props:{title:{default:""},tabs:{default:()=>[]},navItems:{default:()=>[]},activeTab:{default:""},allowScroll:{type:Boolean,default:!0},theme:{default:""},showTopNav:{type:Boolean,default:!1},showSidebar:{type:Boolean,default:!1},layout:{default:"default"},showBack:{type:Boolean,default:!1},desktopBreakpoint:{default:1024}},emits:["back","tab-change","navigate"],setup(e,{emit:r}){const o=e,s=r,c=b(!1),d=b(!1),u=()=>{if(!d.value)return;const e=window.innerWidth;c.value=e>=o.desktopBreakpoint};let f;const p=()=>{clearTimeout(f),f=window.setTimeout(()=>{u()},150)},v=t(()=>o.tabs&&o.tabs.length>0?o.tabs:o.navItems&&o.navItems.length>0?o.navItems.map(e=>({id:e.id??e.key??"",label:e.label,icon:e.icon})).filter(e=>Boolean(e.id)):[]),m=t(()=>c.value?we:G),g=e=>{s("tab-change",e),s("navigate",e)};return $(c,(e,t)=>{t!==e&&d.value}),a(()=>{d.value="undefined"!=typeof window,d.value&&(u(),window.addEventListener("resize",p))}),S(()=>{d.value&&(window.removeEventListener("resize",p),clearTimeout(f))}),(e,t)=>(l(),n(E(m.value),{title:e.title,tabs:v.value,"active-tab":e.activeTab,"allow-scroll":e.allowScroll,theme:e.theme,"show-top-nav":e.showTopNav,"show-back":e.showBack,onTabChange:g,onBack:t[0]||(t[0]=t=>e.$emit("back"))},{"top-bar-actions":i(()=>[h(e.$slots,"top-bar-actions")]),"desktop-sidebar":i(()=>[h(e.$slots,"desktop-sidebar")]),default:i(()=>[h(e.$slots,"default")]),_:3},40,["title","tabs","active-tab","allow-scroll","theme","show-top-nav","show-back"]))}}),be=K(e({__name:"NeoCard",props:{title:{default:void 0},variant:{default:"default"},hoverable:{type:Boolean,default:!1},flat:{type:Boolean,default:!1},ariaLabel:{default:void 0}},emits:["click"],setup:e=>(e,t)=>{const a=c,o=r;return l(),n(o,{class:s(["neo-card",`neo-card--${e.variant}`,{"neo-card--hoverable":e.hoverable,"neo-card--flat":e.flat}]),role:e.hoverable?"button":"region",tabindex:e.hoverable?0:void 0,"aria-label":e.ariaLabel||e.title||void 0,onClick:t[0]||(t[0]=t=>e.hoverable&&e.$emit("click",t)),onKeydown:[t[1]||(t[1]=m(t=>e.hoverable&&e.$emit("click",t),["enter"])),t[2]||(t[2]=m(g(t=>e.hoverable&&e.$emit("click",t),["prevent"]),["space"]))]},{default:i(()=>[e.title||e.$slots.header?(l(),n(o,{key:0,class:"neo-card__header"},{default:i(()=>[e.title?(l(),n(a,{key:0,class:"neo-card__title"},{default:i(()=>[d(u(e.title),1)]),_:1})):w("",!0),h(e.$slots,"header",{},void 0,!0)]),_:3})):w("",!0),y(o,{class:"neo-card__body"},{default:i(()=>[h(e.$slots,"default",{},void 0,!0)]),_:3}),e.$slots.footer?(l(),n(o,{key:1,class:"neo-card__footer"},{default:i(()=>[h(e.$slots,"footer",{},void 0,!0)]),_:3})):w("",!0)]),_:3},8,["class","role","tabindex","aria-label"])}}),[["__scopeId","data-v-301259a2"]]),_e=K(e({__name:"NeoButton",props:{variant:{default:"primary"},size:{default:"md"},block:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},ariaLabel:{default:void 0}},emits:["click"],setup:e=>(e,t)=>{const a=r,o=x;return l(),n(o,{class:s(["neo-btn",`neo-btn--${e.variant}`,`neo-btn--${e.size}`,{"neo-btn--block":e.block,"neo-btn--loading":e.loading}]),disabled:e.disabled||e.loading,"aria-busy":e.loading,"aria-disabled":e.disabled||e.loading,"aria-label":e.ariaLabel,onClick:t[0]||(t[0]=t=>e.$emit("click",t))},{default:i(()=>[e.loading?(l(),n(a,{key:0,class:"neo-btn__spinner"})):h(e.$slots,"default",{key:1},void 0,!0)]),_:3},8,["class","disabled","aria-busy","aria-disabled","aria-label"])}}),[["__scopeId","data-v-1fa13096"]]),ke=K(e({__name:"NeoStats",props:{stats:{}},setup:e=>(e,t)=>{const a=c,o=r;return l(),n(o,{class:"neo-stats",role:"list","aria-label":"Statistics"},{default:i(()=>[(l(!0),f(v,null,p(e.stats,e=>(l(),n(o,{key:e.label,class:s(["neo-stats__item",`neo-stats__item--${e.variant||"default"}`]),role:"listitem","aria-label":`${e.label}: ${e.value}`},{default:i(()=>[y(a,{class:"neo-stats__value","aria-hidden":"true"},{default:i(()=>[d(u(e.value),1)]),_:2},1024),y(a,{class:"neo-stats__label","aria-hidden":"true"},{default:i(()=>[d(u(e.label),1)]),_:2},1024)]),_:2},1032,["class","aria-label"]))),128))]),_:1})}}),[["__scopeId","data-v-46509ca9"]]),Ce=K(e({__name:"ErrorBoundary",props:{showDetails:{type:Boolean,default:!1},onError:{},fallback:{}},emits:["retry","reset","error"],setup(e,{expose:t,emit:a}){const o=e,s=a,f=b(!1),p=b(null),v=b(""),m=e=>({errorTitle:"Something went wrong",retry:"Try Again",reset:"Reset"}[e]||e);M(e=>{var t;const a=e instanceof Error?e:new Error(String(e));return p.value=a,v.value=o.fallback||a.message||"An unexpected error occurred",f.value=!0,s("error",a),null==(t=o.onError)||t.call(o,a),!1});const g=()=>{f.value=!1,p.value=null,s("retry")},_=()=>{f.value=!1,p.value=null,v.value="",s("reset")};return t({setError:e=>{const t=e instanceof Error?e:new Error(e);p.value=t,v.value=t.message,f.value=!0,s("error",t)},clearError:_}),(e,t)=>{const a=c,o=r;return f.value?(l(),n(o,{key:0,class:"error-boundary",role:"alert","aria-live":"assertive"},{default:i(()=>[y(o,{class:"error-container"},{default:i(()=>[y(a,{class:"error-icon"},{default:i(()=>[d("âš ï¸")]),_:1}),y(a,{class:"error-title"},{default:i(()=>[d(u(m("errorTitle")||"Something went wrong"),1)]),_:1}),y(a,{class:"error-message"},{default:i(()=>[d(u(v.value),1)]),_:1}),y(o,{class:"error-actions"},{default:i(()=>[y(_e,{variant:"primary",onClick:g},{default:i(()=>[d(u(m("retry")||"Try Again"),1)]),_:1}),y(_e,{variant:"secondary",onClick:_},{default:i(()=>[d(u(m("reset")||"Reset"),1)]),_:1})]),_:1}),e.showDetails?(l(),n(o,{key:0,class:"error-details"},{default:i(()=>[y(a,{class:"error-stack"},{default:i(()=>{var e,t;return[d(u((null==(e=p.value)?void 0:e.stack)||(null==(t=p.value)?void 0:t.message)),1)]}),_:1})]),_:1})):w("",!0)]),_:1})]),_:1})):h(e.$slots,"default",{key:1},void 0,!0)}}}),[["__scopeId","data-v-34155aa3"]]),Se=K(e({__name:"Fireworks",props:{active:{type:Boolean,default:!1},duration:{default:3e3}},emits:["complete"],setup(e,{emit:t}){const a=e,c=t;let d=null;const u=e=>{const t=["#ff6b6b","#ffd93d","#6bcb77","#4d96ff","#ff6bd6","#a855f7"];return{left:`${10+80*Math.random()}%`,top:`${10+60*Math.random()}%`,animationDelay:`${.5*Math.random()}s`,"--firework-color":t[(e-1)%t.length]}};return $(()=>a.active,e=>{e&&(d=setTimeout(()=>{c("complete")},a.duration))}),S(()=>{d&&clearTimeout(d)}),(e,t)=>{const a=r;return e.active?(l(),n(a,{key:0,class:"fireworks-container","aria-hidden":"true"},{default:i(()=>[(l(),f(v,null,p(12,e=>y(a,{key:e,class:s(`firework firework-${e}`),style:o(u(e))},{default:i(()=>[(l(),f(v,null,p(8,e=>y(a,{key:e,class:s(`spark spark-${e}`)},null,8,["class"])),64))]),_:2},1032,["class","style"])),64))]),_:1})):w("",!0)}}}),[["__scopeId","data-v-8a253f7e"]]),Te=K(e({__name:"SidebarPanel",props:{title:{default:""},description:{default:""},items:{default:()=>[]}},setup:e=>(e,t)=>{const a=c,o=r;return l(),n(o,{class:"sidebar-panel-content"},{default:i(()=>[e.title?(l(),n(a,{key:0,class:"sidebar-title"},{default:i(()=>[d(u(e.title),1)]),_:1})):w("",!0),e.description?(l(),n(a,{key:1,class:"sidebar-desc"},{default:i(()=>[d(u(e.description),1)]),_:1})):w("",!0),e.items.length?(l(),n(o,{key:2,class:"sidebar-items"},{default:i(()=>[(l(!0),f(v,null,p(e.items,e=>(l(),n(o,{key:e.label,class:"sidebar-item"},{default:i(()=>[y(a,{class:"sidebar-item-label"},{default:i(()=>[d(u(e.label),1)]),_:2},1024),y(a,{class:"sidebar-value"},{default:i(()=>[d(u(e.value),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})):w("",!0),h(e.$slots,"default",{},void 0,!0)]),_:3})}}),[["__scopeId","data-v-0f03dbb3"]]),Ie=K(e({__name:"game-board",emits:["ready"],setup:e=>(e,t)=>{const a=r;return l(),n(a,{class:"game-board-slot"},{default:i(()=>[y(a,{class:"game-arena"},{default:i(()=>[h(e.$slots,"default",{},void 0,!0)]),_:3})]),_:3})}}),[["__scopeId","data-v-865ce7b3"]]),Ae=K(e({__name:"market-list",emits:["ready"],setup:e=>(e,t)=>{const a=r;return l(),n(a,{class:"market-list-slot"},{default:i(()=>[e.$slots.filters?(l(),n(a,{key:0,class:"list-filters"},{default:i(()=>[h(e.$slots,"filters",{},void 0,!0)]),_:3})):w("",!0),y(a,{class:"list-container"},{default:i(()=>[h(e.$slots,"default",{},void 0,!0)]),_:3})]),_:3})}}),[["__scopeId","data-v-7bb016db"]]),$e=K(e({__name:"form-panel",emits:["ready"],setup:e=>(e,t)=>{const a=r;return l(),n(a,{class:"form-panel-slot"},{default:i(()=>[y(a,{class:"form-card"},{default:i(()=>[h(e.$slots,"default",{},void 0,!0)]),_:3}),e.$slots.footer?(l(),n(a,{key:0,class:"form-footer"},{default:i(()=>[h(e.$slots,"footer",{},void 0,!0)]),_:3})):w("",!0)]),_:3})}}),[["__scopeId","data-v-dc99375e"]]),Ee=K(e({__name:"dashboard",emits:["ready"],setup:e=>(e,t)=>{const a=r;return l(),n(a,{class:"dashboard-slot"},{default:i(()=>[e.$slots.hero?(l(),n(a,{key:0,class:"dashboard-hero"},{default:i(()=>[h(e.$slots,"hero",{},void 0,!0)]),_:3})):w("",!0),y(a,{class:"dashboard-panels"},{default:i(()=>[h(e.$slots,"default",{},void 0,!0)]),_:3})]),_:3})}}),[["__scopeId","data-v-094f7c79"]]),xe=K(e({__name:"swap-interface",emits:["ready"],setup:e=>(e,t)=>{const a=r;return l(),n(a,{class:"swap-interface-slot"},{default:i(()=>[y(a,{class:"swap-container"},{default:i(()=>[h(e.$slots,"default",{},void 0,!0)]),_:3})]),_:3})}}),[["__scopeId","data-v-172c680c"]]),Me=K(e({__name:"timer-hero",emits:["ready"],setup:e=>(e,t)=>{const a=r;return l(),n(a,{class:"timer-hero-slot"},{default:i(()=>[y(a,{class:"timer-display"},{default:i(()=>[h(e.$slots,"timer",{},void 0,!0)]),_:3}),y(a,{class:"timer-action"},{default:i(()=>[h(e.$slots,"default",{},void 0,!0)]),_:3})]),_:3})}}),[["__scopeId","data-v-b3a2b09d"]]),Pe=K(e({__name:"two-column",emits:["ready"],setup(e){const a=I(),o=t(()=>!!a.operation);return(e,t)=>{const a=r;return l(),n(a,{class:s(["two-column-slot",{"single-column":!o.value}])},{default:i(()=>[y(a,{class:"two-column-info"},{default:i(()=>[h(e.$slots,"default",{},void 0,!0)]),_:3}),o.value?(l(),n(a,{key:0,class:"two-column-operation"},{default:i(()=>[h(e.$slots,"operation",{},void 0,!0)]),_:3})):w("",!0)]),_:3},8,["class"])}}}),[["__scopeId","data-v-34a617ab"]]),Oe=K(e({__name:"MiniAppTemplate",props:{config:{},state:{},t:{type:Function},statusMessage:{},fireworksActive:{type:Boolean}},emits:["tab-change"],setup(e,{emit:a}){const o=e,s=a,m=I(),{showWarning:g}=me(),_=t(()=>{var e;return!1!==(null==(e=o.config.features)?void 0:e.chainWarning)&&g.value}),k=t(()=>{var e;const t=o.config.tabs.find(e=>e.default);return(null==t?void 0:t.key)??(null==(e=o.config.tabs[0])?void 0:e.key)??""}),C=b(k.value),S=t(()=>o.config.tabs.map(e=>({id:e.key,label:o.t(e.labelKey),icon:e.icon??""}))),A=t(()=>o.config.tabs.filter(e=>e.key!==k.value)),$=e=>{C.value=e,s("tab-change",e)},x={"game-board":Ie,"market-list":Ae,"form-panel":$e,dashboard:Ee,"swap-interface":xe,"timer-hero":Me,"two-column":Pe,custom:"view"},M=t(()=>x[o.config.contentType]??"view"),P=t(()=>{var e;return((null==(e=o.config.stats)?void 0:e.length)??0)>0}),O=(e,t)=>{const a=t??0;switch(e.format){case"currency":return`${Number(a).toFixed(2)} GAS`;case"percent":return`${Number(a).toFixed(1)}%`;case"duration":return String(a);default:return"number"==typeof a?a:Number(a)||0}},D=t(()=>(o.config.stats??[]).map(e=>({label:o.t(e.labelKey),value:O(e,o.state[e.valueKey]),variant:e.variant??"default"}))),N=t(()=>{var e;return null==(e=o.config.features)?void 0:e.docs}),V=t(()=>!!N.value),K=t(()=>{var e;return((null==(e=N.value)?void 0:e.stepKeys)??[]).map(e=>o.t(e))}),L=t(()=>{var e;return((null==(e=N.value)?void 0:e.featureKeys)??[]).map(e=>({name:o.t(e.nameKey),desc:o.t(e.descKey)}))}),F=t(()=>{var e;return!1!==(null==(e=o.config.features)?void 0:e.fireworks)}),R=t(()=>{var e;return!1!==(null==(e=o.config.features)?void 0:e.statusMessages)}),q=e=>!!m[e];return(e,t)=>{const a=c,o=r;return l(),n(T(he),{"desktop-breakpoint":1024,tabs:S.value,"active-tab":C.value,onTabChange:$},{"desktop-sidebar":i(()=>[h(e.$slots,"desktop-sidebar",{},void 0,!0)]),default:i(()=>[_.value?(l(),n(T(ge),{key:0,title:e.t("wrongChain"),message:e.t("wrongChainMessage"),"button-text":e.t("switchToNeo")},null,8,["title","message","button-text"])):w("",!0),R.value&&e.statusMessage?(l(),n(T(be),{key:1,variant:"error"===e.statusMessage.type?"danger":"erobo-neo",class:"template-status mb-4"},{default:i(()=>[y(a,{class:"text-center font-bold"},{default:i(()=>[d(u(e.statusMessage.msg),1)]),_:1})]),_:1},8,["variant"])):w("",!0),C.value===k.value?(l(),n(o,{key:2,class:"tab-content",role:"tabpanel",id:`tabpanel-${k.value}`,"aria-labelledby":`tab-${k.value}`},{default:i(()=>[(l(),n(E(M.value),null,{operation:i(()=>[h(e.$slots,"operation",{},void 0,!0)]),default:i(()=>[h(e.$slots,"content",{},void 0,!0)]),_:3}))]),_:3},8,["id","aria-labelledby"])):w("",!0),(l(!0),f(v,null,p(A.value,t=>(l(),f(v,{key:t.key},[C.value===t.key?(l(),n(o,{key:0,class:"tab-content scrollable",role:"tabpanel",id:`tabpanel-${t.key}`,"aria-labelledby":`tab-${t.key}`},{default:i(()=>["stats"===t.key&&P.value&&!q("tab-stats")?(l(),n(T(be),{key:0,variant:"erobo"},{default:i(()=>[y(T(ke),{stats:D.value},null,8,["stats"])]),_:1})):"docs"===t.key&&V.value&&!q("tab-docs")?(l(),n(T(B),{key:1,title:e.t(N.value.titleKey),subtitle:N.value.subtitleKey?e.t(N.value.subtitleKey):void 0,steps:K.value,features:L.value},null,8,["title","subtitle","steps","features"])):h(e.$slots,`tab-${t.key}`,{key:2},void 0,!0)]),_:2},1032,["id","aria-labelledby"])):w("",!0)],64))),128)),F.value?(l(),n(Se,{key:3,active:e.fireworksActive,duration:3e3},null,8,["active"])):w("",!0)]),_:3},8,["tabs","active-tab"])}}}),[["__scopeId","data-v-07ef5641"]]),De=5e3,Ne=1e4,Ve=100,Ke=["https://neomini.app","https://miniapp.neo.org","https://testnet.miniapp.neo.org"];const Be=new class{constructor(){this.dynamicOrigins=new Set,this.baseOrigins=new Set([...Ke])}getSelfOrigin(){if("undefined"==typeof window)return null;try{const e=new URL(window.location.href);if("null"===e.origin)return null;if("http:"===e.protocol||"https:"===e.protocol)return e.origin}catch{}return null}getReferrerOrigin(){if("undefined"==typeof document||!document.referrer)return null;try{return new URL(document.referrer).origin}catch{return null}}getAllowedOrigins(){const e=new Set(this.baseOrigins);this.dynamicOrigins.forEach(t=>e.add(t));const t=this.getReferrerOrigin();t&&this.baseOrigins.has(t)&&e.add(t);const a=this.getSelfOrigin();if(a&&e.add(a),"undefined"!=typeof window){const t=window.location.hostname;"localhost"!==t&&"127.0.0.1"!==t||e.add(window.location.origin)}return e}isValid(e){return!(!e||"null"===e)&&this.getAllowedOrigins().has(e)}getTargetOrigin(){var e;const t=this.getReferrerOrigin();if(t&&this.baseOrigins.has(t))return t;try{if("undefined"!=typeof window&&window.parent!==window&&(null==(e=window.location.ancestorOrigins)?void 0:e.length)>0){const e=window.location.ancestorOrigins[0];if(this.baseOrigins.has(e))return e}}catch{}const a=this.getSelfOrigin();if(a)return a;if("undefined"!=typeof window){const e=window.location.hostname;if("localhost"===e||"127.0.0.1"===e)return window.location.origin}throw new Error("Cannot determine safe target origin - no valid origin found")}getSafeTargetOrigin(){try{const e=this.getTargetOrigin();if(e&&"null"!==e)return e}catch{}if("undefined"!=typeof window&&window.parent!==window){const e=window.__MINIAPP_PARENT_ORIGIN__;if("string"==typeof e&&e&&this.baseOrigins.has(e))return e;throw new Error("Cannot communicate securely with parent - origin unknown. Ensure host app sets __MINIAPP_PARENT_ORIGIN__ or uses a supported browser.")}throw new Error("Cannot determine safe target origin - origin is null or undefined")}addDynamicOrigin(e){e&&"null"!==e&&this.dynamicOrigins.add(e)}};let Le=null;function Fe(e){const t=null==e?void 0:e.layout;if("web"===t||"mobile"===t)return t;if("undefined"!=typeof window){const e=new URLSearchParams(window.location.search).get("layout");if("web"===e||"mobile"===e)return e;if(window.ReactNativeWebView)return"mobile"}return"web"}function Re(e){if(!e||"object"!=typeof e)return!1;const t="function"==typeof e.invoke&&"function"==typeof e.getConfig,a="object"==typeof e.wallet||"object"==typeof e.payments;return t||a}function qe(e=De){return new Promise((t,a)=>{if("undefined"==typeof window)return void a(new Error("SDK not available in SSR"));if(window.MiniAppSDK)return Re(window.MiniAppSDK)?void t(window.MiniAppSDK):void a(new Error("SDK validation failed"));const l=setTimeout(()=>{if(window.removeEventListener("miniapp-sdk-ready",n),window.parent!==window){const e=function(){const e=Be.getSafeTargetOrigin();let t=0;const a=(a,...l)=>new Promise((n,r)=>{const o="undefined"!=typeof crypto&&crypto.getRandomValues?Array.from(crypto.getRandomValues(new Uint8Array(4)),e=>e.toString(16).padStart(2,"0")).join(""):Math.random().toString(36).slice(2,10),s=`sdk-${++t}-${Date.now()}-${o}`,i=setTimeout(()=>{window.removeEventListener("message",c),r(new Error("SDK invoke timeout"))},Ne),c=e=>{var t,a;Be.isValid(e.origin)&&e.source===window.parent&&"miniapp_sdk_response"===(null==(t=e.data)?void 0:t.type)&&(null==(a=e.data)?void 0:a.id)===s&&(clearTimeout(i),window.removeEventListener("message",c),e.data.ok?n(e.data.result):r(new Error(e.data.error||"SDK call failed")))};window.addEventListener("message",c),window.parent.postMessage({type:"miniapp_sdk_request",id:s,method:a,params:l},e)});return{invoke:a,getConfig:()=>Le?{...Le,layout:Fe(Le)}:"undefined"!=typeof window&&window.__MINIAPP_CONFIG__?(Le=window.__MINIAPP_CONFIG__,{...Le,layout:Fe(Le??void 0)}):{appId:"",contractAddress:null,chainId:null,chainType:void 0,supportedChains:[],layout:Fe(),debug:!1},getAddress:()=>a("getAddress"),wallet:{getAddress:()=>a("wallet.getAddress"),switchChain:e=>a("wallet.switchChain",e),invokeIntent:e=>a("wallet.invokeIntent",e),signMessage:e=>a("wallet.signMessage",e)},payments:{payGAS:(e,t,l)=>a("payments.payGAS",e,t,l),payGASAndInvoke:(e,t,l)=>a("payments.payGASAndInvoke",e,t,l)},governance:{vote:(e,t,l,n)=>a("governance.vote",e,t,l,n),voteAndInvoke:(e,t,l,n)=>a("governance.voteAndInvoke",e,t,l,n),getCandidates:()=>a("governance.getCandidates")},rng:{requestRandom:e=>a("rng.requestRandom",e)},datafeed:{getPrice:e=>a("datafeed.getPrice",e),getPrices:()=>a("datafeed.getPrices"),getNetworkStats:()=>a("datafeed.getNetworkStats"),getRecentTransactions:e=>a("datafeed.getRecentTransactions",e)},stats:{getMyUsage:(e,t)=>a("stats.getMyUsage",e,t)},events:{list:e=>a("events.list",e),emit:(e,t)=>a("events.emit",e,t)},transactions:{list:e=>a("transactions.list",e)},automation:{register:(e,t,l,n)=>a("automation.register",e,t,l,n),unregister:e=>a("automation.unregister",e),status:e=>a("automation.status",e),list:()=>a("automation.list"),update:(e,t,l)=>a("automation.update",e,t,l),enable:e=>a("automation.enable",e),disable:e=>a("automation.disable",e),logs:(e,t)=>a("automation.logs",e,t)},share:{openModal:e=>a("share.openModal",e),getUrl:e=>a("share.getUrl",e),copy:e=>a("share.copy",e)}}}();window.MiniAppSDK=e,e.invoke("getConfig").then(e=>{e&&"object"==typeof e&&(Le=e)}).catch(()=>{}),t(e)}else a(new Error("SDK timeout"))},e),n=()=>{if(clearTimeout(l),window.removeEventListener("miniapp-sdk-ready",n),window.MiniAppSDK){if(!Re(window.MiniAppSDK))return void a(new Error("SDK validation failed"));t(window.MiniAppSDK)}else a(new Error("SDK not found"))};window.addEventListener("miniapp-sdk-ready",n)})}function Ge(){return"undefined"==typeof window?null:window.MiniAppSDK??null}const Ue=new Set;let He={connected:!1,address:null,balance:null},je=null,We=!1;function ze(e){return e instanceof Error?e:"string"==typeof e?new Error(e):new Error(String(e))}"undefined"!=typeof window&&("undefined"!=typeof window&&(We&&je||(je=e=>{if(e.source!==window.parent)return;if(!Be.isValid(e.origin))return;const t=e.data;t&&"object"==typeof t&&("miniapp_config"!==t.type?"miniapp_wallet_state_change"===t.type&&(He={connected:Boolean(t.connected),address:t.address||null,chainId:t.chainId??null,chainType:t.chainType??null,balance:t.balance||t.multiChainBalance||null,balances:t.balances||void 0},Ue.forEach(e=>{try{e(He)}catch(t){console.error("[MiniApp SDK] Wallet state listener error:",t)}})):t.config&&"object"==typeof t.config&&(Le=t.config))},window.addEventListener("message",je),We=!0)),setTimeout(function(){if("undefined"==typeof window)return;const e=Be.getSafeTargetOrigin();try{window.parent.postMessage({type:"miniapp_ready"},e)}catch{}},Ve));class Ye extends Error{constructor(e,t){super(e),this.statusCode=t,this.name="HttpError"}}const Je={maxRetries:3,baseDelayMs:1e3,maxDelayMs:1e4};function Qe(e,t){return Math.min(t.baseDelayMs*Math.pow(2,e),t.maxDelayMs)*(.75+.5*Math.random())}function Xe(e,t){if(t&&t>=500)return!0;if(429===t)return!0;if(e instanceof Error){const t=e.message.toLowerCase();return t.includes("network")||t.includes("timeout")||t.includes("abort")}return!1}async function Ze(e,t){var a;if("undefined"!=typeof uni&&"function"==typeof C)return new Promise((a,l)=>{const n=(e=>{if(e){if(e instanceof Headers){const t={};return e.forEach((e,a)=>{t[a]=e}),t}return Array.isArray(e)?Object.fromEntries(e):e}})(t.headers),r=String((null==n?void 0:n["Content-Type"])||(null==n?void 0:n["content-type"])||"");let o=t.body;if("string"==typeof o&&r.includes("application/json"))try{o=JSON.parse(o)}catch{}C({url:e,method:t.method||"GET",data:o,header:n,success:e=>{if((e.statusCode??0)>=200&&(e.statusCode??0)<300)a(e.data);else{const t=e.data,a=null==t?void 0:t.error,n=("string"==typeof(null==a?void 0:a.message)?a.message:null)||`Request failed: ${e.statusCode}`;l(new Ye(n,e.statusCode??0))}},fail:e=>{l(new Error(e.errMsg||"Network error"))}})});const l="undefined"!=typeof window&&e.startsWith(window.location.origin),n=await fetch(e,{credentials:l?"include":"same-origin",...t});if(!n.ok){const t=await n.json().catch(()=>({}));throw new Ye((null==(a=t.error)?void 0:a.message)||`Request failed: ${e}`,n.status)}return n.json()}async function et(e){return async function(e,t={}){var a,l;const n=e.startsWith("http")?e:`https://api.neo-service-layer.io${e}`,r={...Je,...t.retryConfig};let o=null;for(let i=0;i<=r.maxRetries;i++){if(null==(a=t.signal)?void 0:a.aborted)throw new Error("Request cancelled");try{return await Ze(n,t)}catch(s){o=s instanceof Error?s:new Error(String(s));const e=s instanceof Ye?s.statusCode:void 0;if(null==(l=t.signal)?void 0:l.aborted)throw o;if(i>=r.maxRetries)break;if(!Xe(s,e))break;const a=Qe(i,r);await new Promise(e=>setTimeout(e,a))}}throw o||new Error("Request failed")}(e,{method:"GET"})}let tt=null,at=null;function lt(){const e=b(null),t=b({}),l=b(null),n=b(null),r=b(null),o=b([]),s=b(!1),i=b(!1),c=b(null),d=b(!1),u=b(null),f=a=>{a.connected&&a.address?(e.value=a.address,s.value=!0):(e.value=null,s.value=!1),l.value=a.chainId??null,n.value=a.chainType??null,t.value=(e=>{if(!e)return{};if(e.balances&&Object.keys(e.balances).length>0)return{...e.balances};if(e.balance){const t={};return t[e.balance.nativeSymbol||("neo-n3"===e.chainType?"GAS":"NATIVE")]=e.balance.native||"0",(e.balance.governance||e.balance.governanceSymbol)&&(t[e.balance.governanceSymbol||("neo-n3"===e.chainType?"NEO":"GOV")]=e.balance.governance||"0"),t}return{}})(a)},p=e=>{e&&(r.value=e.chainId??null,o.value=Array.isArray(e.supportedChains)?e.supportedChains:[])},v=async()=>{var e;const t=await qe(),a=null==(e=t.getConfig)?void 0:e.call(t);return p(a),a},m=async e=>{const t=await qe();if(!t.wallet.switchChain)throw new Error("switchChain not supported by SDK");await t.wallet.switchChain(e),l.value=e};let g=null;return a(()=>{var t;f(He),t=e=>{f(e)},Ue.add(t),t(He),g=()=>Ue.delete(t);const a=Ge();(null==a?void 0:a.getConfig)&&p(a.getConfig()),a&&!s.value&&(e=>e?(tt&&at!==e&&(tt=null,at=null),tt||(at=e,tt=e.wallet.getAddress().then(e=>e||null).catch(e=>{const t=e instanceof Error?e.message:String(e);return console.debug("[MiniApp SDK] Fallback wallet connection failed:",t),null}).finally(()=>{tt=null,at=null})),tt):Promise.resolve(null))(a).then(t=>{var r;if(!s.value&&t){e.value=t,s.value=!0;const o=null==(r=a.getConfig)?void 0:r.call(a);l.value=(null==o?void 0:o.chainId)??null,n.value=(null==o?void 0:o.chainType)??null,p(o)}}),qe().then(e=>{var t;return p(null==(t=e.getConfig)?void 0:t.call(e))}).catch(()=>{})}),S(()=>{g&&g()}),{address:e,chainId:l,chainType:n,appChainId:r,supportedChains:o,balances:t,isConnected:s,isLoading:i,error:c,showConnectionPrompt:d,connectionPromptMessage:u,connect:async()=>{var t;i.value=!0,c.value=null;try{const a=await qe(),r=await a.wallet.getAddress();if(!r)throw new Error("wallet returned empty address");e.value=r,s.value=!0;const o=null==(t=a.getConfig)?void 0:t.call(a);l.value=(null==o?void 0:o.chainId)??null,n.value=(null==o?void 0:o.chainType)??null,p(o)}catch(a){c.value=ze(a)}finally{i.value=!1}},invokeIntent:async e=>{var t;const a=Ge();if(!(null==(t=null==a?void 0:a.wallet)?void 0:t.invokeIntent))throw new Error("invokeIntent not available");return a.wallet.invokeIntent(e)},invokeContract:async e=>{var t;const a=await qe(),l=null==(t=a.getConfig)?void 0:t.call(a),n=e.contractAddress||e.scriptHash||e.contractHash,r=e.method||e.operation;if(!n||!r)throw new Error("contract address and method required");return a.invoke("invokeFunction",{contract:n,method:r,args:e.args,chainId:null==l?void 0:l.chainId,chainType:null==l?void 0:l.chainType})},invokeRead:async e=>{var t;const a=await qe(),l=null==(t=a.getConfig)?void 0:t.call(a),n=e.contractAddress||e.scriptHash||e.contractHash||(null==l?void 0:l.contractAddress),r=e.method||e.operation;if(!n)throw new Error("contract address not configured");if(!r)throw new Error("method required");return a.invoke("invokeRead",{contract:n,method:r,args:e.args||[],chainId:e.chainId||(null==l?void 0:l.chainId),chainType:e.chainType||(null==l?void 0:l.chainType)})},getContractAddress:async()=>{var e,t,a,l,n;const r=await qe(),o=null==(e=r.getConfig)?void 0:e.call(r);if(null==o?void 0:o.contractAddress)return o.contractAddress;if((null==o?void 0:o.chainId)&&(null==(a=null==(t=null==o?void 0:o.chainContracts)?void 0:t[o.chainId])?void 0:a.address))return o.chainContracts[o.chainId].address||null;if(r.invoke)try{const e=await r.invoke("getConfig");if(null==e?void 0:e.contractAddress)return e.contractAddress;if((null==e?void 0:e.chainId)&&(null==(n=null==(l=null==e?void 0:e.chainContracts)?void 0:l[e.chainId])?void 0:n.address))return e.chainContracts[e.chainId].address||null}catch{}return null},getAppConfig:v,getAddress:async()=>(await qe()).wallet.getAddress(),signMessage:async e=>{var t;const a=await qe();if(!(null==(t=a.wallet)?void 0:t.signMessage))throw new Error("signMessage not available");return a.wallet.signMessage(e)},switchChain:m,switchToAppChain:async e=>{const t=await v(),a=(null==t?void 0:t.chainId)||(Array.isArray(null==t?void 0:t.supportedChains)&&t.supportedChains.length>0?t.supportedChains[0]:null)||e||null;if(!a)throw new Error("app chain not configured");await m(a)},getBalance:async e=>{var a;i.value=!0,c.value=null;try{const n=await qe(),r=null==(a=n.getConfig)?void 0:a.call(n),o=(null==r?void 0:r.chainId)||l.value,s=o?`?chain_id=${encodeURIComponent(o)}`:"",i=await et(`/wallet-balance${s}`),c=(null==i?void 0:i.balances)??{};return t.value=c,e?c[e]||"0":c}catch(n){throw c.value=ze(n),n}finally{i.value=!1}},getTransactions:async(e=20)=>{var t;i.value=!0,c.value=null;try{const a=Number.isNaN(e)||e<1?20:Math.min(e,100),n=await qe(),r=null==(t=n.getConfig)?void 0:t.call(n),o=(null==r?void 0:r.chainId)||l.value,s=new URLSearchParams({limit:String(a)});o&&s.set("chain_id",o);const i=await et(`/wallet-transactions?${s.toString()}`);return(null==i?void 0:i.transactions)??[]}catch(a){throw c.value=ze(a),a}finally{i.value=!1}},invoke:async(e,t)=>(await qe()).invoke(e,t),requireConnection:(e={})=>{const{showPrompt:t=!0,errorMessage:a}=e;return!!s.value||(t&&(u.value=a||null,d.value=!0),!1)},closeConnectionPrompt:()=>{d.value=!1,u.value=null},clearError:()=>{c.value=null}}}function nt(e){if(null==e)return null;if("object"==typeof e&&"type"in e){const t=e;switch(t.type){case"ByteArray":case"Buffer":case"InteropInterface":default:return t.value;case"Integer":return"string"==typeof t.value?t.value.startsWith("0x")?BigInt(t.value).toString():parseInt(t.value,10):Number(t.value);case"Array":case"Struct":return Array.isArray(t.value)?t.value.map(nt):t.value;case"Map":if(Array.isArray(t.value)){const e=new Map;for(const a of t.value)Array.isArray(a)&&2===a.length&&e.set(nt(a[0]),nt(a[1]));return Object.fromEntries(e)}return t.value;case"Boolean":return Boolean(t.value);case"String":case"Hash160":case"Hash256":return String(t.value)}}return Array.isArray(e)?e.map(nt):e}function rt(e){if(!e)return null;if("object"==typeof e&&null!==e){const t=e;return"stack"in t&&Array.isArray(t.stack)?0===t.stack.length?null:1===t.stack.length?nt(t.stack[0]):t.stack.map(nt):"state"in t?nt(t.state):"txid"in t||"txHash"in t?e:nt(e)}return"string"==typeof e||"number"==typeof e||"boolean"==typeof e?e:nt(e)}b("en");class ot extends Error{constructor(e,t,a,l){super(e),this.code=t,this.userMessage=a,this.details=l,this.name="MiniAppError"}}function st(e,t="An error occurred"){return function(e){return e instanceof ot}(e)?e.userMessage||e.message:e instanceof Error?e.message:t}const it=new Set(["neo-n3","neo-n3-mainnet","neo-n3-testnet"]);function ct(e,t,a,l){const n=function(e){if("string"==typeof e)return e;const t=null==e?void 0:e.value;return"string"==typeof t?t:""}(e);if(it.has(n))return!0;let r="";if(!r&&"function"==typeof t){const e=t("wrongChainMessage");r=e&&"wrongChainMessage"!==e?e:t("wrongChain")}r||(r="Wrong network");const o=globalThis.uni;return(null==o?void 0:o.showToast)&&o.showToast({title:r,icon:"none"}),!1}function dt(){const{invokeRead:e,getContractAddress:a,chainType:l}=lt(),n=b([]),r=b(!1),o=b(0),s=b(null),i=b({category:"all",sortBy:"volume"}),c=t(()=>[{id:"all",label:"All"},{id:"crypto",label:"Crypto"},{id:"sports",label:"Sports"},{id:"politics",label:"Politics"},{id:"economics",label:"Economics"},{id:"entertainment",label:"Entertainment"},{id:"other",label:"Other"}]),d=t(()=>n.value.reduce((e,t)=>e+t.totalVolume,0)),u=t(()=>{let e=n.value;return"all"!==i.value.category&&(e=e.filter(e=>e.category===i.value.category)),e=[...e].sort((e,t)=>{switch(i.value.sortBy){case"volume":return t.totalVolume-e.totalVolume;case"newest":return t.id-e.id;case"ending":return e.endTime-t.endTime;default:return 0}}),e});return{markets:n,filteredMarkets:u,categories:c,loadingMarkets:r,totalVolume:d,activeTraders:o,error:s,filters:i,getCategoryCount:e=>"all"===e?n.value.length:n.value.filter(t=>t.category===e).length,loadMarkets:async t=>{r.value=!0,s.value=null;try{const t=await(async()=>{if(!ct(l,e=>e))throw new Error("Wrong chain");const e=await a();if(!e)throw new Error("Contract unavailable");return e})(),r=rt(await e({scriptHash:t,operation:"getMarkets",args:[{type:"Integer",value:"50"}]}));Array.isArray(r)&&(n.value=r.map(e=>({id:Number(e.id),question:String(e.question||""),description:String(e.description||""),category:String(e.category||"other"),endTime:Number(e.endTime||Date.now()),resolutionTime:e.resolutionTime?Number(e.resolutionTime):void 0,oracle:String(e.oracle||""),creator:String(e.creator||""),status:String(e.status||"open"),yesPrice:Number(e.yesPrice||.5),noPrice:Number(e.noPrice||.5),totalVolume:Number(e.totalVolume||0),resolution:void 0!==e.resolution?Boolean(e.resolution):void 0})));const s=await e({scriptHash:t,operation:"getActiveTraderCount",args:[]});o.value=Number(rt(s)||0)}catch(i){s.value=st(i,"Failed to load markets"),n.value=[{id:1,question:t("market1Question"),description:"",category:"crypto",endTime:Date.now()+864e5,oracle:"",creator:"",status:"open",yesPrice:.65,noPrice:.35,totalVolume:1500},{id:2,question:t("market2Question"),description:"",category:"sports",endTime:Date.now()+1728e5,oracle:"",creator:"",status:"open",yesPrice:.42,noPrice:.58,totalVolume:2800},{id:3,question:t("market3Question"),description:"",category:"politics",endTime:Date.now()+2592e5,oracle:"",creator:"",status:"open",yesPrice:.78,noPrice:.22,totalVolume:4200}],o.value=156}finally{r.value=!1}},setCategory:e=>{i.value.category=e},toggleSort:()=>{const e=["volume","newest","ending"],t=e.indexOf(i.value.sortBy);i.value.sortBy=e[(t+1)%e.length]}}}function ut(e,t){const{payGAS:a}=function(e){const{isLoading:t,error:a,execute:l}=re(async(t,a)=>{const l=parseFloat(t);if(Number.isNaN(l)||l<=0)throw new Error("Invalid amount: must be a positive number");const n=await X();return n.payments.payGASAndInvoke?await n.payments.payGASAndInvoke(e,t,a):await n.payments.payGAS(e,t,a)});return{isLoading:t,error:a,payGAS:l}}(e),{address:l,connect:n,invokeContract:r}=ve(),{list:o}=function(){const e=re(async(e={})=>{var t;const a=await X();if(!(null==(t=a.events)?void 0:t.list))throw new Error("events.list not available");return await a.events.list(e)}),t=re(async(e,t)=>{var a;const l=String(e||"").trim();if(!l)throw new Error("eventName required");const n=await X();if(!(null==(a=n.events)?void 0:a.emit))throw new Error("events.emit not available");return await n.events.emit(l,t||{})});return{isLoading:e.isLoading,error:e.error,list:e.execute,isEmitting:t.isLoading,emitError:t.error,emit:t.execute}}(),s=b(!1),i=b(null),c=b(!1);return{isProcessing:s,isLoading:s,error:i,success:c,processPayment:async(d,u)=>{try{if(l.value||await n(),!l.value)throw new Error("Wallet not connected");s.value=!0,i.value=null;const f=(await a(d,u)).receipt_id||"",p=async(t,a,l=3e4)=>async function(e,t,a){const{timeoutMs:l=3e4,pollIntervalMs:n=1500,errorMessage:r="Event not found in time"}=a||{},o=Date.now();for(;Date.now()-o<l;){const a=(await e()).find(t);if(a)return a;await new Promise(e=>setTimeout(e,n))}throw new Error(r)}(async()=>(await o({app_id:e,event_name:a,limit:20})).events||[],e=>e.tx_hash===t,{timeoutMs:l,errorMessage:`Event "${a}" not found for transaction ${t}`});return{receiptId:f,invoke:async(e,t,a)=>{let l,n,o;if("string"==typeof t&&Array.isArray(a))l=e,n=t,o=a;else{if(!Array.isArray(t)||"string"!=typeof a)throw new Error("Invalid invoke signature");n=e,o=t,l=a}const s=await r({scriptHash:l,operation:n,args:o});return{txid:s.txid||s.txHash||"",receiptId:f}},waitForEvent:p,triggerSuccess:()=>{var e;c.value=!0,null==(e=null==t?void 0:t.onSuccess)||e.call(t),setTimeout(()=>{c.value=!1},3500)}}}catch(f){throw i.value=f instanceof Error?f:new Error(String(f)),f}finally{s.value=!1}}}}const ft=K(e({__name:"MarketCard",props:{market:{},t:{type:Function}},emits:["click"],setup(e){const t=e=>(100*e).toFixed(1)+"%",a=e=>{const t=e-Date.now();if(t<=0)return"Ended";const a=Math.floor(t/864e5),l=Math.floor(t%864e5/36e5);return a>0?`${a}d ${l}h`:l>0?`${l}h`:"< 1h"};return(e,o)=>{const f=r,p=c;return l(),n(f,{class:"market-card",role:"button",tabindex:"0","aria-label":e.market.question,onClick:o[0]||(o[0]=t=>e.$emit("click"))},{default:i(()=>[y(f,{class:"market-header"},{default:i(()=>[y(f,{class:"market-category"},{default:i(()=>{return[d(u((t=e.market.category,{crypto:"Crypto",sports:"Sports",politics:"Politics",economics:"Economics",entertainment:"Entertainment",other:"Other"}[t]||"Other")),1)];var t}),_:1}),y(f,{class:s(["market-status",`status-${e.market.status}`])},{default:i(()=>{return[d(u((t=e.market.status,{open:"Open",closed:"Closed",resolved:"Resolved",cancelled:"Cancelled"}[t]||t)),1)];var t}),_:1},8,["class"])]),_:1}),y(f,{class:"market-question"},{default:i(()=>[d(u(e.market.question),1)]),_:1}),y(f,{class:"market-prices"},{default:i(()=>[y(f,{class:"price-row yes"},{default:i(()=>[y(p,{class:"price-label"},{default:i(()=>[d(u(e.t("yesShares")),1)]),_:1}),y(p,{class:"price-value"},{default:i(()=>[d(u(t(e.market.yesPrice)),1)]),_:1})]),_:1}),y(f,{class:"price-row no"},{default:i(()=>[y(p,{class:"price-label"},{default:i(()=>[d(u(e.t("noShares")),1)]),_:1}),y(p,{class:"price-value"},{default:i(()=>[d(u(t(e.market.noPrice)),1)]),_:1})]),_:1})]),_:1}),y(f,{class:"market-footer"},{default:i(()=>[y(f,{class:"market-volume"},{default:i(()=>[y(p,{class:"volume-label"},{default:i(()=>[d(u(e.t("totalVolume"))+":",1)]),_:1}),y(p,{class:"volume-value"},{default:i(()=>{return[d(u((t=e.market.totalVolume,t>=1e3?(t/1e3).toFixed(1)+"k":t.toFixed(2)))+" GAS",1)];var t}),_:1})]),_:1}),y(f,{class:"market-time"},{default:i(()=>[y(p,null,{default:i(()=>[d(u(a(e.market.endTime)),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["aria-label"])}}}),[["__scopeId","data-v-75c22454"]]),pt=K(e({__name:"MarketList",props:{markets:{},categories:{},selectedCategory:{},sortLabel:{},loading:{type:Boolean},isDesktop:{type:Boolean},t:{type:Function}},emits:["select","selectCategory","toggleSort"],setup:e=>(e,t)=>{const a=c,o=r,m=P;return l(),n(o,{class:"market-list"},{default:i(()=>[e.isDesktop?w("",!0):(l(),n(o,{key:0,class:"mobile-filter"},{default:i(()=>[y(m,{"scroll-x":"",class:"category-scroll"},{default:i(()=>[(l(!0),f(v,null,p(e.categories,t=>(l(),n(o,{key:t.id,class:s(["category-chip",{active:e.selectedCategory===t.id}]),role:"button",tabindex:"0","aria-label":t.label,"aria-pressed":e.selectedCategory===t.id,onClick:a=>e.$emit("selectCategory",t.id)},{default:i(()=>[y(a,null,{default:i(()=>[d(u(t.label),1)]),_:2},1024)]),_:2},1032,["class","aria-label","aria-pressed","onClick"]))),128))]),_:1})]),_:1})),y(o,{class:"content-card"},{default:i(()=>[y(o,{class:"card-header"},{default:i(()=>[y(a,{class:"card-title"},{default:i(()=>[d(u(e.t("activeMarkets")),1)]),_:1}),y(o,{class:"sort-dropdown",role:"button",tabindex:"0","aria-label":e.t("sortBy")||"Sort",onClick:t[0]||(t[0]=t=>e.$emit("toggleSort"))},{default:i(()=>[y(a,null,{default:i(()=>[d(u(e.sortLabel),1)]),_:1}),y(a,{class:"chevron","aria-hidden":"true"},{default:i(()=>[d("â–¼")]),_:1})]),_:1},8,["aria-label"])]),_:1}),e.loading?(l(),n(o,{key:0,class:"loading-state"},{default:i(()=>[y(o,{class:"spinner"}),y(a,null,{default:i(()=>[d(u(e.t("loading")),1)]),_:1})]),_:1})):0===e.markets.length?(l(),n(o,{key:1,class:"empty-state"},{default:i(()=>[y(a,{class:"empty-icon"},{default:i(()=>[d("ðŸ“Š")]),_:1}),y(a,{class:"empty-title"},{default:i(()=>[d(u(e.t("noMarkets")),1)]),_:1}),y(a,{class:"empty-subtitle"},{default:i(()=>[d(u(e.t("checkBackLater")),1)]),_:1})]),_:1})):(l(),n(o,{key:2,class:"market-grid"},{default:i(()=>[(l(!0),f(v,null,p(e.markets,t=>(l(),n(ft,{key:t.id,market:t,t:e.t,onClick:a=>e.$emit("select",t)},null,8,["market","t","onClick"]))),128))]),_:1}))]),_:1})]),_:1})}}),[["__scopeId","data-v-89da79bf"]]);function vt(e,t=6,a=4){const l=(e??"").trim();return l?l.length<=t+a+3?l:`${l.slice(0,t)}...${l.slice(-a)}`:"--"}const mt=K(e({__name:"MarketHeroCard",props:{market:{},t:{type:Function}},setup(e){const a=e,{t:n}=L(),o=(e,t)=>a.t?a.t(e,t):n(e,t),p={crypto:"categoryCrypto",sports:"categorySports",politics:"categoryPolitics",economics:"categoryEconomics",entertainment:"categoryEntertainment",other:"categoryOther"},m={open:"statusOpen",closed:"statusClosed",resolved:"statusResolved",cancelled:"statusCancelled"},g=t(()=>{const e=m[a.market.status]??"statusOpen";return o(e)}),w=e=>new Date(e).toLocaleString(void 0,{month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit"}),h=e=>`${(100*e).toFixed(1)}%`;return(e,t)=>{const a=c,n=r;return l(),f(v,null,[y(n,{class:"hero-card"},{default:i(()=>[y(n,{class:"hero-topline"},{default:i(()=>[y(a,{class:"hero-category"},{default:i(()=>{return[d(u((t=e.market.category,o(p[t]??"categoryOther"))),1)];var t}),_:1}),y(a,{class:s(["hero-status",`status-${e.market.status}`])},{default:i(()=>[d(u(g.value),1)]),_:1},8,["class"])]),_:1}),y(a,{class:"hero-question"},{default:i(()=>[d(u(e.market.question),1)]),_:1}),y(a,{class:"hero-description"},{default:i(()=>[d(u(e.market.description||o("marketDescriptionFallback")),1)]),_:1}),y(n,{class:"hero-meta"},{default:i(()=>[y(n,{class:"meta-chip"},{default:i(()=>[y(a,{class:"meta-label"},{default:i(()=>[d(u(o("endTime")),1)]),_:1}),y(a,{class:"meta-value"},{default:i(()=>[d(u(w(e.market.endTime)),1)]),_:1})]),_:1}),y(n,{class:"meta-chip"},{default:i(()=>[y(a,{class:"meta-label"},{default:i(()=>[d(u(o("resolutionSource")),1)]),_:1}),y(a,{class:"meta-value"},{default:i(()=>[d(u(T(vt)(e.market.oracle)),1)]),_:1})]),_:1}),y(n,{class:"meta-chip"},{default:i(()=>[y(a,{class:"meta-label"},{default:i(()=>[d(u(o("totalVolume")),1)]),_:1}),y(a,{class:"meta-value"},{default:i(()=>{return[d(u((t=e.market.totalVolume,t>=1e3?`${(t/1e3).toFixed(1)}k`:t.toFixed(3)))+" GAS",1)];var t}),_:1})]),_:1})]),_:1}),y(n,{class:"odds-grid"},{default:i(()=>[y(n,{class:"odds-card yes-card"},{default:i(()=>[y(a,{class:"odds-label"},{default:i(()=>[d(u(o("yesShares")),1)]),_:1}),y(a,{class:"odds-value"},{default:i(()=>[d(u(h(e.market.yesPrice)),1)]),_:1})]),_:1}),y(n,{class:"odds-card no-card"},{default:i(()=>[y(a,{class:"odds-label"},{default:i(()=>[d(u(o("noShares")),1)]),_:1}),y(a,{class:"odds-value"},{default:i(()=>[d(u(h(e.market.noPrice)),1)]),_:1})]),_:1})]),_:1})]),_:1}),y(n,{class:"content-card"},{default:i(()=>[y(a,{class:"section-title"},{default:i(()=>[d(u(o("coreLogicTitle")),1)]),_:1}),y(n,{class:"logic-list"},{default:i(()=>[y(n,{class:"logic-item"},{default:i(()=>[y(a,{class:"logic-label"},{default:i(()=>[d(u(o("logicResolutionRule")),1)]),_:1}),y(a,{class:"logic-value"},{default:i(()=>[d(u(e.market.description||o("marketDescriptionFallback")),1)]),_:1})]),_:1}),y(n,{class:"logic-item"},{default:i(()=>[y(a,{class:"logic-label"},{default:i(()=>[d(u(o("logicSettlementAt")),1)]),_:1}),y(a,{class:"logic-value"},{default:i(()=>[d(u(w(e.market.endTime)),1)]),_:1})]),_:1}),y(n,{class:"logic-item"},{default:i(()=>[y(a,{class:"logic-label"},{default:i(()=>[d(u(o("logicOracle")),1)]),_:1}),y(a,{class:"logic-value"},{default:i(()=>[d(u(T(vt)(e.market.oracle)),1)]),_:1})]),_:1})]),_:1})]),_:1})],64)}}}),[["__scopeId","data-v-7130fbf3"]]),gt=K(e({__name:"MarketOrderList",props:{marketOrders:{},marketPositions:{},t:{type:Function}},emits:["cancel-order"],setup(e,{emit:t}){const a=e,o=t,{t:h}=L(),b=(e,t)=>a.t?a.t(e,t):h(e,t),_=e=>`${(100*e).toFixed(1)}%`;return(e,t)=>{const a=c,h=r;return l(),n(h,{class:"content-card"},{default:i(()=>[y(h,{class:"section-row"},{default:i(()=>[y(a,{class:"section-title"},{default:i(()=>[d(u(b("yourOrders")),1)]),_:1}),y(a,{class:"section-count"},{default:i(()=>[d(u(e.marketOrders.length),1)]),_:1})]),_:1}),0===e.marketOrders.length?(l(),n(h,{key:0,class:"empty-state"},{default:i(()=>[y(a,null,{default:i(()=>[d(u(b("noOrders")),1)]),_:1})]),_:1})):(l(),n(h,{key:1,class:"order-list"},{default:i(()=>[(l(!0),f(v,null,p(e.marketOrders,e=>(l(),n(h,{key:e.id,class:"order-item"},{default:i(()=>[y(h,{class:"order-main"},{default:i(()=>[y(a,{class:s(["order-type",e.orderType])},{default:i(()=>[d(u(e.orderType.toUpperCase())+" Â· "+u(e.outcome.toUpperCase()),1)]),_:2},1032,["class"]),y(a,{class:"order-detail"},{default:i(()=>[d(u(e.shares.toFixed(2))+" @ "+u(_(e.price)),1)]),_:2},1024)]),_:2},1024),"cancelled"!==e.status?(l(),n(h,{key:0,class:"cancel-pill",role:"button",tabindex:"0",onClick:t=>o("cancel-order",e.id),onKeydown:[m(t=>o("cancel-order",e.id),["enter"]),m(g(t=>o("cancel-order",e.id),["prevent"]),["space"])]},{default:i(()=>[y(a,null,{default:i(()=>[d(u(b("cancelOrder")),1)]),_:1})]),_:2},1032,["onClick","onKeydown"])):w("",!0)]),_:2},1024))),128))]),_:1})),y(h,{class:"positions-section"},{default:i(()=>[y(h,{class:"section-row"},{default:i(()=>[y(a,{class:"section-title"},{default:i(()=>[d(u(b("yourPositions")),1)]),_:1}),y(a,{class:"section-count"},{default:i(()=>[d(u(e.marketPositions.length),1)]),_:1})]),_:1}),0===e.marketPositions.length?(l(),n(h,{key:0,class:"empty-state compact"},{default:i(()=>[y(a,null,{default:i(()=>[d(u(b("noPositions")),1)]),_:1})]),_:1})):(l(),n(h,{key:1,class:"position-list"},{default:i(()=>[(l(!0),f(v,null,p(e.marketPositions,e=>(l(),n(h,{key:`${e.marketId}-${e.outcome}`,class:"position-item"},{default:i(()=>[y(a,{class:"position-outcome"},{default:i(()=>[d(u(e.outcome.toUpperCase()),1)]),_:2},1024),y(a,{class:"position-meta"},{default:i(()=>[d(u(e.shares.toFixed(2))+" "+u(b("shares")),1)]),_:2},1024),y(a,{class:"position-meta"},{default:i(()=>[d("Avg "+u(_(e.avgPrice)),1)]),_:2},1024)]),_:2},1024))),128))]),_:1}))]),_:1})]),_:1})}}}),[["__scopeId","data-v-e908feb0"]]),yt=K(e({__name:"MarketCommentFeed",props:{marketId:{},marketOrders:{},marketPositions:{},t:{type:Function}},setup(e,{expose:a}){const o=e,{t:w}=L(),h=(e,t)=>o.t?o.t(e,t):w(e,t),_=e=>`${(100*e).toFixed(1)}%`,k=b("comments"),C=t(()=>`feed-tab-comments-${o.marketId}`),S=t(()=>`feed-tab-reviews-${o.marketId}`),T=t(()=>`feed-panel-comments-${o.marketId}`),I=t(()=>`feed-panel-reviews-${o.marketId}`),A=b(""),$=b([]),E=(e,t=!1)=>{if(k.value=e,!t||"undefined"==typeof document)return;const a="comments"===e?C.value:S.value;D(()=>{var e;null==(e=document.getElementById(a))||e.focus()})},M=e=>{E("comments"===e?"reviews":"comments",!0)},P=t(()=>[{id:"seed-1",author:"SignalSeeker",time:h("commentTimeHour"),body:h("commentSeedOne")},{id:"seed-2",author:"ChainMonk",time:h("commentTimeTwoHours"),body:h("commentSeedTwo")},{id:"seed-3",author:"DeltaHedge",time:h("commentTimeFourHours"),body:h("commentSeedThree")}]),N=t(()=>[...$.value,...P.value]),V=t(()=>A.value.trim().length>0),K=t(()=>[...o.marketPositions.map(e=>({id:`position-${e.marketId}-${e.outcome}`,title:`${e.outcome.toUpperCase()} Â· ${h("reviewPositionTitle")}`,body:h("reviewPositionBody",{shares:e.shares.toFixed(2),avgPrice:_(e.avgPrice)})})),...o.marketOrders.slice(0,2).map(e=>({id:`order-${e.id}`,title:`${e.orderType.toUpperCase()} ${e.outcome.toUpperCase()} Â· ${h("reviewOrderTitle")}`,body:h("reviewOrderBody",{shares:e.shares.toFixed(2),price:_(e.price)})}))]),B=()=>{V.value&&($.value.unshift({id:`local-${Date.now()}`,author:h("youLabel"),time:h("commentTimeNow"),body:A.value.trim()}),A.value="")};return a({resetState:()=>{A.value="",$.value=[],k.value="comments"}}),(e,t)=>{const a=c,o=r,w=O,b=x;return l(),n(o,{class:"content-card"},{default:i(()=>[y(o,{class:"feed-tabs",role:"tablist","aria-label":`${h("commentsTab")} / ${h("reviewsTab")}`},{default:i(()=>[y(o,{id:C.value,class:s(["feed-tab",{active:"comments"===k.value}]),role:"tab",tabindex:"comments"===k.value?0:-1,"aria-selected":"comments"===k.value,"aria-controls":T.value,onClick:t[0]||(t[0]=e=>E("comments")),onKeydown:[t[1]||(t[1]=m(e=>E("comments"),["enter"])),t[2]||(t[2]=m(g(e=>E("comments"),["prevent"]),["space"])),t[3]||(t[3]=m(g(e=>M("comments"),["prevent"]),["left"])),t[4]||(t[4]=m(g(e=>M("comments"),["prevent"]),["right"])),t[5]||(t[5]=m(g(e=>M("comments"),["prevent"]),["up"])),t[6]||(t[6]=m(g(e=>M("comments"),["prevent"]),["down"])),t[7]||(t[7]=m(g(e=>E("comments",!0),["prevent"]),["home"])),t[8]||(t[8]=m(g(e=>E("reviews",!0),["prevent"]),["end"]))]},{default:i(()=>[y(a,null,{default:i(()=>[d(u(h("commentsTab")),1)]),_:1})]),_:1},8,["id","class","tabindex","aria-selected","aria-controls"]),y(o,{id:S.value,class:s(["feed-tab",{active:"reviews"===k.value}]),role:"tab",tabindex:"reviews"===k.value?0:-1,"aria-selected":"reviews"===k.value,"aria-controls":I.value,onClick:t[9]||(t[9]=e=>E("reviews")),onKeydown:[t[10]||(t[10]=m(e=>E("reviews"),["enter"])),t[11]||(t[11]=m(g(e=>E("reviews"),["prevent"]),["space"])),t[12]||(t[12]=m(g(e=>M("reviews"),["prevent"]),["left"])),t[13]||(t[13]=m(g(e=>M("reviews"),["prevent"]),["right"])),t[14]||(t[14]=m(g(e=>M("reviews"),["prevent"]),["up"])),t[15]||(t[15]=m(g(e=>M("reviews"),["prevent"]),["down"])),t[16]||(t[16]=m(g(e=>E("comments",!0),["prevent"]),["home"])),t[17]||(t[17]=m(g(e=>E("reviews",!0),["prevent"]),["end"]))]},{default:i(()=>[y(a,null,{default:i(()=>[d(u(h("reviewsTab")),1)]),_:1})]),_:1},8,["id","class","tabindex","aria-selected","aria-controls"])]),_:1},8,["aria-label"]),"comments"===k.value?(l(),n(o,{key:0,id:T.value,class:"comments-panel",role:"tabpanel","aria-labelledby":C.value},{default:i(()=>[y(o,{class:"comment-composer"},{default:i(()=>[y(w,{modelValue:A.value,"onUpdate:modelValue":t[18]||(t[18]=e=>A.value=e),class:"comment-input",placeholder:h("commentPlaceholder"),maxlength:"240"},null,8,["modelValue","placeholder"]),y(b,{class:"publish-button",disabled:!V.value,onClick:B},{default:i(()=>[y(a,null,{default:i(()=>[d(u(h("publishComment")),1)]),_:1})]),_:1},8,["disabled"])]),_:1}),y(o,{class:"comment-list"},{default:i(()=>[(l(!0),f(v,null,p(N.value,e=>(l(),n(o,{key:e.id,class:"comment-item"},{default:i(()=>[y(o,{class:"comment-header"},{default:i(()=>[y(a,{class:"comment-author"},{default:i(()=>[d(u(e.author),1)]),_:2},1024),y(a,{class:"comment-time"},{default:i(()=>[d(u(e.time),1)]),_:2},1024)]),_:2},1024),y(a,{class:"comment-body"},{default:i(()=>[d(u(e.body),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1},8,["id","aria-labelledby"])):(l(),n(o,{key:1,id:I.value,class:"review-panel",role:"tabpanel","aria-labelledby":S.value},{default:i(()=>[0===K.value.length?(l(),n(o,{key:0,class:"empty-state"},{default:i(()=>[y(a,null,{default:i(()=>[d(u(h("noReviewsYet")),1)]),_:1})]),_:1})):(l(),n(o,{key:1,class:"review-list"},{default:i(()=>[(l(!0),f(v,null,p(K.value,e=>(l(),n(o,{key:e.id,class:"review-item"},{default:i(()=>[y(a,{class:"review-title"},{default:i(()=>[d(u(e.title),1)]),_:2},1024),y(a,{class:"review-body"},{default:i(()=>[d(u(e.body),1)]),_:2},1024)]),_:2},1024))),128))]),_:1}))]),_:1},8,["id","aria-labelledby"]))]),_:1})}}}),[["__scopeId","data-v-b72cf254"]]),wt=K(e({__name:"TradeSegmentControl",props:{label:{},options:{},modelValue:{}},emits:["update:modelValue"],setup(e,{emit:t}){const a=t;return(e,t)=>{const o=c,w=r;return l(),n(w,{class:"control-group"},{default:i(()=>[y(o,{class:"control-label"},{default:i(()=>[d(u(e.label),1)]),_:1}),y(w,{class:"segment-row"},{default:i(()=>[(l(!0),f(v,null,p(e.options,t=>(l(),n(w,{key:t.value,class:s(["segment",[t.variant,{active:e.modelValue===t.value}]]),role:"button",tabindex:"0","aria-pressed":e.modelValue===t.value,onClick:e=>a("update:modelValue",t.value),onKeydown:[m(e=>a("update:modelValue",t.value),["enter"]),m(g(e=>a("update:modelValue",t.value),["prevent"]),["space"])]},{default:i(()=>[y(o,null,{default:i(()=>[d(u(t.label),1)]),_:2},1024)]),_:2},1032,["class","aria-pressed","onClick","onKeydown"]))),128))]),_:1})]),_:1})}}}),[["__scopeId","data-v-27ee5962"]]),ht=K(e({__name:"TradePresetChips",props:{label:{},modelValue:{},presets:{},placeholder:{},min:{},max:{},step:{},variant:{}},emits:["update:modelValue"],setup(e,{emit:t}){const a=t,o=e=>{const t=e.target,l=Number(t.value);Number.isFinite(l)&&a("update:modelValue",l)};return(e,t)=>{const w=c,h=N,b=r;return l(),n(b,{class:"control-group"},{default:i(()=>[y(w,{class:"control-label"},{default:i(()=>[d(u(e.label),1)]),_:1}),y(h,{value:e.modelValue,class:"trade-input",type:"number",placeholder:e.placeholder,min:e.min,max:e.max,step:e.step,"aria-label":e.label,onInput:o},null,8,["value","placeholder","min","max","step","aria-label"]),y(b,{class:s(["preset-row",e.variant])},{default:i(()=>[(l(!0),f(v,null,p(e.presets,e=>(l(),n(b,{key:e.value,class:"preset-chip",role:"button",tabindex:"0",onClick:t=>a("update:modelValue",e.value),onKeydown:[m(t=>a("update:modelValue",e.value),["enter"]),m(g(t=>a("update:modelValue",e.value),["prevent"]),["space"])]},{default:i(()=>[d(u(e.label),1)]),_:2},1032,["onClick","onKeydown"]))),128))]),_:1},8,["class"])]),_:1})}}}),[["__scopeId","data-v-9c667cce"]]),bt=K(e({__name:"TradePreviewCard",props:{txMethod:{},subtotal:{},fee:{},priceDelta:{},maxPayout:{},callData:{},t:{type:Function}},setup(e){const t=e=>e>=1e3?`${(e/1e3).toFixed(1)}k`:e.toFixed(3),a=e=>{const t=Number(e.toFixed(4));if(0===t)return"0.0%";return`${t>0?"+":"-"}${Math.abs(100*t).toFixed(1)}%`};return(e,o)=>{const f=c,p=r;return l(),n(p,{class:"preview-card"},{default:i(()=>[y(f,{class:"preview-title"},{default:i(()=>[d(u(e.t("txPreview")),1)]),_:1}),y(p,{class:"preview-row"},{default:i(()=>[y(f,null,{default:i(()=>[d(u(e.t("txMethod")),1)]),_:1}),y(f,null,{default:i(()=>[d(u(e.txMethod),1)]),_:1})]),_:1}),y(p,{class:"preview-row"},{default:i(()=>[y(f,null,{default:i(()=>[d(u(e.t("txNetwork")),1)]),_:1}),y(f,null,{default:i(()=>[d("Neo N3")]),_:1})]),_:1}),y(p,{class:"preview-row"},{default:i(()=>[y(f,null,{default:i(()=>[d(u(e.t("txSubtotal")),1)]),_:1}),y(f,null,{default:i(()=>[d(u(t(e.subtotal))+" GAS",1)]),_:1})]),_:1}),y(p,{class:"preview-row"},{default:i(()=>[y(f,null,{default:i(()=>[d(u(e.t("txFee")),1)]),_:1}),y(f,null,{default:i(()=>[d(u(t(e.fee))+" GAS",1)]),_:1})]),_:1}),y(p,{class:s(["preview-row delta",{positive:e.priceDelta>0,negative:e.priceDelta<0}])},{default:i(()=>[y(f,null,{default:i(()=>[d(u(e.t("txEdge")),1)]),_:1}),y(f,null,{default:i(()=>[d(u(a(e.priceDelta)),1)]),_:1})]),_:1},8,["class"]),y(p,{class:"preview-row total"},{default:i(()=>[y(f,null,{default:i(()=>[d(u(e.t("txTotal")),1)]),_:1}),y(f,null,{default:i(()=>[d(u(t(e.subtotal+e.fee))+" GAS",1)]),_:1})]),_:1}),y(p,{class:"preview-row"},{default:i(()=>[y(f,null,{default:i(()=>[d(u(e.t("txMaxPayout")),1)]),_:1}),y(f,null,{default:i(()=>[d(u(t(e.maxPayout))+" GAS",1)]),_:1})]),_:1}),y(p,{class:"call-data-box"},{default:i(()=>[y(f,{class:"call-data-label"},{default:i(()=>[d(u(e.t("txCallData")),1)]),_:1}),y(f,{class:"call-data-value"},{default:i(()=>[d(u(e.callData),1)]),_:1})]),_:1})]),_:1})}}}),[["__scopeId","data-v-40a71e4b"]]),_t=K(e({__name:"MarketTradeForm",props:{market:{},isTrading:{type:Boolean},t:{type:Function}},emits:["trade"],setup(e,{emit:a}){const o=e,s=a,{t:f}=L(),p=(e,t)=>o.t?o.t(e,t):f(e,t),v=e=>`${(100*e).toFixed(1)}%`,m=t(()=>[{value:"buy",label:p("buy")},{value:"sell",label:p("sell")}]),g=t(()=>[{value:"yes",label:`${p("yesShares")} ${v(o.market.yesPrice)}`,variant:"yes"},{value:"no",label:`${p("noShares")} ${v(o.market.noPrice)}`,variant:"no"}]),w=[{value:1,label:"+1"},{value:10,label:"+10"},{value:50,label:"+50"},{value:100,label:"+100"}],h=[{value:10,label:"10%"},{value:25,label:"25%"},{value:50,label:"50%"},{value:75,label:"75%"}],b=e=>{const t="yes"===e?o.market.yesPrice:o.market.noPrice;return Number((100*t).toFixed(1))},_=V({orderType:"buy",outcome:"yes",shares:10,price:b("yes")});$(()=>o.market.id,()=>{_.orderType="buy",_.outcome="yes",_.shares=10,_.price=b("yes")}),$(()=>_.outcome,e=>{_.price=b(e)});const k=t(()=>_.shares*_.price/100),C=t(()=>.003*k.value),S=t(()=>_.shares),T=t(()=>"yes"===_.outcome?o.market.yesPrice:o.market.noPrice),I=t(()=>_.price/100-T.value),A=t(()=>"open"===o.market.status&&Number.isFinite(_.shares)&&Number.isFinite(_.price)&&_.shares>0&&_.shares<=1e5&&_.price>0&&_.price<=100),E=t(()=>"sell"===_.orderType?"yes"===_.outcome?"SellYes":"SellNo":"yes"===_.outcome?"BuyYes":"BuyNo"),M=t(()=>{const e=(_.price/100).toFixed(3);return`${E.value}(marketId=${o.market.id}, outcome=${_.outcome}, shares=${_.shares}, price=${e})`}),P=()=>{A.value&&s("trade",{outcome:_.outcome,orderType:_.orderType,price:_.price/100,shares:_.shares})};return(e,t)=>{const a=c,o=r,s=x;return l(),n(o,{class:"trade-panel"},{default:i(()=>[y(a,{class:"panel-title"},{default:i(()=>[d(u(p("operationPanelTitle")),1)]),_:1}),y(a,{class:"panel-subtitle"},{default:i(()=>[d(u(p("operationPanelHint")),1)]),_:1}),y(o,{class:"panel-badges"},{default:i(()=>[y(o,{class:"panel-badge"},{default:i(()=>[y(a,null,{default:i(()=>[d(u(p("txNetwork"))+": Neo N3",1)]),_:1})]),_:1}),y(o,{class:"panel-badge"},{default:i(()=>[y(a,null,{default:i(()=>[d(u(p("txContract"))+": "+u(p("txContractValue")),1)]),_:1})]),_:1})]),_:1}),y(o,{class:"workflow-strip"},{default:i(()=>[y(o,{class:"workflow-step active"},{default:i(()=>[y(a,null,{default:i(()=>[d(u(p("workflowStepConfig")),1)]),_:1})]),_:1}),y(o,{class:"workflow-step"},{default:i(()=>[y(a,null,{default:i(()=>[d(u(p("workflowStepReview")),1)]),_:1})]),_:1}),y(o,{class:"workflow-step"},{default:i(()=>[y(a,null,{default:i(()=>[d(u(p("workflowStepSign")),1)]),_:1})]),_:1})]),_:1}),y(wt,{label:p("orderType"),"model-value":_.orderType,options:m.value,"onUpdate:modelValue":t[0]||(t[0]=e=>_.orderType=e)},null,8,["label","model-value","options"]),y(wt,{label:p("chooseOutcome"),"model-value":_.outcome,options:g.value,"onUpdate:modelValue":t[1]||(t[1]=e=>_.outcome=e)},null,8,["label","model-value","options"]),y(ht,{label:`${p("amount")} (${p("shares")})`,"model-value":_.shares,presets:w,placeholder:"10",min:0,variant:"shares","onUpdate:modelValue":t[2]||(t[2]=e=>_.shares=e)},null,8,["label","model-value"]),y(ht,{label:`${p("orderPrice")} (%)`,"model-value":_.price,presets:h,max:100,min:0,step:.1,"onUpdate:modelValue":t[3]||(t[3]=e=>_.price=e)},null,8,["label","model-value"]),y(bt,{"tx-method":E.value,subtotal:k.value,fee:C.value,"price-delta":I.value,"max-payout":S.value,"call-data":M.value,t:p},null,8,["tx-method","subtotal","fee","price-delta","max-payout","call-data"]),y(s,{class:"submit-button",disabled:e.isTrading||!A.value,onClick:P},{default:i(()=>[y(a,null,{default:i(()=>[d(u(e.isTrading?p("loading"):p("signAndSubmit")),1)]),_:1})]),_:1},8,["disabled"]),y(a,{class:"panel-footnote"},{default:i(()=>[d(u(p("txFootnote")),1)]),_:1})]),_:1})}}}),[["__scopeId","data-v-a35322c1"]]),kt=K(e({__name:"MarketDetail",props:{market:{},yourOrders:{},yourPositions:{},isTrading:{type:Boolean},t:{type:Function}},emits:["back","trade","cancel-order"],setup(e,{emit:a}){const o=e,s=a,{t:f}=L(),p=(e,t)=>o.t?o.t(e,t):f(e,t),v=b(null),w=t(()=>o.yourOrders.filter(e=>e.marketId===o.market.id)),h=t(()=>o.yourPositions.filter(e=>e.marketId===o.market.id));return $(()=>o.market.id,()=>{var e;null==(e=v.value)||e.resetState()}),(e,t)=>{const a=c,o=r;return l(),n(o,{class:"market-detail"},{default:i(()=>[y(o,{class:"back-button",role:"button",tabindex:"0",onClick:t[0]||(t[0]=e=>s("back")),onKeydown:[t[1]||(t[1]=m(e=>s("back"),["enter"])),t[2]||(t[2]=m(g(e=>s("back"),["prevent"]),["space"]))]},{default:i(()=>[y(a,{class:"back-icon"},{default:i(()=>[d("â†")]),_:1}),y(a,null,{default:i(()=>[d(u(p("markets")),1)]),_:1})]),_:1}),y(o,{class:"market-shell"},{default:i(()=>[y(o,{class:"left-column"},{default:i(()=>[y(mt,{market:e.market,t:p},null,8,["market"]),y(gt,{"market-orders":w.value,"market-positions":h.value,t:p,onCancelOrder:t[3]||(t[3]=e=>s("cancel-order",e))},null,8,["market-orders","market-positions"]),y(yt,{ref_key:"commentFeedRef",ref:v,"market-id":e.market.id,"market-orders":w.value,"market-positions":h.value,t:p},null,8,["market-id","market-orders","market-positions"])]),_:1}),y(o,{class:"right-column"},{default:i(()=>[y(_t,{market:e.market,"is-trading":e.isTrading,t:p,onTrade:t[4]||(t[4]=e=>s("trade",e))},null,8,["market","is-trading"])]),_:1})]),_:1})]),_:1})}}}),[["__scopeId","data-v-e5150720"]]),Ct=K(e({__name:"PortfolioView",props:{positions:{},orders:{},totalValue:{},totalPnL:{},t:{type:Function}},emits:["claim","cancelOrder"],setup(e){const a=e,o=e=>`Market #${e}`,m=t(()=>({positive:a.totalPnL>0,negative:a.totalPnL<0,neutral:0===a.totalPnL})),g=e=>(e.currentValue??e.shares*e.avgPrice).toFixed(4),h=t(()=>a.positions.filter(e=>e.shares>0)),b=t(()=>a.orders.filter(e=>"open"===e.status));return(e,t)=>{const a=c,_=r;return l(),n(_,{class:"portfolio-view"},{default:i(()=>[y(_,{class:"portfolio-summary"},{default:i(()=>[y(_,{class:"summary-card value-card"},{default:i(()=>[y(a,{class:"summary-label"},{default:i(()=>[d(u(e.t("totalValue")),1)]),_:1}),y(a,{class:"summary-value"},{default:i(()=>[d(u(e.totalValue.toFixed(4))+" GAS",1)]),_:1})]),_:1}),y(_,{class:"summary-card pnl-card"},{default:i(()=>[y(a,{class:"summary-label"},{default:i(()=>[d(u(e.t("totalPnL")),1)]),_:1}),y(a,{class:s(["summary-value",m.value])},{default:i(()=>{return[d(u((t=e.totalPnL,`${t>=0?"+":""}${t.toFixed(4)} GAS`)),1)];var t}),_:1},8,["class"])]),_:1})]),_:1}),y(_,{class:"positions-section"},{default:i(()=>[y(_,{class:"section-title"},{default:i(()=>[d(u(e.t("yourPositions")),1)]),_:1}),0===e.positions.length?(l(),n(_,{key:0,class:"empty-state"},{default:i(()=>[y(a,null,{default:i(()=>[d(u(e.t("noPositions")),1)]),_:1})]),_:1})):(l(),n(_,{key:1,class:"positions-list"},{default:i(()=>[(l(!0),f(v,null,p(h.value,t=>(l(),n(_,{key:`${t.marketId}-${t.outcome}`,class:"position-card"},{default:i(()=>[y(_,{class:"position-header"},{default:i(()=>[y(a,{class:"position-market"},{default:i(()=>[d(u(o(t.marketId)),1)]),_:2},1024),y(_,{class:s(["position-outcome",t.outcome])},{default:i(()=>[d(u(t.outcome.toUpperCase()),1)]),_:2},1032,["class"])]),_:2},1024),y(_,{class:"position-stats"},{default:i(()=>[y(_,{class:"stat-row"},{default:i(()=>[y(a,{class:"stat-label"},{default:i(()=>[d(u(e.t("positionShares"))+":",1)]),_:1}),y(a,{class:"stat-value"},{default:i(()=>[d(u(t.shares.toFixed(4)),1)]),_:2},1024)]),_:2},1024),y(_,{class:"stat-row"},{default:i(()=>[y(a,{class:"stat-label"},{default:i(()=>[d(u(e.t("positionAvgPrice"))+":",1)]),_:1}),y(a,{class:"stat-value"},{default:i(()=>[d(u((100*t.avgPrice).toFixed(1))+"%",1)]),_:2},1024)]),_:2},1024),y(_,{class:"stat-row"},{default:i(()=>[y(a,{class:"stat-label"},{default:i(()=>[d(u(e.t("positionValue"))+":",1)]),_:1}),y(a,{class:"stat-value"},{default:i(()=>[d(u(g(t))+" GAS",1)]),_:2},1024)]),_:2},1024)]),_:2},1024),y(_,{class:"position-actions"},{default:i(()=>[w("",!0)]),_:2},1024)]),_:2},1024))),128))]),_:1}))]),_:1}),y(_,{class:"orders-section"},{default:i(()=>[y(_,{class:"section-title"},{default:i(()=>[d(u(e.t("yourOrders")),1)]),_:1}),0===b.value.length?(l(),n(_,{key:0,class:"empty-state"},{default:i(()=>[y(a,null,{default:i(()=>[d(u(e.t("noOrders")),1)]),_:1})]),_:1})):(l(),n(_,{key:1,class:"orders-list"},{default:i(()=>[(l(!0),f(v,null,p(b.value,t=>(l(),n(_,{key:t.id,class:"order-card"},{default:i(()=>[y(_,{class:"order-header"},{default:i(()=>[y(a,{class:"order-market"},{default:i(()=>[d(u(o(t.marketId)),1)]),_:2},1024),y(_,{class:s(["order-status",t.status])},{default:i(()=>[d(u(t.status.toUpperCase()),1)]),_:2},1032,["class"])]),_:2},1024),y(_,{class:"order-details"},{default:i(()=>[y(_,{class:s(["order-type",t.orderType])},{default:i(()=>[d(u(t.orderType.toUpperCase())+" "+u(t.outcome.toUpperCase()),1)]),_:2},1032,["class"]),y(_,{class:"order-info"},{default:i(()=>[y(a,null,{default:i(()=>[d(u(t.shares.toFixed(2))+" @ "+u((100*t.price).toFixed(1))+"%",1)]),_:2},1024)]),_:2},1024)]),_:2},1024),"open"===t.status?(l(),n(_,{key:0,class:"order-cancel",role:"button",tabindex:"0","aria-label":e.t("cancelOrder"),onClick:a=>e.$emit("cancelOrder",t.id)},{default:i(()=>[y(a,null,{default:i(()=>[d(u(e.t("cancelOrder")),1)]),_:1})]),_:2},1032,["aria-label","onClick"])):w("",!0)]),_:2},1024))),128))]),_:1}))]),_:1})]),_:1})}}}),[["__scopeId","data-v-daa7dec7"]]),St=K(e({__name:"CreateMarketForm",props:{isCreating:{type:Boolean},t:{type:Function}},emits:["submit"],setup(e,{emit:a}){const o=e,w=a,h=V({question:"",description:"",category:"crypto",endDateStr:"",oracle:"",initialLiquidity:10}),b=t(()=>[{id:"crypto",label:o.t("categoryCrypto")},{id:"sports",label:o.t("categorySports")},{id:"politics",label:o.t("categoryPolitics")},{id:"economics",label:o.t("categoryEconomics")},{id:"entertainment",label:o.t("categoryEntertainment")},{id:"other",label:o.t("categoryOther")}]),_=()=>h.question.trim().length>0&&""!==h.category&&""!==h.endDateStr&&h.oracle.trim().length>0&&h.initialLiquidity>=10,k=()=>{if(!_())return;const e=new Date(h.endDateStr).getTime();e<=Date.now()||w("submit",{question:h.question.trim(),description:h.description.trim(),category:h.category,endDate:e,oracle:h.oracle.trim(),initialLiquidity:h.initialLiquidity})};return(e,t)=>{const a=c,o=r,w=O,C=N,S=x;return l(),n(o,{class:"create-market-form"},{default:i(()=>[y(o,{class:"form-header"},{default:i(()=>[y(a,{class:"form-title"},{default:i(()=>[d(u(e.t("createMarket")),1)]),_:1}),y(a,{class:"form-subtitle"},{default:i(()=>[d(u(e.t("createMarket")),1)]),_:1})]),_:1}),y(o,{class:"form-fields"},{default:i(()=>[y(o,{class:"form-field"},{default:i(()=>[y(a,{class:"field-label"},{default:i(()=>[d(u(e.t("question"))+" *",1)]),_:1}),y(w,{modelValue:h.question,"onUpdate:modelValue":t[0]||(t[0]=e=>h.question=e),class:"field-input field-textarea",placeholder:e.t("questionPlaceholder"),maxlength:"200"},null,8,["modelValue","placeholder"]),y(a,{class:"field-hint"},{default:i(()=>[d(u(h.question.length)+"/200",1)]),_:1})]),_:1}),y(o,{class:"form-field"},{default:i(()=>[y(a,{class:"field-label"},{default:i(()=>[d(u(e.t("description")),1)]),_:1}),y(w,{modelValue:h.description,"onUpdate:modelValue":t[1]||(t[1]=e=>h.description=e),class:"field-input field-textarea",placeholder:e.t("descriptionPlaceholder"),maxlength:"1000"},null,8,["modelValue","placeholder"]),y(a,{class:"field-hint"},{default:i(()=>[d(u(h.description.length)+"/1000",1)]),_:1})]),_:1}),y(o,{class:"form-field"},{default:i(()=>[y(a,{class:"field-label"},{default:i(()=>[d(u(e.t("category"))+" *",1)]),_:1}),y(o,{class:"category-grid"},{default:i(()=>[(l(!0),f(v,null,p(b.value,e=>(l(),n(o,{key:e.id,class:s(["category-option",{active:h.category===e.id}]),role:"button",tabindex:"0","aria-pressed":h.category===e.id,onClick:t=>h.category=e.id,onKeydown:[m(t=>h.category=e.id,["enter"]),m(g(t=>h.category=e.id,["prevent"]),["space"])]},{default:i(()=>[y(a,null,{default:i(()=>[d(u(e.label),1)]),_:2},1024)]),_:2},1032,["class","aria-pressed","onClick","onKeydown"]))),128))]),_:1})]),_:1}),y(o,{class:"form-field"},{default:i(()=>[y(a,{class:"field-label"},{default:i(()=>[d(u(e.t("endDate"))+" *",1)]),_:1}),y(o,{class:"date-input-container"},{default:i(()=>[y(C,{modelValue:h.endDateStr,"onUpdate:modelValue":t[2]||(t[2]=e=>h.endDateStr=e),type:"datetime-local",class:"field-input","aria-label":e.t("endDate")},null,8,["modelValue","aria-label"])]),_:1})]),_:1}),y(o,{class:"form-field"},{default:i(()=>[y(a,{class:"field-label"},{default:i(()=>[d(u(e.t("oracle"))+" *",1)]),_:1}),y(C,{modelValue:h.oracle,"onUpdate:modelValue":t[3]||(t[3]=e=>h.oracle=e),class:"field-input",placeholder:e.t("selectOracle")},null,8,["modelValue","placeholder"]),y(a,{class:"field-hint"},{default:i(()=>[d(u(e.t("resolutionSource")),1)]),_:1})]),_:1}),y(o,{class:"form-field"},{default:i(()=>[y(a,{class:"field-label"},{default:i(()=>[d(u(e.t("initialLiquidity"))+" *",1)]),_:1}),y(C,{modelValue:h.initialLiquidity,"onUpdate:modelValue":t[4]||(t[4]=e=>h.initialLiquidity=e),modelModifiers:{number:!0},type:"number",class:"field-input",placeholder:"10",min:"10",step:"1"},null,8,["modelValue"]),y(a,{class:"field-hint"},{default:i(()=>[d(u(e.t("liquidityInfo")),1)]),_:1})]),_:1}),y(o,{class:"form-actions"},{default:i(()=>[y(S,{class:"submit-button",disabled:e.isCreating||!_(),onClick:k},{default:i(()=>[y(a,null,{default:i(()=>[d(u(e.isCreating?e.t("loading"):e.t("createMarket")),1)]),_:1})]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1})}}}),[["__scopeId","data-v-8cf4b27d"]]),Tt=K(e({__name:"index",setup(e){const{t:o}=L(),f=b("markets"),p=b(null),v=b(!1),{markets:m,filteredMarkets:g,categories:h,loadingMarkets:_,totalVolume:k,activeTraders:C,filters:S,error:I,loadMarkets:A,setCategory:$,toggleSort:E}=dt(),{yourOrders:x,yourPositions:M,portfolioValue:P,totalPnL:O,isTrading:D,error:N,executeTrade:V,cancelOrder:K,claimWinnings:B,createMarket:F}=function(e){const{address:a,chainType:l,invokeContract:n,getContractAddress:r}=lt(),{processPayment:o,isLoading:s}=ut(e),i=b([]),c=b([]),d=b(null),u=t(()=>c.value.reduce((e,t)=>e+t.shares*t.avgPrice,0)),f=t(()=>c.value.reduce((e,t)=>e+(t.pnl||0),0)),p=async()=>{if(!ct(l,e=>e))throw new Error("Wrong chain");const e=await r();if(!e)throw new Error("Contract unavailable");return e};return{yourOrders:i,yourPositions:c,portfolioValue:u,totalPnL:f,isTrading:s,error:d,executeTrade:async(e,t,l)=>{d.value=null;try{if(!a.value)throw new Error(l("connectWallet"));const n=await p(),r=t.shares*t.price,{receiptId:s,invoke:i}=await o(String(r),`trade:${e.id}:${t.outcome}`);if(!s)throw new Error(l("receiptMissing"));await i("yes"===t.outcome?"BuyYes":"BuyNo",[{type:"Hash160",value:a.value},{type:"Integer",value:String(e.id)},{type:"Integer",value:String(t.shares)},{type:"Integer",value:String(s)}],n);const d=c.value.find(a=>a.marketId===e.id&&a.outcome===t.outcome);if(d){const e=d.shares+t.shares,a=d.shares*d.avgPrice+t.shares*t.price;d.avgPrice=a/e,d.shares=e}else c.value.push({marketId:e.id,outcome:t.outcome,shares:t.shares,avgPrice:t.price});return!0}catch(n){return d.value=st(n,l("tradeFailed")),!1}},cancelOrder:async(e,t)=>{d.value=null;try{const t=await p();return await n({scriptHash:t,operation:"CancelOrder",args:[{type:"Hash160",value:a.value},{type:"Integer",value:String(e)}]}),i.value=i.value.filter(t=>t.id!==e),!0}catch(l){return d.value=st(l,t("cancelFailed")),!1}},claimWinnings:async(e,t)=>{d.value=null;try{const t=await p();return await n({scriptHash:t,operation:"ClaimWinnings",args:[{type:"Hash160",value:a.value},{type:"Integer",value:String(e)}]}),c.value=c.value.filter(t=>t.marketId!==e),!0}catch(l){return d.value=st(l,t("claimFailed")),!1}},createMarket:async(e,t)=>{d.value=null;try{if(!a.value)throw new Error(t("connectWallet"));const l=await p(),{receiptId:n,invoke:r}=await o("10",`create:${String(e.question??"").slice(0,20)}`);if(!n)throw new Error(t("receiptMissing"));return await r("CreateMarket",[{type:"Hash160",value:a.value},{type:"String",value:String(e.question??"")},{type:"String",value:String(e.description??"")},{type:"String",value:String(e.category??"")},{type:"Integer",value:String(e.endTime??0)},{type:"Integer",value:String(n)}],l),!0}catch(l){return d.value=st(l,t("createFailed")),!1}}}}("miniapp-prediction-market"),R=t(()=>I.value||N.value),q=t(()=>R.value?{msg:R.value,type:"error"}:null),G={contentType:"two-column",tabs:[{key:"markets",labelKey:"markets",icon:"ðŸ“Š",default:!0},{key:"trading",labelKey:"trading",icon:"ðŸ“ˆ"},{key:"portfolio",labelKey:"portfolio",icon:"ðŸ’¼"},{key:"create",labelKey:"create",icon:"âž•"},{key:"docs",labelKey:"docs",icon:"ðŸ“–"}],features:{fireworks:!1,chainWarning:!0,statusMessages:!0,docs:{titleKey:"title",subtitleKey:"docSubtitle",stepKeys:["step1","step2","step3","step4"],featureKeys:[{nameKey:"feature1Name",descKey:"feature1Desc"},{nameKey:"feature2Name",descKey:"feature2Desc"},{nameKey:"feature3Name",descKey:"feature3Desc"},{nameKey:"feature4Name",descKey:"feature4Desc"}]}}},U=t(()=>{try{return window.innerWidth>=768}catch{return!1}}),H=t(()=>({volume:o("sortByVolume"),newest:o("sortByNewest"),ending:o("sortByEnding")}[S.value.sortBy]||o("sortByVolume"))),j=t(()=>({totalMarkets:m.value.length,totalVolume:k.value,activeTraders:C.value,portfolioValue:P.value,totalPnL:O.value})),W=t(()=>[{label:o("markets"),value:m.value.length},{label:o("sidebarVolume"),value:`${ne(k.value)} GAS`},{label:o("sidebarTraders"),value:C.value},{label:o("portfolioValue"),value:`${ne(P.value)} GAS`},{label:o("totalPnL"),value:`${O.value>0?"+":""}${ne(O.value)} GAS`}]),z=t(()=>[{label:o("markets"),value:m.value.length},{label:o("sidebarVolume"),value:`${ne(k.value)} GAS`},{label:o("sidebarTraders"),value:C.value}]),Y=e=>{console.error("[prediction-market] boundary error:",e)},J=async()=>{await A(o)},Q=e=>{f.value=e,"trading"!==e&&(p.value=null)},X=()=>{f.value="markets",p.value=null},Z=e=>{p.value=e,f.value="trading"},ee=async e=>{p.value&&await V(p.value,e,o)},te=async e=>{await K(e,o)},ae=async e=>{await B(e,o)},le=async e=>{v.value=!0,await F(e,o),v.value=!1},ne=e=>e.toFixed(2);return a(()=>{A(o)}),(e,t)=>{const a=r,m=c;return l(),n(a,{class:"theme-prediction-market"},{default:i(()=>[y(T(Oe),{config:G,state:j.value,t:T(o),"status-message":q.value,onTabChange:Q},{"desktop-sidebar":i(()=>[y(T(Te),{title:T(o)("overview"),items:W.value},null,8,["title","items"])]),content:i(()=>[y(T(Ce),{onError:Y,onRetry:J,"fallback-message":T(o)("errorFallback")},{default:i(()=>[y(pt,{markets:T(g),categories:T(h),selectedCategory:T(S).category,sortLabel:H.value,loading:T(_),isDesktop:U.value,t:T(o),onSelect:Z,onSelectCategory:T($),onToggleSort:T(E)},null,8,["markets","categories","selectedCategory","sortLabel","loading","isDesktop","t","onSelectCategory","onToggleSort"])]),_:1},8,["fallback-message"])]),operation:i(()=>[y(T(be),{variant:"erobo",title:T(o)("markets")},{default:i(()=>[y(a,{class:"action-buttons"},{default:i(()=>[y(T(_e),{variant:"primary",size:"lg",block:"",onClick:t[0]||(t[0]=e=>f.value="create")},{default:i(()=>[d(u(T(o)("create")),1)]),_:1}),y(T(_e),{variant:"secondary",size:"lg",block:"",onClick:t[1]||(t[1]=e=>f.value="portfolio")},{default:i(()=>[d(u(T(o)("portfolio")),1)]),_:1})]),_:1})]),_:1},8,["title"]),y(T(ke),{stats:z.value},null,8,["stats"])]),"tab-trading":i(()=>[p.value?(l(),n(kt,{key:0,market:p.value,"your-orders":T(x),"your-positions":T(M),"is-trading":T(D),t:T(o),onTrade:ee,onCancelOrder:te,onBack:X},null,8,["market","your-orders","your-positions","is-trading","t"])):w("",!0)]),"tab-portfolio":i(()=>[y(a,{class:"portfolio-summary"},{default:i(()=>[y(a,{class:"summary-card"},{default:i(()=>[y(m,{class:"summary-label"},{default:i(()=>[d(u(T(o)("portfolioValue")),1)]),_:1}),y(m,{class:"summary-value"},{default:i(()=>[d(u(ne(T(P)))+" GAS",1)]),_:1})]),_:1}),y(a,{class:s(["summary-card",{positive:T(O)>0,negative:T(O)<0}])},{default:i(()=>[y(m,{class:"summary-label"},{default:i(()=>[d(u(T(o)("totalPnL")),1)]),_:1}),y(m,{class:"summary-value"},{default:i(()=>[d(u(T(O)>0?"+":"")+u(ne(T(O)))+" GAS",1)]),_:1})]),_:1},8,["class"])]),_:1}),y(Ct,{positions:T(M),orders:T(x),onClaim:ae},null,8,["positions","orders"])]),"tab-create":i(()=>[y(St,{"is-creating":v.value,onSubmit:le},null,8,["is-creating"])]),_:1},8,["state","t","status-message"])]),_:1})}}}),[["__scopeId","data-v-357f4513"]]);export{Tt as default};
