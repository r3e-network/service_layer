import{d as e,c as a,o as t,a as n,b as i,i as o,n as l,e as s,w as r,f as d,g as c,t as u,h as f,r as p,F as v,j as g,k as m,l as y,m as w,p as h,q as b,s as _,u as k,v as A,x as C,y as S,z as I,A as E,B as T,C as M,D,E as $,G as x,H as N,I as K,J as R,S as O}from"./index-BzZFdCqu.js";import{_ as P,N as B,u as L}from"./NeoDoc.uOcVZ1z0.js";const G=P(e({__name:"AppIcon",props:{name:{},size:{default:20},label:{},decorative:{type:Boolean,default:!0}},setup(e){const f=e,p={home:"ðŸ ",settings:"âš™ï¸",user:"ðŸ‘¤",wallet:"ðŸ’¼",book:"ðŸ“–",trophy:"ðŸ†",star:"â­",heart:"â¤ï¸",check:"âœ“",clock:"ðŸ•",plus:"âž•",add:"âž•",close:"âœ•",x:"âœ•",menu:"â˜°",activity:"ðŸ“¡",award:"ðŸ…",archive:"ðŸ—„ï¸",rocket:"ðŸš€",cart:"ðŸ›’",ticket:"ðŸŽŸï¸",bag:"ðŸ‘œ",trending:"ðŸ“ˆ",chart:"ðŸ“Š",calendar:"ðŸ“…",search:"ðŸ”",filter:"ðŸ”½",edit:"âœï¸",delete:"ðŸ—‘ï¸",copy:"ðŸ“‹",share:"ðŸ“¤",download:"â¬‡ï¸",upload:"â¬†ï¸",success:"âœ“",error:"âœ•",warning:"âš ï¸",info:"â„¹ï¸",loading:"â³",neo:"ðŸ’Ž",gas:"â›½",contract:"ðŸ“œ",chain:"â›“ï¸",block:"ðŸ§±",helpful:"ðŸ¤",generous:"ðŸŽ",verified:"âœ“",contributor:"â­",champion:"ðŸ†",legend:"ðŸ‘‘",game:"ðŸŽ®",stats:"ðŸ“Š",docs:"ðŸ“„",about:"â„¹ï¸",contact:"âœ‰ï¸"},v={logout:"â†ª",back:"â†",forward:"â†’",arrowUp:"â†‘",arrowDown:"â†“",arrowLeft:"â†",arrowRight:"â†’",refresh:"â†»"},g=a(()=>{if(!f.label)return f.decorative?"true":void 0}),m=a(()=>f.decorative?"presentation":void 0),y=a(()=>f.label?f.label:f.decorative?void 0:`${f.name} icon`),w=a(()=>f.size<=16?"icon-sm":f.size<=20?"icon-md":f.size<=24?"icon-lg":"icon-xl"),h=a(()=>{if(!w.value||"icon-md"===w.value)return{};const e=f.size;return{width:`${e}px`,height:`${e}px`,fontSize:.6*e+"px"}}),b=a(()=>p[f.name]),_=a(()=>v[f.name]);return t(()=>{f.name,f.name}),(e,a)=>{const t=d,f=o;return n(),i(f,{class:s(["app-icon",`icon-${e.name}`,w.value]),style:l(h.value),"aria-hidden":g.value,"aria-label":y.value,role:m.value},{default:r(()=>[b.value?(n(),i(t,{key:0,class:"icon-emoji","aria-hidden":!0},{default:r(()=>[c(u(b.value),1)]),_:1})):_.value?(n(),i(t,{key:1,class:"icon-text","aria-hidden":!0},{default:r(()=>[c(u(_.value),1)]),_:1})):(n(),i(t,{key:2,class:"icon-fallback","aria-label":`Icon: ${e.name}`},{default:r(()=>[c(u(e.name.charAt(0).toUpperCase()),1)]),_:1},8,["aria-label"]))]),_:1},8,["class","style","aria-hidden","aria-label","role"])}}}),[["__scopeId","data-v-5a7f7e2b"]]),V=P(e({__name:"NavBar",props:{tabs:{},activeTab:{}},emits:["change"],setup(e,{emit:a}){const l=e,w=a,h=e=>{w("change",e)};return t(()=>{if(!l.tabs||0===l.tabs.length)return;l.tabs.some((e,a)=>l.tabs.findIndex(a=>a.id===e.id)!==a)&&console.error("[NavBar] Duplicate tab IDs detected - navigation may not work correctly");!l.tabs.some(e=>e.id===l.activeTab)&&l.activeTab}),(e,a)=>{const t=o,l=d;return n(),i(t,{class:"navbar",role:"tablist","aria-label":"Main navigation"},{default:r(()=>[(n(!0),f(v,null,p(e.tabs,a=>(n(),i(t,{key:a.id,class:s(["nav-item",e.activeTab===a.id&&"active"]),role:"tab",id:`tab-${a.id}`,tabindex:e.activeTab===a.id?0:-1,"aria-label":a.label,"aria-selected":e.activeTab===a.id?"true":"false","aria-controls":`tabpanel-${a.id}`,onClick:e=>h(a.id),onKeydown:[g(e=>h(a.id),["enter"]),g(m(e=>h(a.id),["prevent"]),["space"])]},{default:r(()=>[y(t,{class:"nav-icon","aria-hidden":"true"},{default:r(()=>[y(G,{name:a.icon,size:22},null,8,["name"])]),_:2},1024),y(l,{class:"nav-label"},{default:r(()=>[c(u(a.label),1)]),_:2},1024)]),_:2},1032,["class","id","tabindex","aria-label","aria-selected","aria-controls","onClick","onKeydown"]))),128))]),_:1})}}}),[["__scopeId","data-v-fb1ae8ac"]]),F=P(e({__name:"TopNavBar",props:{title:{},showBack:{type:Boolean}},emits:["back"],setup:e=>(e,a)=>{const t=o,l=d;return n(),i(t,{class:"top-navbar",role:"navigation","aria-label":e.title||"Top navigation"},{default:r(()=>[y(t,{class:"nav-left"},{default:r(()=>[e.showBack?(n(),i(t,{key:0,class:"nav-btn",role:"button",tabindex:"0","aria-label":"Go back",onClick:a[0]||(a[0]=a=>e.$emit("back")),onKeydown:[a[1]||(a[1]=g(a=>e.$emit("back"),["enter"])),a[2]||(a[2]=g(m(a=>e.$emit("back"),["prevent"]),["space"]))]},{default:r(()=>[y(G,{name:"arrow-left",size:20})]),_:1})):w("",!0)]),_:1}),y(t,{class:"nav-center"},{default:r(()=>[y(l,{class:"nav-title"},{default:r(()=>[c(u(e.title),1)]),_:1})]),_:1}),y(t,{class:"nav-right"},{default:r(()=>[h(e.$slots,"right",{},void 0,!0)]),_:3})]),_:3},8,["aria-label"])}}),[["__scopeId","data-v-2a3d315e"]]),U=P(e({__name:"AppLayout",props:{title:{default:""},showTopNav:{type:Boolean,default:!1},showBack:{type:Boolean,default:!1},tabs:{default:()=>[]},activeTab:{default:""},allowScroll:{type:Boolean,default:!0},theme:{default:""}},emits:["back","tab-change"],setup(e,{emit:l}){const d=b(!1),c=e,u=l,f=a(()=>c.activeTab||""),p=()=>{u("back");const e=_();e&&e.length>1&&k({delta:1})};return t(()=>{d.value="undefined"!=typeof window&&"1"===new URLSearchParams(window.location.search).get("embedded"),c.tabs&&c.tabs.length>0&&c.activeTab&&c.tabs.some(e=>e.id===c.activeTab),d.value}),(e,a)=>{const t=o;return n(),i(t,{class:s(["mobile-container",d.value&&"embedded"])},{default:r(()=>[y(t,{class:"aspect-wrapper"},{default:r(()=>[y(t,{class:"app-layout",role:"application","aria-label":"Application layout"},{default:r(()=>[e.showTopNav?(n(),i(F,{key:0,title:e.title??"","show-back":e.showBack,onBack:p},null,8,["title","show-back"])):w("",!0),y(t,{class:s(["app-content",!e.allowScroll&&"no-scroll"]),role:"main",tabindex:e.allowScroll?-1:0},{default:r(()=>[h(e.$slots,"default",{},void 0,!0)]),_:3},8,["class","tabindex"]),e.tabs&&e.tabs.length>0?(n(),i(V,{key:1,tabs:e.tabs,"active-tab":f.value,onChange:a[0]||(a[0]=a=>e.$emit("tab-change",a))},null,8,["tabs","active-tab"])):w("",!0)]),_:3})]),_:3})]),_:3},8,["class"])}}}),[["__scopeId","data-v-066cec47"]]),j=5e3,H=1e4,z=100,W=["https://neomini.app","https://miniapp.neo.org","https://testnet.miniapp.neo.org"];const q=new class{constructor(){this.dynamicOrigins=new Set,this.baseOrigins=new Set([...W])}getSelfOrigin(){if("undefined"==typeof window)return null;try{const e=new URL(window.location.href);if("null"===e.origin)return null;if("http:"===e.protocol||"https:"===e.protocol)return e.origin}catch{}return null}getReferrerOrigin(){if("undefined"==typeof document||!document.referrer)return null;try{return new URL(document.referrer).origin}catch{return null}}getAllowedOrigins(){const e=new Set(this.baseOrigins);this.dynamicOrigins.forEach(a=>e.add(a));const a=this.getReferrerOrigin();a&&this.baseOrigins.has(a)&&e.add(a);const t=this.getSelfOrigin();if(t&&e.add(t),"undefined"!=typeof window){const a=window.location.hostname;"localhost"!==a&&"127.0.0.1"!==a||e.add(window.location.origin)}return e}isValid(e){return!(!e||"null"===e)&&this.getAllowedOrigins().has(e)}getTargetOrigin(){var e;const a=this.getReferrerOrigin();if(a&&this.baseOrigins.has(a))return a;try{if("undefined"!=typeof window&&window.parent!==window&&(null==(e=window.location.ancestorOrigins)?void 0:e.length)>0){const e=window.location.ancestorOrigins[0];if(this.baseOrigins.has(e))return e}}catch{}const t=this.getSelfOrigin();if(t)return t;if("undefined"!=typeof window){const e=window.location.hostname;if("localhost"===e||"127.0.0.1"===e)return window.location.origin}throw new Error("Cannot determine safe target origin - no valid origin found")}getSafeTargetOrigin(){try{const e=this.getTargetOrigin();if(e&&"null"!==e)return e}catch{}if("undefined"!=typeof window&&window.parent!==window){const e=window.__MINIAPP_PARENT_ORIGIN__;if("string"==typeof e&&e&&this.baseOrigins.has(e))return e;throw new Error("Cannot communicate securely with parent - origin unknown. Ensure host app sets __MINIAPP_PARENT_ORIGIN__ or uses a supported browser.")}throw new Error("Cannot determine safe target origin - origin is null or undefined")}addDynamicOrigin(e){e&&"null"!==e&&this.dynamicOrigins.add(e)}};let J=null;function Q(e){const a=null==e?void 0:e.layout;if("web"===a||"mobile"===a)return a;if("undefined"!=typeof window){const e=new URLSearchParams(window.location.search).get("layout");if("web"===e||"mobile"===e)return e;if(window.ReactNativeWebView)return"mobile"}return"web"}function X(e){if(!e||"object"!=typeof e)return!1;const a="function"==typeof e.invoke&&"function"==typeof e.getConfig,t="object"==typeof e.wallet||"object"==typeof e.payments;return a||t}function Y(e=j){return new Promise((a,t)=>{if("undefined"==typeof window)return void t(new Error("SDK not available in SSR"));if(window.MiniAppSDK)return X(window.MiniAppSDK)?void a(window.MiniAppSDK):void t(new Error("SDK validation failed"));const n=setTimeout(()=>{if(window.removeEventListener("miniapp-sdk-ready",i),window.parent!==window){const e=function(){const e=q.getSafeTargetOrigin();let a=0;const t=(t,...n)=>new Promise((i,o)=>{const l="undefined"!=typeof crypto&&crypto.getRandomValues?Array.from(crypto.getRandomValues(new Uint8Array(4)),e=>e.toString(16).padStart(2,"0")).join(""):Math.random().toString(36).slice(2,10),s=`sdk-${++a}-${Date.now()}-${l}`,r=setTimeout(()=>{window.removeEventListener("message",d),o(new Error("SDK invoke timeout"))},H),d=e=>{var a,t;q.isValid(e.origin)&&e.source===window.parent&&"miniapp_sdk_response"===(null==(a=e.data)?void 0:a.type)&&(null==(t=e.data)?void 0:t.id)===s&&(clearTimeout(r),window.removeEventListener("message",d),e.data.ok?i(e.data.result):o(new Error(e.data.error||"SDK call failed")))};window.addEventListener("message",d),window.parent.postMessage({type:"miniapp_sdk_request",id:s,method:t,params:n},e)});return{invoke:t,getConfig:()=>J?{...J,layout:Q(J)}:"undefined"!=typeof window&&window.__MINIAPP_CONFIG__?(J=window.__MINIAPP_CONFIG__,{...J,layout:Q(J??void 0)}):{appId:"",contractAddress:null,chainId:null,chainType:void 0,supportedChains:[],layout:Q(),debug:!1},getAddress:()=>t("getAddress"),wallet:{getAddress:()=>t("wallet.getAddress"),switchChain:e=>t("wallet.switchChain",e),invokeIntent:e=>t("wallet.invokeIntent",e),signMessage:e=>t("wallet.signMessage",e)},payments:{payGAS:(e,a,n)=>t("payments.payGAS",e,a,n),payGASAndInvoke:(e,a,n)=>t("payments.payGASAndInvoke",e,a,n)},governance:{vote:(e,a,n,i)=>t("governance.vote",e,a,n,i),voteAndInvoke:(e,a,n,i)=>t("governance.voteAndInvoke",e,a,n,i),getCandidates:()=>t("governance.getCandidates")},rng:{requestRandom:e=>t("rng.requestRandom",e)},datafeed:{getPrice:e=>t("datafeed.getPrice",e),getPrices:()=>t("datafeed.getPrices"),getNetworkStats:()=>t("datafeed.getNetworkStats"),getRecentTransactions:e=>t("datafeed.getRecentTransactions",e)},stats:{getMyUsage:(e,a)=>t("stats.getMyUsage",e,a)},events:{list:e=>t("events.list",e),emit:(e,a)=>t("events.emit",e,a)},transactions:{list:e=>t("transactions.list",e)},automation:{register:(e,a,n,i)=>t("automation.register",e,a,n,i),unregister:e=>t("automation.unregister",e),status:e=>t("automation.status",e),list:()=>t("automation.list"),update:(e,a,n)=>t("automation.update",e,a,n),enable:e=>t("automation.enable",e),disable:e=>t("automation.disable",e),logs:(e,a)=>t("automation.logs",e,a)},share:{openModal:e=>t("share.openModal",e),getUrl:e=>t("share.getUrl",e),copy:e=>t("share.copy",e)}}}();window.MiniAppSDK=e,e.invoke("getConfig").then(e=>{e&&"object"==typeof e&&(J=e)}).catch(()=>{}),a(e)}else t(new Error("SDK timeout"))},e),i=()=>{if(clearTimeout(n),window.removeEventListener("miniapp-sdk-ready",i),window.MiniAppSDK){if(!X(window.MiniAppSDK))return void t(new Error("SDK validation failed"));a(window.MiniAppSDK)}else t(new Error("SDK not found"))};window.addEventListener("miniapp-sdk-ready",i)})}function Z(){return"undefined"==typeof window?null:window.MiniAppSDK??null}const ee=new Set;let ae={connected:!1,address:null,balance:null},te=null,ne=!1;function ie(e){return e instanceof Error?e:"string"==typeof e?new Error(e):new Error(String(e))}function oe(e){const a=b(!1),t=b(null);return{isLoading:a,error:t,execute:async(...n)=>{a.value=!0,t.value=null;try{return await e(...n)}catch(i){throw t.value=ie(i),i}finally{a.value=!1}}}}"undefined"!=typeof window&&("undefined"!=typeof window&&(ne&&te||(te=e=>{if(e.source!==window.parent)return;if(!q.isValid(e.origin))return;const a=e.data;a&&"object"==typeof a&&("miniapp_config"!==a.type?"miniapp_wallet_state_change"===a.type&&(ae={connected:Boolean(a.connected),address:a.address||null,chainId:a.chainId??null,chainType:a.chainType??null,balance:a.balance||a.multiChainBalance||null,balances:a.balances||void 0},ee.forEach(e=>{try{e(ae)}catch(a){console.error("[MiniApp SDK] Wallet state listener error:",a)}})):a.config&&"object"==typeof a.config&&(J=a.config))},window.addEventListener("message",te),ne=!0)),setTimeout(function(){if("undefined"==typeof window)return;const e=q.getSafeTargetOrigin();try{window.parent.postMessage({type:"miniapp_ready"},e)}catch{}},z));let le=class extends Error{constructor(e,a){super(e),this.statusCode=a,this.name="HttpError"}};const se={maxRetries:3,baseDelayMs:1e3,maxDelayMs:1e4};function re(e,a){return Math.min(a.baseDelayMs*Math.pow(2,e),a.maxDelayMs)*(.75+.5*Math.random())}function de(e,a){if(a&&a>=500)return!0;if(429===a)return!0;if(e instanceof Error){const a=e.message.toLowerCase();return a.includes("network")||a.includes("timeout")||a.includes("abort")}return!1}async function ce(e,a){var t;if("undefined"!=typeof uni&&"function"==typeof A)return new Promise((t,n)=>{const i=(e=>{if(e){if(e instanceof Headers){const a={};return e.forEach((e,t)=>{a[t]=e}),a}return Array.isArray(e)?Object.fromEntries(e):e}})(a.headers),o=String((null==i?void 0:i["Content-Type"])||(null==i?void 0:i["content-type"])||"");let l=a.body;if("string"==typeof l&&o.includes("application/json"))try{l=JSON.parse(l)}catch{}A({url:e,method:a.method||"GET",data:l,header:i,success:e=>{if((e.statusCode??0)>=200&&(e.statusCode??0)<300)t(e.data);else{const a=e.data,t=null==a?void 0:a.error,i=("string"==typeof(null==t?void 0:t.message)?t.message:null)||`Request failed: ${e.statusCode}`;n(new le(i,e.statusCode??0))}},fail:e=>{n(new Error(e.errMsg||"Network error"))}})});const n="undefined"!=typeof window&&e.startsWith(window.location.origin),i=await fetch(e,{credentials:n?"include":"same-origin",...a});if(!i.ok){const a=await i.json().catch(()=>({}));throw new le((null==(t=a.error)?void 0:t.message)||`Request failed: ${e}`,i.status)}return i.json()}async function ue(e){return async function(e,a={}){var t,n;const i=e.startsWith("http")?e:`https://api.neo-service-layer.io${e}`,o={...se,...a.retryConfig};let l=null;for(let r=0;r<=o.maxRetries;r++){if(null==(t=a.signal)?void 0:t.aborted)throw new Error("Request cancelled");try{return await ce(i,a)}catch(s){l=s instanceof Error?s:new Error(String(s));const e=s instanceof le?s.statusCode:void 0;if(null==(n=a.signal)?void 0:n.aborted)throw l;if(r>=o.maxRetries)break;if(!de(s,e))break;const t=re(r,o);await new Promise(e=>setTimeout(e,t))}}throw l||new Error("Request failed")}(e,{method:"GET"})}let fe=null,pe=null;function ve(){const e=b(null),a=b({}),n=b(null),i=b(null),o=b(null),l=b([]),s=b(!1),r=b(!1),d=b(null),c=b(!1),u=b(null),f=t=>{t.connected&&t.address?(e.value=t.address,s.value=!0):(e.value=null,s.value=!1),n.value=t.chainId??null,i.value=t.chainType??null,a.value=(e=>{if(!e)return{};if(e.balances&&Object.keys(e.balances).length>0)return{...e.balances};if(e.balance){const a={};return a[e.balance.nativeSymbol||("neo-n3"===e.chainType?"GAS":"NATIVE")]=e.balance.native||"0",(e.balance.governance||e.balance.governanceSymbol)&&(a[e.balance.governanceSymbol||("neo-n3"===e.chainType?"NEO":"GOV")]=e.balance.governance||"0"),a}return{}})(t)},p=e=>{e&&(o.value=e.chainId??null,l.value=Array.isArray(e.supportedChains)?e.supportedChains:[])},v=async()=>{var e;const a=await Y(),t=null==(e=a.getConfig)?void 0:e.call(a);return p(t),t},g=async e=>{const a=await Y();if(!a.wallet.switchChain)throw new Error("switchChain not supported by SDK");await a.wallet.switchChain(e),n.value=e};let m=null;return t(()=>{var a;f(ae),a=e=>{f(e)},ee.add(a),a(ae),m=()=>ee.delete(a);const t=Z();(null==t?void 0:t.getConfig)&&p(t.getConfig()),t&&!s.value&&(e=>e?(fe&&pe!==e&&(fe=null,pe=null),fe||(pe=e,fe=e.wallet.getAddress().then(e=>e||null).catch(e=>{const a=e instanceof Error?e.message:String(e);return console.debug("[MiniApp SDK] Fallback wallet connection failed:",a),null}).finally(()=>{fe=null,pe=null})),fe):Promise.resolve(null))(t).then(a=>{var o;if(!s.value&&a){e.value=a,s.value=!0;const l=null==(o=t.getConfig)?void 0:o.call(t);n.value=(null==l?void 0:l.chainId)??null,i.value=(null==l?void 0:l.chainType)??null,p(l)}}),Y().then(e=>{var a;return p(null==(a=e.getConfig)?void 0:a.call(e))}).catch(()=>{})}),C(()=>{m&&m()}),{address:e,chainId:n,chainType:i,appChainId:o,supportedChains:l,balances:a,isConnected:s,isLoading:r,error:d,showConnectionPrompt:c,connectionPromptMessage:u,connect:async()=>{var a;r.value=!0,d.value=null;try{const t=await Y(),o=await t.wallet.getAddress();if(!o)throw new Error("wallet returned empty address");e.value=o,s.value=!0;const l=null==(a=t.getConfig)?void 0:a.call(t);n.value=(null==l?void 0:l.chainId)??null,i.value=(null==l?void 0:l.chainType)??null,p(l)}catch(t){d.value=ie(t)}finally{r.value=!1}},invokeIntent:async e=>{var a;const t=Z();if(!(null==(a=null==t?void 0:t.wallet)?void 0:a.invokeIntent))throw new Error("invokeIntent not available");return t.wallet.invokeIntent(e)},invokeContract:async e=>{var a;const t=await Y(),n=null==(a=t.getConfig)?void 0:a.call(t),i=e.contractAddress||e.scriptHash||e.contractHash,o=e.method||e.operation;if(!i||!o)throw new Error("contract address and method required");return t.invoke("invokeFunction",{contract:i,method:o,args:e.args,chainId:null==n?void 0:n.chainId,chainType:null==n?void 0:n.chainType})},invokeRead:async e=>{var a;const t=await Y(),n=null==(a=t.getConfig)?void 0:a.call(t),i=e.contractAddress||e.scriptHash||e.contractHash||(null==n?void 0:n.contractAddress),o=e.method||e.operation;if(!i)throw new Error("contract address not configured");if(!o)throw new Error("method required");return t.invoke("invokeRead",{contract:i,method:o,args:e.args||[],chainId:e.chainId||(null==n?void 0:n.chainId),chainType:e.chainType||(null==n?void 0:n.chainType)})},getContractAddress:async()=>{var e,a,t,n,i;const o=await Y(),l=null==(e=o.getConfig)?void 0:e.call(o);if(null==l?void 0:l.contractAddress)return l.contractAddress;if((null==l?void 0:l.chainId)&&(null==(t=null==(a=null==l?void 0:l.chainContracts)?void 0:a[l.chainId])?void 0:t.address))return l.chainContracts[l.chainId].address||null;if(o.invoke)try{const e=await o.invoke("getConfig");if(null==e?void 0:e.contractAddress)return e.contractAddress;if((null==e?void 0:e.chainId)&&(null==(i=null==(n=null==e?void 0:e.chainContracts)?void 0:n[e.chainId])?void 0:i.address))return e.chainContracts[e.chainId].address||null}catch{}return null},getAppConfig:v,getAddress:async()=>(await Y()).wallet.getAddress(),signMessage:async e=>{var a;const t=await Y();if(!(null==(a=t.wallet)?void 0:a.signMessage))throw new Error("signMessage not available");return t.wallet.signMessage(e)},switchChain:g,switchToAppChain:async e=>{const a=await v(),t=(null==a?void 0:a.chainId)||(Array.isArray(null==a?void 0:a.supportedChains)&&a.supportedChains.length>0?a.supportedChains[0]:null)||e||null;if(!t)throw new Error("app chain not configured");await g(t)},getBalance:async e=>{var t;r.value=!0,d.value=null;try{const i=await Y(),o=null==(t=i.getConfig)?void 0:t.call(i),l=(null==o?void 0:o.chainId)||n.value,s=l?`?chain_id=${encodeURIComponent(l)}`:"",r=await ue(`/wallet-balance${s}`),d=(null==r?void 0:r.balances)??{};return a.value=d,e?d[e]||"0":d}catch(i){throw d.value=ie(i),i}finally{r.value=!1}},getTransactions:async(e=20)=>{var a;r.value=!0,d.value=null;try{const t=Number.isNaN(e)||e<1?20:Math.min(e,100),i=await Y(),o=null==(a=i.getConfig)?void 0:a.call(i),l=(null==o?void 0:o.chainId)||n.value,s=new URLSearchParams({limit:String(t)});l&&s.set("chain_id",l);const r=await ue(`/wallet-transactions?${s.toString()}`);return(null==r?void 0:r.transactions)??[]}catch(t){throw d.value=ie(t),t}finally{r.value=!1}},invoke:async(e,a)=>(await Y()).invoke(e,a),requireConnection:(e={})=>{const{showPrompt:a=!0,errorMessage:t}=e;return!!s.value||(a&&(u.value=t||null,c.value=!0),!1)},closeConnectionPrompt:()=>{c.value=!1,u.value=null},clearError:()=>{d.value=null}}}function ge(){const{switchToAppChain:e}=ve(),t=a(()=>!1),n=async()=>{try{await e()}catch(a){throw console.error("[useChainValidation] Failed to switch chain:",a),a}},i=a(()=>({show:t.value,onSwitch:n}));return{showWarning:t,switchToAppChain:n,chainWarningProps:i}}b("en");const me=P(e({__name:"ChainWarning",props:{title:{default:"Wrong Network"},message:{default:"Switch to Neo N3 Mainnet to continue."},buttonText:{default:"Switch Network"},show:{type:Boolean,default:void 0}},emits:["switch","switch-complete","switch-error"],setup(e,{emit:t}){const l=e,s=t,{showWarning:f,switchToAppChain:p}=ge(),v=b(!1),g=a(()=>void 0!==l.show?l.show:f.value),m=async()=>{if(!v.value){v.value=!0,s("switch");try{await p(),s("switch-complete")}catch(e){const a=e instanceof Error?e:new Error(String(e));s("switch-error",a),console.error("[ChainWarning] Failed to switch chain:",a)}finally{v.value=!1}}};return(e,a)=>{const t=d,l=o;return g.value?(n(),i(l,{key:0,class:"chain-warning mb-4 px-4",role:"alert","aria-live":"assertive"},{default:r(()=>[y(S(be),{variant:"danger"},{default:r(()=>[y(l,{class:"flex flex-col items-center gap-2 py-1"},{default:r(()=>[y(t,{class:"text-center font-bold text-red-400"},{default:r(()=>[c(u(e.title),1)]),_:1}),e.message?(n(),i(t,{key:0,class:"text-center text-xs text-white opacity-80"},{default:r(()=>[c(u(e.message),1)]),_:1})):w("",!0),y(S(_e),{size:"sm",variant:"secondary",class:"mt-2",loading:v.value,onClick:m},{default:r(()=>[c(u(e.buttonText),1)]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1})):w("",!0)}}}),[["__scopeId","data-v-8876cefe"]]),ye=P(e({__name:"DesktopSidebar",props:{tabs:{},activeTab:{}},emits:["tab-change"],setup(e,{emit:t}){const l=t,b=I(),_=a(()=>Boolean(b["desktop-sidebar"]));return(e,a)=>{const t=d,b=o;return n(),i(b,{class:"sidebar",role:"navigation","aria-label":"Main navigation"},{default:r(()=>[y(b,{class:"sidebar-header"},{default:r(()=>[y(t,{class:"brand-name"},{default:r(()=>[c("NeoHub")]),_:1}),y(t,{class:"brand-tagline"},{default:r(()=>[c("Miniapps")]),_:1})]),_:1}),y(b,{class:"sidebar-nav",role:"tablist","aria-label":"Navigation tabs"},{default:r(()=>[(n(!0),f(v,null,p(e.tabs,a=>(n(),i(b,{key:a.id,class:s(["nav-item",e.activeTab===a.id&&"active"]),role:"tab",id:`tab-${a.id}`,tabindex:e.activeTab===a.id?0:-1,"aria-label":a.label,"aria-selected":e.activeTab===a.id?"true":"false","aria-controls":`tabpanel-${a.id}`,onClick:e=>l("tab-change",a.id),onKeydown:[g(e=>l("tab-change",a.id),["enter"]),g(m(e=>l("tab-change",a.id),["prevent"]),["space"])]},{default:r(()=>[y(b,{class:"nav-icon-wrapper"},{default:r(()=>[y(G,{name:a.icon,size:20},null,8,["name"])]),_:2},1024),y(t,{class:"nav-label"},{default:r(()=>[c(u(a.label),1)]),_:2},1024),e.activeTab===a.id?(n(),i(b,{key:0,class:"nav-indicator","aria-hidden":"true"})):w("",!0)]),_:2},1032,["class","id","tabindex","aria-label","aria-selected","aria-controls","onClick","onKeydown"]))),128))]),_:1}),_.value?(n(),i(b,{key:0,class:"sidebar-panel",role:"complementary","aria-label":"Sidebar details"},{default:r(()=>[h(e.$slots,"desktop-sidebar",{},void 0,!0)]),_:3})):w("",!0),y(b,{class:"sidebar-footer"},{default:r(()=>[y(b,{class:"footer-status",role:"status","aria-live":"polite"},{default:r(()=>[y(b,{class:"status-dot online","aria-hidden":"true"}),y(t,{class:"status-text"},{default:r(()=>[c("Connected")]),_:1})]),_:1})]),_:1})]),_:3})}}}),[["__scopeId","data-v-393f16e1"]]),we=P(e({__name:"DesktopLayout",props:{title:{default:""},tabs:{default:()=>[]},activeTab:{default:""},allowScroll:{type:Boolean,default:!0},theme:{default:""}},emits:["tab-change"],setup(e,{emit:t}){const l=e,f=t,p=a(()=>l.theme?`theme-${l.theme}`:""),v=I(),g=a(()=>Boolean(v["desktop-sidebar"])),m=e=>{f("tab-change",e)};return(()=>{if(!l.tabs||0===l.tabs.length)return!1;!l.tabs.some((e,a)=>l.tabs.findIndex(a=>a.id===e.id)!==a)||console.error("[DesktopLayout] Duplicate tab IDs detected - navigation may not work correctly")})(),(e,a)=>{const t=d,l=o;return n(),i(l,{class:s(["desktop-container",p.value])},{default:r(()=>[y(ye,{tabs:e.tabs,"active-tab":e.activeTab,onTabChange:m},E({_:2},[g.value?{name:"desktop-sidebar",fn:r(()=>[h(e.$slots,"desktop-sidebar",{},void 0,!0)]),key:"0"}:void 0]),1032,["tabs","active-tab"]),y(l,{class:"main-content-wrapper",role:"main"},{default:r(()=>[y(l,{class:"top-bar"},{default:r(()=>[y(l,{class:"top-bar-left"},{default:r(()=>[e.title?(n(),i(t,{key:0,class:"page-title"},{default:r(()=>[c(u(e.title),1)]),_:1})):w("",!0)]),_:1}),y(l,{class:"top-bar-right"},{default:r(()=>[h(e.$slots,"top-bar-actions",{},void 0,!0)]),_:3})]),_:3}),y(l,{class:s(["content-area",!e.allowScroll&&"no-scroll"]),tabindex:e.allowScroll?-1:0},{default:r(()=>[h(e.$slots,"default",{},void 0,!0)]),_:3},8,["class","tabindex"])]),_:3})]),_:3},8,["class"])}}}),[["__scopeId","data-v-2023cafd"]]),he=e({__name:"ResponsiveLayout",props:{title:{default:""},tabs:{default:()=>[]},navItems:{default:()=>[]},activeTab:{default:""},allowScroll:{type:Boolean,default:!0},theme:{default:""},showTopNav:{type:Boolean,default:!1},showSidebar:{type:Boolean,default:!1},layout:{default:"default"},showBack:{type:Boolean,default:!1},desktopBreakpoint:{default:1024}},emits:["back","tab-change","navigate"],setup(e,{emit:o}){const l=e,s=o,d=b(!1),c=b(!1),u=()=>{if(!c.value)return;const e=window.innerWidth;d.value=e>=l.desktopBreakpoint};let f;const p=()=>{clearTimeout(f),f=window.setTimeout(()=>{u()},150)},v=a(()=>l.tabs&&l.tabs.length>0?l.tabs:l.navItems&&l.navItems.length>0?l.navItems.map(e=>({id:e.id??e.key??"",label:e.label,icon:e.icon})).filter(e=>Boolean(e.id)):[]),g=a(()=>d.value?we:U),m=e=>{s("tab-change",e),s("navigate",e)};return T(d,(e,a)=>{a!==e&&c.value}),t(()=>{c.value="undefined"!=typeof window,c.value&&(u(),window.addEventListener("resize",p))}),C(()=>{c.value&&(window.removeEventListener("resize",p),clearTimeout(f))}),(e,a)=>(n(),i(M(g.value),{title:e.title,tabs:v.value,"active-tab":e.activeTab,"allow-scroll":e.allowScroll,theme:e.theme,"show-top-nav":e.showTopNav,"show-back":e.showBack,onTabChange:m,onBack:a[0]||(a[0]=a=>e.$emit("back"))},{"top-bar-actions":r(()=>[h(e.$slots,"top-bar-actions")]),"desktop-sidebar":r(()=>[h(e.$slots,"desktop-sidebar")]),default:r(()=>[h(e.$slots,"default")]),_:3},40,["title","tabs","active-tab","allow-scroll","theme","show-top-nav","show-back"]))}}),be=P(e({__name:"NeoCard",props:{title:{default:void 0},variant:{default:"default"},hoverable:{type:Boolean,default:!1},flat:{type:Boolean,default:!1},ariaLabel:{default:void 0}},emits:["click"],setup:e=>(e,a)=>{const t=d,l=o;return n(),i(l,{class:s(["neo-card",`neo-card--${e.variant}`,{"neo-card--hoverable":e.hoverable,"neo-card--flat":e.flat}]),role:e.hoverable?"button":"region",tabindex:e.hoverable?0:void 0,"aria-label":e.ariaLabel||e.title||void 0,onClick:a[0]||(a[0]=a=>e.hoverable&&e.$emit("click",a)),onKeydown:[a[1]||(a[1]=g(a=>e.hoverable&&e.$emit("click",a),["enter"])),a[2]||(a[2]=g(m(a=>e.hoverable&&e.$emit("click",a),["prevent"]),["space"]))]},{default:r(()=>[e.title||e.$slots.header?(n(),i(l,{key:0,class:"neo-card__header"},{default:r(()=>[e.title?(n(),i(t,{key:0,class:"neo-card__title"},{default:r(()=>[c(u(e.title),1)]),_:1})):w("",!0),h(e.$slots,"header",{},void 0,!0)]),_:3})):w("",!0),y(l,{class:"neo-card__body"},{default:r(()=>[h(e.$slots,"default",{},void 0,!0)]),_:3}),e.$slots.footer?(n(),i(l,{key:1,class:"neo-card__footer"},{default:r(()=>[h(e.$slots,"footer",{},void 0,!0)]),_:3})):w("",!0)]),_:3},8,["class","role","tabindex","aria-label"])}}),[["__scopeId","data-v-301259a2"]]),_e=P(e({__name:"NeoButton",props:{variant:{default:"primary"},size:{default:"md"},block:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},ariaLabel:{default:void 0}},emits:["click"],setup:e=>(e,a)=>{const t=o,l=D;return n(),i(l,{class:s(["neo-btn",`neo-btn--${e.variant}`,`neo-btn--${e.size}`,{"neo-btn--block":e.block,"neo-btn--loading":e.loading}]),disabled:e.disabled||e.loading,"aria-busy":e.loading,"aria-disabled":e.disabled||e.loading,"aria-label":e.ariaLabel,onClick:a[0]||(a[0]=a=>e.$emit("click",a))},{default:r(()=>[e.loading?(n(),i(t,{key:0,class:"neo-btn__spinner"})):h(e.$slots,"default",{key:1},void 0,!0)]),_:3},8,["class","disabled","aria-busy","aria-disabled","aria-label"])}}),[["__scopeId","data-v-1fa13096"]]),ke=P(e({__name:"NeoStats",props:{stats:{}},setup:e=>(e,a)=>{const t=d,l=o;return n(),i(l,{class:"neo-stats",role:"list","aria-label":"Statistics"},{default:r(()=>[(n(!0),f(v,null,p(e.stats,e=>(n(),i(l,{key:e.label,class:s(["neo-stats__item",`neo-stats__item--${e.variant||"default"}`]),role:"listitem","aria-label":`${e.label}: ${e.value}`},{default:r(()=>[y(t,{class:"neo-stats__value","aria-hidden":"true"},{default:r(()=>[c(u(e.value),1)]),_:2},1024),y(t,{class:"neo-stats__label","aria-hidden":"true"},{default:r(()=>[c(u(e.label),1)]),_:2},1024)]),_:2},1032,["class","aria-label"]))),128))]),_:1})}}),[["__scopeId","data-v-46509ca9"]]),Ae=P(e({__name:"ErrorBoundary",props:{showDetails:{type:Boolean,default:!1},onError:{},fallback:{}},emits:["retry","reset","error"],setup(e,{expose:a,emit:t}){const l=e,s=t,f=b(!1),p=b(null),v=b(""),g=e=>({errorTitle:"Something went wrong",retry:"Try Again",reset:"Reset"}[e]||e);$(e=>{var a;const t=e instanceof Error?e:new Error(String(e));return p.value=t,v.value=l.fallback||t.message||"An unexpected error occurred",f.value=!0,s("error",t),null==(a=l.onError)||a.call(l,t),!1});const m=()=>{f.value=!1,p.value=null,s("retry")},_=()=>{f.value=!1,p.value=null,v.value="",s("reset")};return a({setError:e=>{const a=e instanceof Error?e:new Error(e);p.value=a,v.value=a.message,f.value=!0,s("error",a)},clearError:_}),(e,a)=>{const t=d,l=o;return f.value?(n(),i(l,{key:0,class:"error-boundary",role:"alert","aria-live":"assertive"},{default:r(()=>[y(l,{class:"error-container"},{default:r(()=>[y(t,{class:"error-icon"},{default:r(()=>[c("âš ï¸")]),_:1}),y(t,{class:"error-title"},{default:r(()=>[c(u(g("errorTitle")||"Something went wrong"),1)]),_:1}),y(t,{class:"error-message"},{default:r(()=>[c(u(v.value),1)]),_:1}),y(l,{class:"error-actions"},{default:r(()=>[y(_e,{variant:"primary",onClick:m},{default:r(()=>[c(u(g("retry")||"Try Again"),1)]),_:1}),y(_e,{variant:"secondary",onClick:_},{default:r(()=>[c(u(g("reset")||"Reset"),1)]),_:1})]),_:1}),e.showDetails?(n(),i(l,{key:0,class:"error-details"},{default:r(()=>[y(t,{class:"error-stack"},{default:r(()=>{var e,a;return[c(u((null==(e=p.value)?void 0:e.stack)||(null==(a=p.value)?void 0:a.message)),1)]}),_:1})]),_:1})):w("",!0)]),_:1})]),_:1})):h(e.$slots,"default",{key:1},void 0,!0)}}}),[["__scopeId","data-v-34155aa3"]]),Ce=P(e({__name:"Fireworks",props:{active:{type:Boolean,default:!1},duration:{default:3e3}},emits:["complete"],setup(e,{emit:a}){const t=e,d=a;let c=null;const u=e=>{const a=["#ff6b6b","#ffd93d","#6bcb77","#4d96ff","#ff6bd6","#a855f7"];return{left:`${10+80*Math.random()}%`,top:`${10+60*Math.random()}%`,animationDelay:`${.5*Math.random()}s`,"--firework-color":a[(e-1)%a.length]}};return T(()=>t.active,e=>{e&&(c=setTimeout(()=>{d("complete")},t.duration))}),C(()=>{c&&clearTimeout(c)}),(e,a)=>{const t=o;return e.active?(n(),i(t,{key:0,class:"fireworks-container","aria-hidden":"true"},{default:r(()=>[(n(),f(v,null,p(12,e=>y(t,{key:e,class:s(`firework firework-${e}`),style:l(u(e))},{default:r(()=>[(n(),f(v,null,p(8,e=>y(t,{key:e,class:s(`spark spark-${e}`)},null,8,["class"])),64))]),_:2},1032,["class","style"])),64))]),_:1})):w("",!0)}}}),[["__scopeId","data-v-8a253f7e"]]),Se=P(e({__name:"SidebarPanel",props:{title:{default:""},description:{default:""},items:{default:()=>[]}},setup:e=>(e,a)=>{const t=d,l=o;return n(),i(l,{class:"sidebar-panel-content"},{default:r(()=>[e.title?(n(),i(t,{key:0,class:"sidebar-title"},{default:r(()=>[c(u(e.title),1)]),_:1})):w("",!0),e.description?(n(),i(t,{key:1,class:"sidebar-desc"},{default:r(()=>[c(u(e.description),1)]),_:1})):w("",!0),e.items.length?(n(),i(l,{key:2,class:"sidebar-items"},{default:r(()=>[(n(!0),f(v,null,p(e.items,e=>(n(),i(l,{key:e.label,class:"sidebar-item"},{default:r(()=>[y(t,{class:"sidebar-item-label"},{default:r(()=>[c(u(e.label),1)]),_:2},1024),y(t,{class:"sidebar-value"},{default:r(()=>[c(u(e.value),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})):w("",!0),h(e.$slots,"default",{},void 0,!0)]),_:3})}}),[["__scopeId","data-v-0f03dbb3"]]),Ie=P(e({__name:"game-board",emits:["ready"],setup:e=>(e,a)=>{const t=o;return n(),i(t,{class:"game-board-slot"},{default:r(()=>[y(t,{class:"game-arena"},{default:r(()=>[h(e.$slots,"default",{},void 0,!0)]),_:3})]),_:3})}}),[["__scopeId","data-v-865ce7b3"]]),Ee=P(e({__name:"market-list",emits:["ready"],setup:e=>(e,a)=>{const t=o;return n(),i(t,{class:"market-list-slot"},{default:r(()=>[e.$slots.filters?(n(),i(t,{key:0,class:"list-filters"},{default:r(()=>[h(e.$slots,"filters",{},void 0,!0)]),_:3})):w("",!0),y(t,{class:"list-container"},{default:r(()=>[h(e.$slots,"default",{},void 0,!0)]),_:3})]),_:3})}}),[["__scopeId","data-v-7bb016db"]]),Te=P(e({__name:"form-panel",emits:["ready"],setup:e=>(e,a)=>{const t=o;return n(),i(t,{class:"form-panel-slot"},{default:r(()=>[y(t,{class:"form-card"},{default:r(()=>[h(e.$slots,"default",{},void 0,!0)]),_:3}),e.$slots.footer?(n(),i(t,{key:0,class:"form-footer"},{default:r(()=>[h(e.$slots,"footer",{},void 0,!0)]),_:3})):w("",!0)]),_:3})}}),[["__scopeId","data-v-dc99375e"]]),Me=P(e({__name:"dashboard",emits:["ready"],setup:e=>(e,a)=>{const t=o;return n(),i(t,{class:"dashboard-slot"},{default:r(()=>[e.$slots.hero?(n(),i(t,{key:0,class:"dashboard-hero"},{default:r(()=>[h(e.$slots,"hero",{},void 0,!0)]),_:3})):w("",!0),y(t,{class:"dashboard-panels"},{default:r(()=>[h(e.$slots,"default",{},void 0,!0)]),_:3})]),_:3})}}),[["__scopeId","data-v-094f7c79"]]),De=P(e({__name:"swap-interface",emits:["ready"],setup:e=>(e,a)=>{const t=o;return n(),i(t,{class:"swap-interface-slot"},{default:r(()=>[y(t,{class:"swap-container"},{default:r(()=>[h(e.$slots,"default",{},void 0,!0)]),_:3})]),_:3})}}),[["__scopeId","data-v-172c680c"]]),$e=P(e({__name:"timer-hero",emits:["ready"],setup:e=>(e,a)=>{const t=o;return n(),i(t,{class:"timer-hero-slot"},{default:r(()=>[y(t,{class:"timer-display"},{default:r(()=>[h(e.$slots,"timer",{},void 0,!0)]),_:3}),y(t,{class:"timer-action"},{default:r(()=>[h(e.$slots,"default",{},void 0,!0)]),_:3})]),_:3})}}),[["__scopeId","data-v-b3a2b09d"]]),xe=P(e({__name:"two-column",emits:["ready"],setup(e){const t=I(),l=a(()=>!!t.operation);return(e,a)=>{const t=o;return n(),i(t,{class:s(["two-column-slot",{"single-column":!l.value}])},{default:r(()=>[y(t,{class:"two-column-info"},{default:r(()=>[h(e.$slots,"default",{},void 0,!0)]),_:3}),l.value?(n(),i(t,{key:0,class:"two-column-operation"},{default:r(()=>[h(e.$slots,"operation",{},void 0,!0)]),_:3})):w("",!0)]),_:3},8,["class"])}}}),[["__scopeId","data-v-34a617ab"]]),Ne=P(e({__name:"MiniAppTemplate",props:{config:{},state:{},t:{type:Function},statusMessage:{},fireworksActive:{type:Boolean}},emits:["tab-change"],setup(e,{emit:t}){const l=e,s=t,g=I(),{showWarning:m}=ge(),_=a(()=>{var e;return!1!==(null==(e=l.config.features)?void 0:e.chainWarning)&&m.value}),k=a(()=>{var e;const a=l.config.tabs.find(e=>e.default);return(null==a?void 0:a.key)??(null==(e=l.config.tabs[0])?void 0:e.key)??""}),A=b(k.value),C=a(()=>l.config.tabs.map(e=>({id:e.key,label:l.t(e.labelKey),icon:e.icon??""}))),E=a(()=>l.config.tabs.filter(e=>e.key!==k.value)),T=e=>{A.value=e,s("tab-change",e)},D={"game-board":Ie,"market-list":Ee,"form-panel":Te,dashboard:Me,"swap-interface":De,"timer-hero":$e,"two-column":xe,custom:"view"},$=a(()=>D[l.config.contentType]??"view"),x=a(()=>{var e;return((null==(e=l.config.stats)?void 0:e.length)??0)>0}),N=(e,a)=>{const t=a??0;switch(e.format){case"currency":return`${Number(t).toFixed(2)} GAS`;case"percent":return`${Number(t).toFixed(1)}%`;case"duration":return String(t);default:return"number"==typeof t?t:Number(t)||0}},K=a(()=>(l.config.stats??[]).map(e=>({label:l.t(e.labelKey),value:N(e,l.state[e.valueKey]),variant:e.variant??"default"}))),R=a(()=>{var e;return null==(e=l.config.features)?void 0:e.docs}),O=a(()=>!!R.value),P=a(()=>{var e;return((null==(e=R.value)?void 0:e.stepKeys)??[]).map(e=>l.t(e))}),L=a(()=>{var e;return((null==(e=R.value)?void 0:e.featureKeys)??[]).map(e=>({name:l.t(e.nameKey),desc:l.t(e.descKey)}))}),G=a(()=>{var e;return!1!==(null==(e=l.config.features)?void 0:e.fireworks)}),V=a(()=>{var e;return!1!==(null==(e=l.config.features)?void 0:e.statusMessages)}),F=e=>!!g[e];return(e,a)=>{const t=d,l=o;return n(),i(S(he),{"desktop-breakpoint":1024,tabs:C.value,"active-tab":A.value,onTabChange:T},{"desktop-sidebar":r(()=>[h(e.$slots,"desktop-sidebar",{},void 0,!0)]),default:r(()=>[_.value?(n(),i(S(me),{key:0,title:e.t("wrongChain"),message:e.t("wrongChainMessage"),"button-text":e.t("switchToNeo")},null,8,["title","message","button-text"])):w("",!0),V.value&&e.statusMessage?(n(),i(S(be),{key:1,variant:"error"===e.statusMessage.type?"danger":"erobo-neo",class:"template-status mb-4"},{default:r(()=>[y(t,{class:"text-center font-bold"},{default:r(()=>[c(u(e.statusMessage.msg),1)]),_:1})]),_:1},8,["variant"])):w("",!0),A.value===k.value?(n(),i(l,{key:2,class:"tab-content",role:"tabpanel",id:`tabpanel-${k.value}`,"aria-labelledby":`tab-${k.value}`},{default:r(()=>[(n(),i(M($.value),null,{operation:r(()=>[h(e.$slots,"operation",{},void 0,!0)]),default:r(()=>[h(e.$slots,"content",{},void 0,!0)]),_:3}))]),_:3},8,["id","aria-labelledby"])):w("",!0),(n(!0),f(v,null,p(E.value,a=>(n(),f(v,{key:a.key},[A.value===a.key?(n(),i(l,{key:0,class:"tab-content scrollable",role:"tabpanel",id:`tabpanel-${a.key}`,"aria-labelledby":`tab-${a.key}`},{default:r(()=>["stats"===a.key&&x.value&&!F("tab-stats")?(n(),i(S(be),{key:0,variant:"erobo"},{default:r(()=>[y(S(ke),{stats:K.value},null,8,["stats"])]),_:1})):"docs"===a.key&&O.value&&!F("tab-docs")?(n(),i(S(B),{key:1,title:e.t(R.value.titleKey),subtitle:R.value.subtitleKey?e.t(R.value.subtitleKey):void 0,steps:P.value,features:L.value},null,8,["title","subtitle","steps","features"])):h(e.$slots,`tab-${a.key}`,{key:2},void 0,!0)]),_:2},1032,["id","aria-labelledby"])):w("",!0)],64))),128)),G.value?(n(),i(Ce,{key:3,active:e.fireworksActive,duration:3e3},null,8,["active"])):w("",!0)]),_:3},8,["tabs","active-tab"])}}}),[["__scopeId","data-v-07ef5641"]]);function Ke(e,a=6,t=4){const n=(e??"").trim();return n?n.length<=a+t+3?n:`${n.slice(0,a)}...${n.slice(-t)}`:"--"}const Re={disaster:"Disaster Relief",education:"Education",health:"Healthcare",environment:"Environment",poverty:"Poverty Relief",animals:"Animal Welfare",other:"Other"};function Oe(e){return Re[e]||"Other"}const Pe=P(e({__name:"CampaignCard",props:{campaign:{},t:{type:Function}},emits:["click"],setup(e){const t=e,f=a(()=>{const e=t.campaign.raisedAmount/t.campaign.targetAmount*100;return Math.min(e,100)}),p=e=>e>=1e3?(e/1e3).toFixed(1)+"k":e.toFixed(2),v=e=>{const a=e-Date.now(),t=Math.floor(a/864e5);return t>0?String(t):"0"};return(e,a)=>{const t=o,g=d;return n(),i(t,{class:"campaign-card",role:"button",tabindex:"0","aria-label":e.campaign.title,onClick:a[0]||(a[0]=a=>e.$emit("click"))},{default:r(()=>[y(t,{class:"card-header"},{default:r(()=>[y(t,{class:"campaign-category"},{default:r(()=>[c(u(S(Oe)(e.campaign.category)),1)]),_:1}),y(t,{class:s(["campaign-status",`status-${e.campaign.status}`])},{default:r(()=>{return[c(u((a=e.campaign.status,{active:"Active",completed:"Completed",withdrawn:"Withdrawn",cancelled:"Cancelled"}[a]||a)),1)];var a}),_:1},8,["class"])]),_:1}),y(t,{class:"campaign-title"},{default:r(()=>[c(u(e.campaign.title),1)]),_:1}),y(t,{class:"campaign-organizer"},{default:r(()=>[c(u(e.t("organizer"))+": "+u(S(Ke)(e.campaign.organizer)),1)]),_:1}),y(t,{class:"progress-section"},{default:r(()=>[y(t,{class:"progress-bar"},{default:r(()=>[y(t,{class:"progress-fill",style:l({width:f.value+"%"})},null,8,["style"])]),_:1}),y(t,{class:"progress-labels"},{default:r(()=>[y(g,{class:"progress-raised"},{default:r(()=>[c(u(p(e.campaign.raisedAmount))+" GAS",1)]),_:1}),y(g,{class:"progress-target"},{default:r(()=>[c("of "+u(p(e.campaign.targetAmount))+" GAS",1)]),_:1})]),_:1})]),_:1}),y(t,{class:"card-stats"},{default:r(()=>[y(t,{class:"stat"},{default:r(()=>[y(g,{class:"stat-value"},{default:r(()=>[c(u(e.campaign.donorCount),1)]),_:1}),y(g,{class:"stat-label"},{default:r(()=>[c(u(e.t("donorCount")),1)]),_:1})]),_:1}),y(t,{class:"stat"},{default:r(()=>[y(g,{class:"stat-value"},{default:r(()=>[c(u(v(e.campaign.endTime)),1)]),_:1}),y(g,{class:"stat-label"},{default:r(()=>[c(u(e.t("daysRemaining")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["aria-label"])}}}),[["__scopeId","data-v-51ac431e"]]),Be=P(e({__name:"CampaignDetail",props:{campaign:{},recentDonations:{},isDonating:{type:Boolean},t:{type:Function}},emits:["back","donate"],setup(e,{emit:t}){const g=e,m=x("address"),h=t,b=N({amount:10,message:""}),_=a(()=>{const e=g.campaign.raisedAmount/g.campaign.targetAmount*100;return Math.min(e,100)}),k=e=>e.toFixed(2),A=e=>{const a=Date.now()-e,t=Math.floor(a/6e4),n=Math.floor(a/36e5),i=Math.floor(a/864e5);return i>0?`${i}d ago`:n>0?`${n}h ago`:t>0?`${t}m ago`:"just now"},C=()=>b.amount>=.1&&b.amount<=1e5,I=()=>{C()&&h("donate",{amount:b.amount,message:b.message})};return(e,a)=>{const t=d,g=o,h=K,E=R,T=D;return n(),i(g,{class:"campaign-detail"},{default:r(()=>[y(g,{class:"back-button",role:"button",tabindex:"0","aria-label":e.t("campaigns"),onClick:a[0]||(a[0]=a=>e.$emit("back"))},{default:r(()=>[y(t,{class:"back-icon","aria-hidden":"true"},{default:r(()=>[c("â†")]),_:1}),y(t,null,{default:r(()=>[c(u(e.t("campaigns")),1)]),_:1})]),_:1},8,["aria-label"]),y(g,{class:"detail-header"},{default:r(()=>[y(g,{class:"detail-category"},{default:r(()=>[c(u(S(Oe)(e.campaign.category)),1)]),_:1}),y(g,{class:"detail-title"},{default:r(()=>[c(u(e.campaign.title),1)]),_:1}),y(g,{class:"detail-organizer"},{default:r(()=>[c(u(e.t("organizer"))+": "+u(S(Ke)(e.campaign.organizer)),1)]),_:1}),y(g,{class:"progress-section"},{default:r(()=>[y(g,{class:"progress-bar"},{default:r(()=>[y(g,{class:"progress-fill",style:l({width:_.value+"%"})},null,8,["style"])]),_:1}),y(g,{class:"progress-info"},{default:r(()=>[y(t,{class:"raised"},{default:r(()=>[c(u(k(e.campaign.raisedAmount))+" GAS",1)]),_:1}),y(t,{class:"target"},{default:r(()=>[c("of "+u(k(e.campaign.targetAmount))+" GAS",1)]),_:1}),y(t,{class:"percent"},{default:r(()=>[c(u(_.value.toFixed(0))+"%",1)]),_:1})]),_:1})]),_:1})]),_:1}),y(g,{class:"story-section"},{default:r(()=>[y(g,{class:"section-title"},{default:r(()=>[c(u(e.t("story")),1)]),_:1}),y(t,{class:"story-text"},{default:r(()=>[c(u(e.campaign.story),1)]),_:1})]),_:1}),y(g,{class:"donations-section"},{default:r(()=>[y(g,{class:"section-title"},{default:r(()=>[c(u(e.t("recentDonations")),1)]),_:1}),0===e.recentDonations.length?(n(),i(g,{key:0,class:"empty-state"},{default:r(()=>[y(t,null,{default:r(()=>[c(u(e.t("noDonations")),1)]),_:1})]),_:1})):(n(),i(g,{key:1,class:"donations-list"},{default:r(()=>[(n(!0),f(v,null,p(e.recentDonations,a=>(n(),i(g,{key:a.id,class:"donation-item"},{default:r(()=>[y(g,{class:"donor-info"},{default:r(()=>[y(t,{class:"donor-name"},{default:r(()=>[c(u(a.donor===S(m)?e.t("youLabel"):S(Ke)(a.donor)),1)]),_:2},1024),y(t,{class:"donation-amount"},{default:r(()=>[c(u(k(a.amount))+" GAS",1)]),_:2},1024)]),_:2},1024),a.message?(n(),i(t,{key:0,class:"donation-message"},{default:r(()=>[c(u(a.message),1)]),_:2},1024)):w("",!0),y(t,{class:"donation-time"},{default:r(()=>[c(u(A(a.timestamp)),1)]),_:2},1024)]),_:2},1024))),128))]),_:1}))]),_:1}),"active"===e.campaign.status?(n(),i(g,{key:0,class:"donation-form"},{default:r(()=>[y(g,{class:"section-title"},{default:r(()=>[c(u(e.t("makeDonation")),1)]),_:1}),y(g,{class:"quick-amounts"},{default:r(()=>[(n(),f(v,null,p([1,5,10,50],e=>y(g,{key:e,class:s(["amount-chip",{active:b.amount===e}]),role:"button",tabindex:"0","aria-label":e+" GAS","aria-pressed":b.amount===e,onClick:a=>b.amount=e},{default:r(()=>[y(t,null,{default:r(()=>[c(u(e)+" GAS",1)]),_:2},1024)]),_:2},1032,["class","aria-label","aria-pressed","onClick"])),64))]),_:1}),y(g,{class:"custom-amount"},{default:r(()=>[y(h,{modelValue:b.amount,"onUpdate:modelValue":a[1]||(a[1]=e=>b.amount=e),modelModifiers:{number:!0},type:"number",class:"amount-input",placeholder:e.t("customAmount"),min:"0.1",step:"0.1"},null,8,["modelValue","placeholder"])]),_:1}),y(g,{class:"message-input"},{default:r(()=>[y(E,{modelValue:b.message,"onUpdate:modelValue":a[2]||(a[2]=e=>b.message=e),class:"message-field",placeholder:e.t("messagePlaceholder"),maxlength:"200"},null,8,["modelValue","placeholder"])]),_:1}),y(g,{class:"donation-summary"},{default:r(()=>[y(t,{class:"summary-label"},{default:r(()=>[c(u(e.t("donationAmount"))+":",1)]),_:1}),y(t,{class:"summary-value"},{default:r(()=>[c(u(b.amount||0)+" GAS",1)]),_:1})]),_:1}),y(T,{class:"donate-button",disabled:e.isDonating||!C(),onClick:I},{default:r(()=>[y(t,null,{default:r(()=>[c(u(e.isDonating?e.t("donationPending"):e.t("confirmDonation")),1)]),_:1})]),_:1},8,["disabled"])]),_:1})):w("",!0)]),_:1})}}}),[["__scopeId","data-v-2e491cdc"]]),Le=P(e({__name:"MyDonationsView",props:{donations:{},totalDonated:{},t:{type:Function}},setup(e){const t=e,l=a(()=>[...t.donations].sort((e,a)=>a.timestamp-e.timestamp));return(e,a)=>{const t=d,s=o;return n(),i(s,{class:"my-donations-view"},{default:r(()=>[y(s,{class:"summary-card"},{default:r(()=>[y(t,{class:"summary-label"},{default:r(()=>[c(u(e.t("totalDonated")),1)]),_:1}),y(t,{class:"summary-value"},{default:r(()=>[c(u(e.totalDonated.toFixed(2))+" GAS",1)]),_:1}),y(t,{class:"summary-count"},{default:r(()=>[c(u(e.donations.length)+" "+u(e.t("donationCount")),1)]),_:1})]),_:1}),y(s,{class:"donations-section"},{default:r(()=>[y(s,{class:"section-title"},{default:r(()=>[c(u(e.t("myDonationsTab")),1)]),_:1}),0===e.donations.length?(n(),i(s,{key:0,class:"empty-state"},{default:r(()=>[y(t,null,{default:r(()=>[c(u(e.t("noDonations")),1)]),_:1})]),_:1})):(n(),i(s,{key:1,class:"donations-list"},{default:r(()=>[(n(!0),f(v,null,p(l.value,a=>(n(),i(s,{key:a.id,class:"donation-card"},{default:r(()=>[y(s,{class:"donation-header"},{default:r(()=>[y(t,{class:"donation-amount"},{default:r(()=>{return[c(u((e=a.amount,e.toFixed(4)))+" GAS",1)];var e}),_:2},1024),y(t,{class:"donation-date"},{default:r(()=>{return[c(u((e=a.timestamp,new Date(e).toLocaleDateString())),1)];var e}),_:2},1024)]),_:2},1024),y(s,{class:"donation-campaign"},{default:r(()=>[c("Campaign #"+u(a.campaignId),1)]),_:2},1024),a.message?(n(),i(t,{key:0,class:"donation-message"},{default:r(()=>[c('"'+u(a.message)+'"',1)]),_:2},1024)):w("",!0),y(s,{class:"donation-footer"},{default:r(()=>[y(t,{class:"tx-label"},{default:r(()=>[c(u(e.t("viewOnChain")),1)]),_:1})]),_:1})]),_:2},1024))),128))]),_:1}))]),_:1})]),_:1})}}}),[["__scopeId","data-v-fe1f8b12"]]),Ge=P(e({__name:"CreateCampaignForm",props:{isCreating:{type:Boolean},t:{type:Function}},emits:["submit"],setup(e,{emit:t}){const l=e,w=t,h=N({title:"",description:"",story:"",category:"disaster",targetAmount:100,duration:30,beneficiary:"",multisigAddresses:[]}),b=a(()=>[{id:"disaster",label:l.t("categoryDisaster")},{id:"education",label:l.t("categoryEducation")},{id:"health",label:l.t("categoryHealth")},{id:"environment",label:l.t("categoryEnvironment")},{id:"poverty",label:l.t("categoryPoverty")},{id:"animals",label:l.t("categoryAnimals")},{id:"other",label:l.t("categoryOther")}]),_=()=>{h.multisigAddresses.push("")},k=e=>{h.multisigAddresses.splice(e,1)},A=()=>h.title.trim().length>0&&""!==h.category&&h.targetAmount>=10&&h.duration>=1&&h.duration<=365&&h.beneficiary.trim().length>0,C=()=>{A()&&w("submit",{title:h.title.trim(),description:h.description.trim(),story:h.description.trim(),category:h.category,targetAmount:h.targetAmount,duration:h.duration,beneficiary:h.beneficiary.trim(),multisigAddresses:h.multisigAddresses.filter(e=>e.trim().length>0)})};return(e,a)=>{const t=d,l=o,w=K,S=R,I=D;return n(),i(l,{class:"create-campaign-form"},{default:r(()=>[y(l,{class:"form-header"},{default:r(()=>[y(t,{class:"form-title"},{default:r(()=>[c(u(e.t("createCampaign")),1)]),_:1})]),_:1}),y(l,{class:"form-fields"},{default:r(()=>[y(l,{class:"form-field"},{default:r(()=>[y(t,{class:"field-label"},{default:r(()=>[c(u(e.t("campaignName"))+" *",1)]),_:1}),y(w,{modelValue:h.title,"onUpdate:modelValue":a[0]||(a[0]=e=>h.title=e),class:"field-input",placeholder:e.t("campaignNamePlaceholder"),maxlength:"100"},null,8,["modelValue","placeholder"])]),_:1}),y(l,{class:"form-field"},{default:r(()=>[y(t,{class:"field-label"},{default:r(()=>[c(u(e.t("description")),1)]),_:1}),y(S,{modelValue:h.description,"onUpdate:modelValue":a[1]||(a[1]=e=>h.description=e),class:"field-textarea",placeholder:e.t("storyPlaceholder"),maxlength:"500"},null,8,["modelValue","placeholder"])]),_:1}),y(l,{class:"form-field"},{default:r(()=>[y(t,{class:"field-label"},{default:r(()=>[c(u(e.t("selectCategory"))+" *",1)]),_:1}),y(l,{class:"category-grid"},{default:r(()=>[(n(!0),f(v,null,p(b.value,e=>(n(),i(l,{key:e.id,class:s(["category-option",{active:h.category===e.id}]),role:"button",tabindex:"0","aria-pressed":h.category===e.id,onClick:a=>h.category=e.id,onKeydown:[g(a=>h.category=e.id,["enter"]),g(m(a=>h.category=e.id,["prevent"]),["space"])]},{default:r(()=>[y(t,null,{default:r(()=>[c(u(e.label),1)]),_:2},1024)]),_:2},1032,["class","aria-pressed","onClick","onKeydown"]))),128))]),_:1})]),_:1}),y(l,{class:"form-field"},{default:r(()=>[y(t,{class:"field-label"},{default:r(()=>[c(u(e.t("targetGoal"))+" *",1)]),_:1}),y(w,{modelValue:h.targetAmount,"onUpdate:modelValue":a[2]||(a[2]=e=>h.targetAmount=e),modelModifiers:{number:!0},type:"number",class:"field-input",placeholder:e.t("targetPlaceholder"),min:"10",step:"1"},null,8,["modelValue","placeholder"])]),_:1}),y(l,{class:"form-field"},{default:r(()=>[y(t,{class:"field-label"},{default:r(()=>[c(u(e.t("duration"))+" *",1)]),_:1}),y(l,{class:"duration-input"},{default:r(()=>[y(w,{modelValue:h.duration,"onUpdate:modelValue":a[3]||(a[3]=e=>h.duration=e),modelModifiers:{number:!0},type:"number",class:"field-input",min:"1",max:"365","aria-label":e.t("duration")},null,8,["modelValue","aria-label"]),y(t,{class:"duration-suffix"},{default:r(()=>[c(u(e.t("durationDays")),1)]),_:1})]),_:1})]),_:1}),y(l,{class:"form-field"},{default:r(()=>[y(t,{class:"field-label"},{default:r(()=>[c(u(e.t("beneficiaryAddress"))+" *",1)]),_:1}),y(w,{modelValue:h.beneficiary,"onUpdate:modelValue":a[4]||(a[4]=e=>h.beneficiary=e),class:"field-input",placeholder:e.t("beneficiaryPlaceholder")},null,8,["modelValue","placeholder"])]),_:1}),y(l,{class:"form-field"},{default:r(()=>[y(t,{class:"field-label"},{default:r(()=>[c(u(e.t("multisigAddresses")),1)]),_:1}),y(t,{class:"field-hint"},{default:r(()=>[c(u(e.t("multisigInfo")),1)]),_:1}),(n(!0),f(v,null,p(h.multisigAddresses,(a,o)=>(n(),i(l,{key:o,class:"multisig-row"},{default:r(()=>[y(w,{modelValue:h.multisigAddresses[o],"onUpdate:modelValue":e=>h.multisigAddresses[o]=e,class:"field-input",placeholder:e.t("neoAddressPlaceholder")},null,8,["modelValue","onUpdate:modelValue","placeholder"]),y(l,{class:"remove-button",role:"button",tabindex:"0","aria-label":`Remove address ${o+1}`,onClick:e=>k(o),onKeydown:[g(e=>k(o),["enter"]),g(m(e=>k(o),["prevent"]),["space"])]},{default:r(()=>[y(t,{"aria-hidden":"true"},{default:r(()=>[c("Ã—")]),_:1})]),_:2},1032,["aria-label","onClick","onKeydown"])]),_:2},1024))),128)),y(l,{class:"add-button",role:"button",tabindex:"0","aria-label":e.t("addAddress"),onClick:_,onKeydown:[g(_,["enter"]),g(m(_,["prevent"]),["space"])]},{default:r(()=>[y(t,null,{default:r(()=>[c("+ "+u(e.t("addAddress")),1)]),_:1})]),_:1},8,["aria-label","onKeydown"])]),_:1}),y(l,{class:"form-actions"},{default:r(()=>[y(I,{class:"submit-button",disabled:e.isCreating||!A(),onClick:C},{default:r(()=>[y(t,null,{default:r(()=>[c(u(e.isCreating?e.t("loading"):e.t("createCampaign")),1)]),_:1})]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1})}}}),[["__scopeId","data-v-c84cae7d"]]),Ve=5e3,Fe=1e4,Ue=100,je=["https://neomini.app","https://miniapp.neo.org","https://testnet.miniapp.neo.org"];const He=new class{constructor(){this.dynamicOrigins=new Set,this.baseOrigins=new Set([...je])}getSelfOrigin(){if("undefined"==typeof window)return null;try{const e=new URL(window.location.href);if("null"===e.origin)return null;if("http:"===e.protocol||"https:"===e.protocol)return e.origin}catch{}return null}getReferrerOrigin(){if("undefined"==typeof document||!document.referrer)return null;try{return new URL(document.referrer).origin}catch{return null}}getAllowedOrigins(){const e=new Set(this.baseOrigins);this.dynamicOrigins.forEach(a=>e.add(a));const a=this.getReferrerOrigin();a&&this.baseOrigins.has(a)&&e.add(a);const t=this.getSelfOrigin();if(t&&e.add(t),"undefined"!=typeof window){const a=window.location.hostname;"localhost"!==a&&"127.0.0.1"!==a||e.add(window.location.origin)}return e}isValid(e){return!(!e||"null"===e)&&this.getAllowedOrigins().has(e)}getTargetOrigin(){var e;const a=this.getReferrerOrigin();if(a&&this.baseOrigins.has(a))return a;try{if("undefined"!=typeof window&&window.parent!==window&&(null==(e=window.location.ancestorOrigins)?void 0:e.length)>0){const e=window.location.ancestorOrigins[0];if(this.baseOrigins.has(e))return e}}catch{}const t=this.getSelfOrigin();if(t)return t;if("undefined"!=typeof window){const e=window.location.hostname;if("localhost"===e||"127.0.0.1"===e)return window.location.origin}throw new Error("Cannot determine safe target origin - no valid origin found")}getSafeTargetOrigin(){try{const e=this.getTargetOrigin();if(e&&"null"!==e)return e}catch{}if("undefined"!=typeof window&&window.parent!==window){const e=window.__MINIAPP_PARENT_ORIGIN__;if("string"==typeof e&&e&&this.baseOrigins.has(e))return e;throw new Error("Cannot communicate securely with parent - origin unknown. Ensure host app sets __MINIAPP_PARENT_ORIGIN__ or uses a supported browser.")}throw new Error("Cannot determine safe target origin - origin is null or undefined")}addDynamicOrigin(e){e&&"null"!==e&&this.dynamicOrigins.add(e)}};let ze=null;function We(e){const a=null==e?void 0:e.layout;if("web"===a||"mobile"===a)return a;if("undefined"!=typeof window){const e=new URLSearchParams(window.location.search).get("layout");if("web"===e||"mobile"===e)return e;if(window.ReactNativeWebView)return"mobile"}return"web"}function qe(e){if(!e||"object"!=typeof e)return!1;const a="function"==typeof e.invoke&&"function"==typeof e.getConfig,t="object"==typeof e.wallet||"object"==typeof e.payments;return a||t}function Je(e=Ve){return new Promise((a,t)=>{if("undefined"==typeof window)return void t(new Error("SDK not available in SSR"));if(window.MiniAppSDK)return qe(window.MiniAppSDK)?void a(window.MiniAppSDK):void t(new Error("SDK validation failed"));const n=setTimeout(()=>{if(window.removeEventListener("miniapp-sdk-ready",i),window.parent!==window){const e=function(){const e=He.getSafeTargetOrigin();let a=0;const t=(t,...n)=>new Promise((i,o)=>{const l="undefined"!=typeof crypto&&crypto.getRandomValues?Array.from(crypto.getRandomValues(new Uint8Array(4)),e=>e.toString(16).padStart(2,"0")).join(""):Math.random().toString(36).slice(2,10),s=`sdk-${++a}-${Date.now()}-${l}`,r=setTimeout(()=>{window.removeEventListener("message",d),o(new Error("SDK invoke timeout"))},Fe),d=e=>{var a,t;He.isValid(e.origin)&&e.source===window.parent&&"miniapp_sdk_response"===(null==(a=e.data)?void 0:a.type)&&(null==(t=e.data)?void 0:t.id)===s&&(clearTimeout(r),window.removeEventListener("message",d),e.data.ok?i(e.data.result):o(new Error(e.data.error||"SDK call failed")))};window.addEventListener("message",d),window.parent.postMessage({type:"miniapp_sdk_request",id:s,method:t,params:n},e)});return{invoke:t,getConfig:()=>ze?{...ze,layout:We(ze)}:"undefined"!=typeof window&&window.__MINIAPP_CONFIG__?(ze=window.__MINIAPP_CONFIG__,{...ze,layout:We(ze??void 0)}):{appId:"",contractAddress:null,chainId:null,chainType:void 0,supportedChains:[],layout:We(),debug:!1},getAddress:()=>t("getAddress"),wallet:{getAddress:()=>t("wallet.getAddress"),switchChain:e=>t("wallet.switchChain",e),invokeIntent:e=>t("wallet.invokeIntent",e),signMessage:e=>t("wallet.signMessage",e)},payments:{payGAS:(e,a,n)=>t("payments.payGAS",e,a,n),payGASAndInvoke:(e,a,n)=>t("payments.payGASAndInvoke",e,a,n)},governance:{vote:(e,a,n,i)=>t("governance.vote",e,a,n,i),voteAndInvoke:(e,a,n,i)=>t("governance.voteAndInvoke",e,a,n,i),getCandidates:()=>t("governance.getCandidates")},rng:{requestRandom:e=>t("rng.requestRandom",e)},datafeed:{getPrice:e=>t("datafeed.getPrice",e),getPrices:()=>t("datafeed.getPrices"),getNetworkStats:()=>t("datafeed.getNetworkStats"),getRecentTransactions:e=>t("datafeed.getRecentTransactions",e)},stats:{getMyUsage:(e,a)=>t("stats.getMyUsage",e,a)},events:{list:e=>t("events.list",e),emit:(e,a)=>t("events.emit",e,a)},transactions:{list:e=>t("transactions.list",e)},automation:{register:(e,a,n,i)=>t("automation.register",e,a,n,i),unregister:e=>t("automation.unregister",e),status:e=>t("automation.status",e),list:()=>t("automation.list"),update:(e,a,n)=>t("automation.update",e,a,n),enable:e=>t("automation.enable",e),disable:e=>t("automation.disable",e),logs:(e,a)=>t("automation.logs",e,a)},share:{openModal:e=>t("share.openModal",e),getUrl:e=>t("share.getUrl",e),copy:e=>t("share.copy",e)}}}();window.MiniAppSDK=e,e.invoke("getConfig").then(e=>{e&&"object"==typeof e&&(ze=e)}).catch(()=>{}),a(e)}else t(new Error("SDK timeout"))},e),i=()=>{if(clearTimeout(n),window.removeEventListener("miniapp-sdk-ready",i),window.MiniAppSDK){if(!qe(window.MiniAppSDK))return void t(new Error("SDK validation failed"));a(window.MiniAppSDK)}else t(new Error("SDK not found"))};window.addEventListener("miniapp-sdk-ready",i)})}function Qe(){return"undefined"==typeof window?null:window.MiniAppSDK??null}const Xe=new Set;let Ye={connected:!1,address:null,balance:null},Ze=null,ea=!1;function aa(e){return e instanceof Error?e:"string"==typeof e?new Error(e):new Error(String(e))}"undefined"!=typeof window&&("undefined"!=typeof window&&(ea&&Ze||(Ze=e=>{if(e.source!==window.parent)return;if(!He.isValid(e.origin))return;const a=e.data;a&&"object"==typeof a&&("miniapp_config"!==a.type?"miniapp_wallet_state_change"===a.type&&(Ye={connected:Boolean(a.connected),address:a.address||null,chainId:a.chainId??null,chainType:a.chainType??null,balance:a.balance||a.multiChainBalance||null,balances:a.balances||void 0},Xe.forEach(e=>{try{e(Ye)}catch(a){console.error("[MiniApp SDK] Wallet state listener error:",a)}})):a.config&&"object"==typeof a.config&&(ze=a.config))},window.addEventListener("message",Ze),ea=!0)),setTimeout(function(){if("undefined"==typeof window)return;const e=He.getSafeTargetOrigin();try{window.parent.postMessage({type:"miniapp_ready"},e)}catch{}},Ue));class ta extends Error{constructor(e,a){super(e),this.statusCode=a,this.name="HttpError"}}const na={maxRetries:3,baseDelayMs:1e3,maxDelayMs:1e4};function ia(e,a){return Math.min(a.baseDelayMs*Math.pow(2,e),a.maxDelayMs)*(.75+.5*Math.random())}function oa(e,a){if(a&&a>=500)return!0;if(429===a)return!0;if(e instanceof Error){const a=e.message.toLowerCase();return a.includes("network")||a.includes("timeout")||a.includes("abort")}return!1}async function la(e,a){var t;if("undefined"!=typeof uni&&"function"==typeof A)return new Promise((t,n)=>{const i=(e=>{if(e){if(e instanceof Headers){const a={};return e.forEach((e,t)=>{a[t]=e}),a}return Array.isArray(e)?Object.fromEntries(e):e}})(a.headers),o=String((null==i?void 0:i["Content-Type"])||(null==i?void 0:i["content-type"])||"");let l=a.body;if("string"==typeof l&&o.includes("application/json"))try{l=JSON.parse(l)}catch{}A({url:e,method:a.method||"GET",data:l,header:i,success:e=>{if((e.statusCode??0)>=200&&(e.statusCode??0)<300)t(e.data);else{const a=e.data,t=null==a?void 0:a.error,i=("string"==typeof(null==t?void 0:t.message)?t.message:null)||`Request failed: ${e.statusCode}`;n(new ta(i,e.statusCode??0))}},fail:e=>{n(new Error(e.errMsg||"Network error"))}})});const n="undefined"!=typeof window&&e.startsWith(window.location.origin),i=await fetch(e,{credentials:n?"include":"same-origin",...a});if(!i.ok){const a=await i.json().catch(()=>({}));throw new ta((null==(t=a.error)?void 0:t.message)||`Request failed: ${e}`,i.status)}return i.json()}async function sa(e){return async function(e,a={}){var t,n;const i=e.startsWith("http")?e:`https://api.neo-service-layer.io${e}`,o={...na,...a.retryConfig};let l=null;for(let r=0;r<=o.maxRetries;r++){if(null==(t=a.signal)?void 0:t.aborted)throw new Error("Request cancelled");try{return await la(i,a)}catch(s){l=s instanceof Error?s:new Error(String(s));const e=s instanceof ta?s.statusCode:void 0;if(null==(n=a.signal)?void 0:n.aborted)throw l;if(r>=o.maxRetries)break;if(!oa(s,e))break;const t=ia(r,o);await new Promise(e=>setTimeout(e,t))}}throw l||new Error("Request failed")}(e,{method:"GET"})}let ra=null,da=null;function ca(){const e=b(null),a=b({}),n=b(null),i=b(null),o=b(null),l=b([]),s=b(!1),r=b(!1),d=b(null),c=b(!1),u=b(null),f=t=>{t.connected&&t.address?(e.value=t.address,s.value=!0):(e.value=null,s.value=!1),n.value=t.chainId??null,i.value=t.chainType??null,a.value=(e=>{if(!e)return{};if(e.balances&&Object.keys(e.balances).length>0)return{...e.balances};if(e.balance){const a={};return a[e.balance.nativeSymbol||("neo-n3"===e.chainType?"GAS":"NATIVE")]=e.balance.native||"0",(e.balance.governance||e.balance.governanceSymbol)&&(a[e.balance.governanceSymbol||("neo-n3"===e.chainType?"NEO":"GOV")]=e.balance.governance||"0"),a}return{}})(t)},p=e=>{e&&(o.value=e.chainId??null,l.value=Array.isArray(e.supportedChains)?e.supportedChains:[])},v=async()=>{var e;const a=await Je(),t=null==(e=a.getConfig)?void 0:e.call(a);return p(t),t},g=async e=>{const a=await Je();if(!a.wallet.switchChain)throw new Error("switchChain not supported by SDK");await a.wallet.switchChain(e),n.value=e};let m=null;return t(()=>{var a;f(Ye),a=e=>{f(e)},Xe.add(a),a(Ye),m=()=>Xe.delete(a);const t=Qe();(null==t?void 0:t.getConfig)&&p(t.getConfig()),t&&!s.value&&(e=>e?(ra&&da!==e&&(ra=null,da=null),ra||(da=e,ra=e.wallet.getAddress().then(e=>e||null).catch(e=>{const a=e instanceof Error?e.message:String(e);return console.debug("[MiniApp SDK] Fallback wallet connection failed:",a),null}).finally(()=>{ra=null,da=null})),ra):Promise.resolve(null))(t).then(a=>{var o;if(!s.value&&a){e.value=a,s.value=!0;const l=null==(o=t.getConfig)?void 0:o.call(t);n.value=(null==l?void 0:l.chainId)??null,i.value=(null==l?void 0:l.chainType)??null,p(l)}}),Je().then(e=>{var a;return p(null==(a=e.getConfig)?void 0:a.call(e))}).catch(()=>{})}),C(()=>{m&&m()}),{address:e,chainId:n,chainType:i,appChainId:o,supportedChains:l,balances:a,isConnected:s,isLoading:r,error:d,showConnectionPrompt:c,connectionPromptMessage:u,connect:async()=>{var a;r.value=!0,d.value=null;try{const t=await Je(),o=await t.wallet.getAddress();if(!o)throw new Error("wallet returned empty address");e.value=o,s.value=!0;const l=null==(a=t.getConfig)?void 0:a.call(t);n.value=(null==l?void 0:l.chainId)??null,i.value=(null==l?void 0:l.chainType)??null,p(l)}catch(t){d.value=aa(t)}finally{r.value=!1}},invokeIntent:async e=>{var a;const t=Qe();if(!(null==(a=null==t?void 0:t.wallet)?void 0:a.invokeIntent))throw new Error("invokeIntent not available");return t.wallet.invokeIntent(e)},invokeContract:async e=>{var a;const t=await Je(),n=null==(a=t.getConfig)?void 0:a.call(t),i=e.contractAddress||e.scriptHash||e.contractHash,o=e.method||e.operation;if(!i||!o)throw new Error("contract address and method required");return t.invoke("invokeFunction",{contract:i,method:o,args:e.args,chainId:null==n?void 0:n.chainId,chainType:null==n?void 0:n.chainType})},invokeRead:async e=>{var a;const t=await Je(),n=null==(a=t.getConfig)?void 0:a.call(t),i=e.contractAddress||e.scriptHash||e.contractHash||(null==n?void 0:n.contractAddress),o=e.method||e.operation;if(!i)throw new Error("contract address not configured");if(!o)throw new Error("method required");return t.invoke("invokeRead",{contract:i,method:o,args:e.args||[],chainId:e.chainId||(null==n?void 0:n.chainId),chainType:e.chainType||(null==n?void 0:n.chainType)})},getContractAddress:async()=>{var e,a,t,n,i;const o=await Je(),l=null==(e=o.getConfig)?void 0:e.call(o);if(null==l?void 0:l.contractAddress)return l.contractAddress;if((null==l?void 0:l.chainId)&&(null==(t=null==(a=null==l?void 0:l.chainContracts)?void 0:a[l.chainId])?void 0:t.address))return l.chainContracts[l.chainId].address||null;if(o.invoke)try{const e=await o.invoke("getConfig");if(null==e?void 0:e.contractAddress)return e.contractAddress;if((null==e?void 0:e.chainId)&&(null==(i=null==(n=null==e?void 0:e.chainContracts)?void 0:n[e.chainId])?void 0:i.address))return e.chainContracts[e.chainId].address||null}catch{}return null},getAppConfig:v,getAddress:async()=>(await Je()).wallet.getAddress(),signMessage:async e=>{var a;const t=await Je();if(!(null==(a=t.wallet)?void 0:a.signMessage))throw new Error("signMessage not available");return t.wallet.signMessage(e)},switchChain:g,switchToAppChain:async e=>{const a=await v(),t=(null==a?void 0:a.chainId)||(Array.isArray(null==a?void 0:a.supportedChains)&&a.supportedChains.length>0?a.supportedChains[0]:null)||e||null;if(!t)throw new Error("app chain not configured");await g(t)},getBalance:async e=>{var t;r.value=!0,d.value=null;try{const i=await Je(),o=null==(t=i.getConfig)?void 0:t.call(i),l=(null==o?void 0:o.chainId)||n.value,s=l?`?chain_id=${encodeURIComponent(l)}`:"",r=await sa(`/wallet-balance${s}`),d=(null==r?void 0:r.balances)??{};return a.value=d,e?d[e]||"0":d}catch(i){throw d.value=aa(i),i}finally{r.value=!1}},getTransactions:async(e=20)=>{var a;r.value=!0,d.value=null;try{const t=Number.isNaN(e)||e<1?20:Math.min(e,100),i=await Je(),o=null==(a=i.getConfig)?void 0:a.call(i),l=(null==o?void 0:o.chainId)||n.value,s=new URLSearchParams({limit:String(t)});l&&s.set("chain_id",l);const r=await sa(`/wallet-transactions?${s.toString()}`);return(null==r?void 0:r.transactions)??[]}catch(t){throw d.value=aa(t),t}finally{r.value=!1}},invoke:async(e,a)=>(await Je()).invoke(e,a),requireConnection:(e={})=>{const{showPrompt:a=!0,errorMessage:t}=e;return!!s.value||(a&&(u.value=t||null,c.value=!0),!1)},closeConnectionPrompt:()=>{c.value=!1,u.value=null},clearError:()=>{d.value=null}}}function ua(e){if(null==e)return null;if("object"==typeof e&&"type"in e){const a=e;switch(a.type){case"ByteArray":case"Buffer":case"InteropInterface":default:return a.value;case"Integer":return"string"==typeof a.value?a.value.startsWith("0x")?BigInt(a.value).toString():parseInt(a.value,10):Number(a.value);case"Array":case"Struct":return Array.isArray(a.value)?a.value.map(ua):a.value;case"Map":if(Array.isArray(a.value)){const e=new Map;for(const t of a.value)Array.isArray(t)&&2===t.length&&e.set(ua(t[0]),ua(t[1]));return Object.fromEntries(e)}return a.value;case"Boolean":return Boolean(a.value);case"String":case"Hash160":case"Hash256":return String(a.value)}}return Array.isArray(e)?e.map(ua):e}function fa(e){if(!e)return null;if("object"==typeof e&&null!==e){const a=e;return"stack"in a&&Array.isArray(a.stack)?0===a.stack.length?null:1===a.stack.length?ua(a.stack[0]):a.stack.map(ua):"state"in a?ua(a.state):"txid"in a||"txHash"in a?e:ua(e)}return"string"==typeof e||"number"==typeof e||"boolean"==typeof e?e:ua(e)}b("en");class pa extends Error{constructor(e,a,t,n){super(e),this.code=a,this.userMessage=t,this.details=n,this.name="MiniAppError"}}function va(e,a="An error occurred"){return function(e){return e instanceof pa}(e)?e.userMessage||e.message:e instanceof Error?e.message:a}const ga=new Set(["neo-n3","neo-n3-mainnet","neo-n3-testnet"]);function ma(e,a,t,n){const i=function(e){if("string"==typeof e)return e;const a=null==e?void 0:e.value;return"string"==typeof a?a:""}(e);if(ga.has(i))return!0;let o="";if(!o&&"function"==typeof a){const e=a("wrongChainMessage");o=e&&"wrongChainMessage"!==e?e:a("wrongChain")}o||(o="Wrong network");const l=globalThis.uni;return(null==l?void 0:l.showToast)&&l.showToast({title:o,icon:"none"}),!1}function ya(e,a){const{payGAS:t}=function(e){const{isLoading:a,error:t,execute:n}=oe(async(a,t)=>{const n=parseFloat(a);if(Number.isNaN(n)||n<=0)throw new Error("Invalid amount: must be a positive number");const i=await Y();return i.payments.payGASAndInvoke?await i.payments.payGASAndInvoke(e,a,t):await i.payments.payGAS(e,a,t)});return{isLoading:a,error:t,payGAS:n}}(e),{address:n,connect:i,invokeContract:o}=ve(),{list:l}=function(){const e=oe(async(e={})=>{var a;const t=await Y();if(!(null==(a=t.events)?void 0:a.list))throw new Error("events.list not available");return await t.events.list(e)}),a=oe(async(e,a)=>{var t;const n=String(e||"").trim();if(!n)throw new Error("eventName required");const i=await Y();if(!(null==(t=i.events)?void 0:t.emit))throw new Error("events.emit not available");return await i.events.emit(n,a||{})});return{isLoading:e.isLoading,error:e.error,list:e.execute,isEmitting:a.isLoading,emitError:a.error,emit:a.execute}}(),s=b(!1),r=b(null),d=b(!1);return{isProcessing:s,isLoading:s,error:r,success:d,processPayment:async(c,u)=>{try{if(n.value||await i(),!n.value)throw new Error("Wallet not connected");s.value=!0,r.value=null;const f=(await t(c,u)).receipt_id||"",p=async(a,t,n=3e4)=>async function(e,a,t){const{timeoutMs:n=3e4,pollIntervalMs:i=1500,errorMessage:o="Event not found in time"}=t||{},l=Date.now();for(;Date.now()-l<n;){const t=(await e()).find(a);if(t)return t;await new Promise(e=>setTimeout(e,i))}throw new Error(o)}(async()=>(await l({app_id:e,event_name:t,limit:20})).events||[],e=>e.tx_hash===a,{timeoutMs:n,errorMessage:`Event "${t}" not found for transaction ${a}`});return{receiptId:f,invoke:async(e,a,t)=>{let n,i,l;if("string"==typeof a&&Array.isArray(t))n=e,i=a,l=t;else{if(!Array.isArray(a)||"string"!=typeof t)throw new Error("Invalid invoke signature");i=e,l=a,n=t}const s=await o({scriptHash:n,operation:i,args:l});return{txid:s.txid||s.txHash||"",receiptId:f}},waitForEvent:p,triggerSuccess:()=>{var e;d.value=!0,null==(e=null==a?void 0:a.onSuccess)||e.call(a),setTimeout(()=>{d.value=!1},3500)}}}catch(f){throw r.value=f instanceof Error?f:new Error(String(f)),f}finally{s.value=!1}}}}function wa(e){const{address:t,invokeRead:n}=ca(),{processPayment:i,waitForEvent:o}=ya("miniapp-charity-vault"),{contractAddress:l,ensureSafe:s}=function(e){const{chainType:a,getContractAddress:t}=ve(),n=b(null);return{contractAddress:n,ensure:async()=>{if(!ma(a,e))throw new Error(e("wrongChain"));if(n.value||(n.value=await t()),!n.value)throw new Error(e("contractUnavailable")||"Contract address unavailable");return n.value},ensureSafe:async()=>!!ma(a,e)&&(n.value||(n.value=await t()),!!n.value)}}(e),r=b(null),d=b([]),c=b([]),u=b([]),f=b("all"),p=b(!1),v=b(!1),g=b(!1),{status:m,setStatus:y}=function(e=4e3){const a=b(null);return{status:a,setStatus:(t,n)=>{a.value={msg:t,type:n},setTimeout(()=>{var e;(null==(e=a.value)?void 0:e.msg)===t&&(a.value=null)},e)},clearStatus:()=>{a.value=null}}}(5e3),w=a(()=>{var e;return(null==(e=m.value)?void 0:e.msg)??null}),h=a(()=>"all"===f.value?d.value:d.value.filter(e=>e.category===f.value)),_=a(()=>c.value.reduce((e,a)=>e+a.amount,0)),k=a(()=>d.value.reduce((e,a)=>e+(a.raisedAmount||0),0)),A=async()=>{if(await s())try{p.value=!0;const e=fa(await n({scriptHash:l.value,operation:"getCampaigns",args:[]}));Array.isArray(e)&&(d.value=e.map(e=>({id:Number(e.id||0),title:String(e.title||""),description:String(e.description||""),story:String(e.story||""),category:String(e.category||"other"),organizer:String(e.organizer||""),beneficiary:String(e.beneficiary||""),targetAmount:Number(e.targetAmount||0)/1e8,raisedAmount:Number(e.raisedAmount||0)/1e8,donorCount:Number(e.donorCount||0),endTime:1e3*Number(e.endTime||0),createdAt:1e3*Number(e.createdAt||0),status:e.status||"active",multisigAddresses:Array.isArray(e.multisigAddresses)?e.multisigAddresses:[]})))}catch(a){y(va(a,e("failedToLoad")),"error")}finally{p.value=!1}},C=async()=>{if(t.value&&await s())try{const e=fa(await n({scriptHash:l.value,operation:"getUserDonations",args:[{type:"Hash160",value:t.value}]}));Array.isArray(e)&&(c.value=e.map(e=>({id:Number(e.id||0),campaignId:Number(e.campaignId||0),donor:String(e.donor||""),amount:Number(e.amount||0)/1e8,message:String(e.message||""),timestamp:1e3*Number(e.timestamp||0)})))}catch(e){}},S=async e=>{try{const a=fa(await n({scriptHash:l.value,operation:"getCampaignDonations",args:[{type:"Integer",value:e},{type:"Integer",value:10}]}));Array.isArray(a)&&(u.value=a.map(e=>({id:Number(e.id||0),campaignId:Number(e.campaignId||0),donor:String(e.donor||""),amount:Number(e.amount||0)/1e8,message:String(e.message||""),timestamp:1e3*Number(e.timestamp||0)})))}catch(a){}};return{selectedCampaign:r,campaigns:d,myDonations:c,recentDonations:u,selectedCategory:f,loadingCampaigns:p,isDonating:v,isCreating:g,errorMessage:w,filteredCampaigns:h,totalDonated:_,totalRaised:k,loadRecentDonations:S,makeDonation:async a=>{if(t.value){if(await s()&&r.value)if(a.amount<.1)y(e("minimumDonation"),"error");else try{v.value=!0;const{receiptId:e,invoke:t}=await i(a.amount.toFixed(8),`donate:${r.value.id}:${a.message.slice(0,50)}`),n=await t("donate",[{type:"Integer",value:r.value.id},{type:"Integer",value:String(e)},{type:"String",value:a.message}],l.value);n.txid&&(await o(n.txid,"DonationMade"),await A(),await C(),await S(r.value.id))}catch(n){y(va(n,e("donationFailed")),"error")}finally{v.value=!1}}else y(e("connectWallet"),"error")},createCampaign:async a=>{if(t.value){if(await s()){try{g.value=!0;const e=Math.floor(Date.now()/1e3)+86400*a.duration,{receiptId:t,invoke:n}=await i("1",`create:${a.category}:${a.title.slice(0,50)}`),s=await n("createCampaign",[{type:"String",value:a.title},{type:"String",value:a.description},{type:"String",value:a.story},{type:"String",value:a.category},{type:"Integer",value:Math.round(1e8*a.targetAmount)},{type:"Integer",value:e},{type:"Hash160",value:a.beneficiary},{type:"Array",value:a.multisigAddresses},{type:"Integer",value:String(t)}],l.value);if(s.txid)return await o(s.txid,"CampaignCreated"),await A(),!0}catch(n){y(va(n,e("creationFailed")),"error")}finally{g.value=!1}return!1}}else y(e("connectWallet"),"error")},init:async()=>{await s(),await A(),await C()}}}const ha=P(e({__name:"index",setup(e){const{t:l}=L(),{selectedCampaign:g,campaigns:m,myDonations:h,recentDonations:_,selectedCategory:k,loadingCampaigns:A,isDonating:C,isCreating:I,errorMessage:E,filteredCampaigns:T,totalDonated:M,totalRaised:D,loadRecentDonations:$,makeDonation:x,createCampaign:N,init:K}=wa(l),R=a(()=>E.value?{msg:E.value,type:"error"}:null),P={contentType:"two-column",tabs:[{key:"campaigns",labelKey:"campaigns",icon:"â¤ï¸",default:!0},{key:"donate",labelKey:"myDonationsTab",icon:"ðŸ’°"},{key:"my-donations",labelKey:"myDonationsTab",icon:"ðŸ“‹"},{key:"create",labelKey:"create",icon:"âž•"},{key:"docs",labelKey:"docs",icon:"ðŸ“–"}],features:{chainWarning:!0,statusMessages:!0,docs:{titleKey:"title",subtitleKey:"docSubtitle",stepKeys:["step1","step2","step3","step4"],featureKeys:[{nameKey:"feature1Name",descKey:"feature1Desc"},{nameKey:"feature2Name",descKey:"feature2Desc"},{nameKey:"feature3Name",descKey:"feature3Desc"},{nameKey:"feature4Name",descKey:"feature4Desc"}]}}},B=b("campaigns"),G=a(()=>[{label:l("campaigns"),value:m.value.length},{label:l("myDonations"),value:h.value.length},{label:l("totalRaised"),value:`${D.value.toFixed(2)} GAS`}]),V=a(()=>({campaignCount:m.value.length,totalDonated:M.value})),F=a(()=>[{label:l("campaigns"),value:m.value.length},{label:l("totalRaised"),value:`${D.value.toFixed(2)} GAS`},{label:l("myDonations"),value:h.value.length}]),U=a(()=>[{id:"all",label:l("categoryAll")},{id:"disaster",label:l("categoryDisaster")},{id:"education",label:l("categoryEducation")},{id:"health",label:l("categoryHealth")},{id:"environment",label:l("categoryEnvironment")},{id:"poverty",label:l("categoryPoverty")},{id:"animals",label:l("categoryAnimals")},{id:"other",label:l("categoryOther")}]),j=async e=>{await N(e)&&(B.value="campaigns")},H=e=>{console.error("[charity-vault] boundary error:",e)},z=async()=>{await K()};return t(async()=>{await K()}),(e,a)=>{const t=d,m=o,b=O;return n(),i(m,{class:"theme-charity-vault"},{default:r(()=>[y(S(Ne),{config:P,state:V.value,t:S(l),"status-message":R.value,onTabChange:a[3]||(a[3]=e=>B.value=e)},{"desktop-sidebar":r(()=>[y(S(Se),{title:S(l)("overview"),items:G.value},null,8,["title","items"])]),content:r(()=>[y(S(Ae),{onError:H,onRetry:z,"fallback-message":S(l)("errorFallback")},{default:r(()=>[y(m,{class:"category-filter"},{default:r(()=>[y(b,{"scroll-x":"",class:"category-scroll"},{default:r(()=>[(n(!0),f(v,null,p(U.value,e=>(n(),i(m,{key:e.id,class:s(["category-chip",{active:S(k)===e.id}]),onClick:a=>k.value=e.id},{default:r(()=>[y(t,null,{default:r(()=>[c(u(e.label),1)]),_:2},1024)]),_:2},1032,["class","onClick"]))),128))]),_:1})]),_:1}),y(m,{class:"campaign-list"},{default:r(()=>[S(A)?(n(),i(m,{key:0,class:"loading-state"},{default:r(()=>[y(t,null,{default:r(()=>[c(u(S(l)("loading")),1)]),_:1})]),_:1})):0===S(T).length?(n(),i(m,{key:1,class:"empty-state"},{default:r(()=>[y(t,null,{default:r(()=>[c(u(S(l)("noCampaigns")),1)]),_:1})]),_:1})):(n(!0),f(v,{key:2},p(S(T),e=>(n(),i(Pe,{key:e.id,campaign:e,t:S(l),onClick:a=>(async e=>{g.value=e,B.value="donate",await $(e.id)})(e)},null,8,["campaign","t","onClick"]))),128))]),_:1})]),_:1},8,["fallback-message"])]),operation:r(()=>[y(S(be),{variant:"erobo",title:S(l)("quickActions")},{default:r(()=>[y(m,{class:"action-buttons"},{default:r(()=>[y(S(_e),{variant:"primary",size:"lg",block:"",onClick:a[0]||(a[0]=e=>B.value="create")},{default:r(()=>[c(u(S(l)("create")),1)]),_:1}),y(S(_e),{variant:"secondary",size:"lg",block:"",onClick:a[1]||(a[1]=e=>B.value="my-donations")},{default:r(()=>[c(u(S(l)("myDonationsTab")),1)]),_:1})]),_:1})]),_:1},8,["title"]),y(S(ke),{stats:F.value},null,8,["stats"])]),"tab-donate":r(()=>[S(g)?(n(),i(Be,{key:0,campaign:S(g),"recent-donations":S(_),"is-donating":S(C),t:S(l),onDonate:S(x),onBack:a[2]||(a[2]=e=>{B.value="campaigns",g.value=null})},null,8,["campaign","recent-donations","is-donating","t","onDonate"])):w("",!0)]),"tab-my-donations":r(()=>[y(Le,{donations:S(h),"total-donated":S(M),t:S(l)},null,8,["donations","total-donated","t"])]),"tab-create":r(()=>[y(Ge,{"is-creating":S(I),t:S(l),onSubmit:j},null,8,["is-creating","t"])]),_:1},8,["state","t","status-message"])]),_:1})}}}),[["__scopeId","data-v-dac98264"]]);export{ha as default};
