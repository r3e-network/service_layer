import{r as e,a as n,o as t,b as a,d as o,c as i,e as l,f as r,i as s,n as c,g as u,w as d,h as p,j as v,t as f,k as h,l as w,F as m,m as g,p as y,q as b,s as _,u as k,v as C,x as A,y as E,z as S,A as I,B as z,C as T,I as N,D as x,E as M,G as P}from"./index-Dx7xkEhi.js";const D=5e3,O=1e4,L=100,R=["https://neomini.app","https://miniapp.neo.org","https://testnet.miniapp.neo.org"];const $=new class{constructor(){this.dynamicOrigins=new Set,this.baseOrigins=new Set([...R])}getSelfOrigin(){if("undefined"==typeof window)return null;try{const e=new URL(window.location.href);if("null"===e.origin)return null;if("http:"===e.protocol||"https:"===e.protocol)return e.origin}catch{}return null}getReferrerOrigin(){if("undefined"==typeof document||!document.referrer)return null;try{return new URL(document.referrer).origin}catch{return null}}getAllowedOrigins(){const e=new Set(this.baseOrigins);this.dynamicOrigins.forEach(n=>e.add(n));const n=this.getReferrerOrigin();n&&this.baseOrigins.has(n)&&e.add(n);const t=this.getSelfOrigin();if(t&&e.add(t),"undefined"!=typeof window){const n=window.location.hostname;"localhost"!==n&&"127.0.0.1"!==n||e.add(window.location.origin)}return e}isValid(e){return!(!e||"null"===e)&&this.getAllowedOrigins().has(e)}getTargetOrigin(){var e;const n=this.getReferrerOrigin();if(n&&this.baseOrigins.has(n))return n;try{if("undefined"!=typeof window&&window.parent!==window&&(null==(e=window.location.ancestorOrigins)?void 0:e.length)>0){const e=window.location.ancestorOrigins[0];if(this.baseOrigins.has(e))return e}}catch{}const t=this.getSelfOrigin();if(t)return t;if("undefined"!=typeof window){const e=window.location.hostname;if("localhost"===e||"127.0.0.1"===e)return window.location.origin}throw new Error("Cannot determine safe target origin - no valid origin found")}getSafeTargetOrigin(){try{const e=this.getTargetOrigin();if(e&&"null"!==e)return e}catch{}if("undefined"!=typeof window&&window.parent!==window){const e=window.__MINIAPP_PARENT_ORIGIN__;if("string"==typeof e&&e&&this.baseOrigins.has(e))return e;throw new Error("Cannot communicate securely with parent - origin unknown. Ensure host app sets __MINIAPP_PARENT_ORIGIN__ or uses a supported browser.")}throw new Error("Cannot determine safe target origin - origin is null or undefined")}addDynamicOrigin(e){e&&"null"!==e&&this.dynamicOrigins.add(e)}};let B=null;function G(e){const n=null==e?void 0:e.layout;if("web"===n||"mobile"===n)return n;if("undefined"!=typeof window){const e=new URLSearchParams(window.location.search).get("layout");if("web"===e||"mobile"===e)return e;if(window.ReactNativeWebView)return"mobile"}return"web"}function U(e){if(!e||"object"!=typeof e)return!1;const n="function"==typeof e.invoke&&"function"==typeof e.getConfig,t="object"==typeof e.wallet||"object"==typeof e.payments;return n||t}function H(e=D){return new Promise((n,t)=>{if("undefined"==typeof window)return void t(new Error("SDK not available in SSR"));if(window.MiniAppSDK)return U(window.MiniAppSDK)?void n(window.MiniAppSDK):void t(new Error("SDK validation failed"));const a=setTimeout(()=>{if(window.removeEventListener("miniapp-sdk-ready",o),window.parent!==window){const e=function(){const e=$.getSafeTargetOrigin();let n=0;const t=(t,...a)=>new Promise((o,i)=>{const l=`sdk-${++n}-${Date.now()}-${Math.random().toString(36).slice(2,8)}`,r=setTimeout(()=>{window.removeEventListener("message",s),i(new Error("SDK invoke timeout"))},O),s=e=>{var n,t;$.isValid(e.origin)&&e.source===window.parent&&"miniapp_sdk_response"===(null==(n=e.data)?void 0:n.type)&&(null==(t=e.data)?void 0:t.id)===l&&(clearTimeout(r),window.removeEventListener("message",s),e.data.ok?o(e.data.result):i(new Error(e.data.error||"SDK call failed")))};window.addEventListener("message",s),window.parent.postMessage({type:"miniapp_sdk_request",id:l,method:t,params:a},e)});return{invoke:t,getConfig:()=>B?{...B,layout:G(B)}:"undefined"!=typeof window&&window.__MINIAPP_CONFIG__?(B=window.__MINIAPP_CONFIG__,{...B,layout:G(B??void 0)}):{appId:"",contractAddress:null,chainId:null,chainType:void 0,supportedChains:[],layout:G(),debug:!1},getAddress:()=>t("getAddress"),wallet:{getAddress:()=>t("wallet.getAddress"),switchChain:e=>t("wallet.switchChain",e),invokeIntent:e=>t("wallet.invokeIntent",e),signMessage:e=>t("wallet.signMessage",e)},payments:{payGAS:(e,n,a)=>t("payments.payGAS",e,n,a),payGASAndInvoke:(e,n,a)=>t("payments.payGASAndInvoke",e,n,a)},governance:{vote:(e,n,a,o)=>t("governance.vote",e,n,a,o),voteAndInvoke:(e,n,a,o)=>t("governance.voteAndInvoke",e,n,a,o),getCandidates:()=>t("governance.getCandidates")},rng:{requestRandom:e=>t("rng.requestRandom",e)},datafeed:{getPrice:e=>t("datafeed.getPrice",e),getPrices:()=>t("datafeed.getPrices"),getNetworkStats:()=>t("datafeed.getNetworkStats"),getRecentTransactions:e=>t("datafeed.getRecentTransactions",e)},stats:{getMyUsage:(e,n)=>t("stats.getMyUsage",e,n)},events:{list:e=>t("events.list",e),emit:(e,n)=>t("events.emit",e,n)},transactions:{list:e=>t("transactions.list",e)},automation:{register:(e,n,a,o)=>t("automation.register",e,n,a,o),unregister:e=>t("automation.unregister",e),status:e=>t("automation.status",e),list:()=>t("automation.list"),update:(e,n,a)=>t("automation.update",e,n,a),enable:e=>t("automation.enable",e),disable:e=>t("automation.disable",e),logs:(e,n)=>t("automation.logs",e,n)},share:{openModal:e=>t("share.openModal",e),getUrl:e=>t("share.getUrl",e),copy:e=>t("share.copy",e)}}}();window.MiniAppSDK=e,e.invoke("getConfig").then(e=>{e&&"object"==typeof e&&(B=e)}).catch(()=>{}),n(e)}else t(new Error("SDK timeout"))},e),o=()=>{if(clearTimeout(a),window.removeEventListener("miniapp-sdk-ready",o),window.MiniAppSDK){if(!U(window.MiniAppSDK))return void t(new Error("SDK validation failed"));n(window.MiniAppSDK)}else t(new Error("SDK not found"))};window.addEventListener("miniapp-sdk-ready",o)})}function F(){return"undefined"==typeof window?null:window.MiniAppSDK??null}const K=new Set;let W={connected:!1,address:null,balance:null},j=null,V=!1;function q(n){const t=e(!1),a=e(null);return{isLoading:t,error:a,execute:async(...e)=>{t.value=!0,a.value=null;try{return await n(...e)}catch(o){throw a.value=o,o}finally{t.value=!1}}}}"undefined"!=typeof window&&("undefined"!=typeof window&&(V&&j||(j=e=>{if(e.source!==window.parent)return;if(!$.isValid(e.origin))return;const n=e.data;n&&"object"==typeof n&&("miniapp_config"!==n.type?"miniapp_wallet_state_change"===n.type&&(W={connected:Boolean(n.connected),address:n.address||null,chainId:n.chainId??null,chainType:n.chainType??null,balance:n.balance||n.multiChainBalance||null,balances:n.balances||void 0},K.forEach(e=>{try{e(W)}catch(n){console.error("[MiniApp SDK] Wallet state listener error:",n)}})):n.config&&"object"==typeof n.config&&(B=n.config))},window.addEventListener("message",j),V=!0)),setTimeout(function(){if("undefined"==typeof window)return;const e=$.getSafeTargetOrigin();try{window.parent.postMessage({type:"miniapp_ready"},e)}catch{}},L));const J={maxRetries:3,baseDelayMs:1e3,maxDelayMs:1e4};function X(e,n){return Math.min(n.baseDelayMs*Math.pow(2,e),n.maxDelayMs)*(.75+.5*Math.random())}function Y(e,n){if(e instanceof Error){const n=e.message.toLowerCase();return n.includes("network")||n.includes("timeout")||n.includes("abort")}return!1}async function Q(e,t){var a;if("undefined"!=typeof uni&&"function"==typeof n)return new Promise((a,o)=>{const i=(e=>{if(e){if(e instanceof Headers){const n={};return e.forEach((e,t)=>{n[t]=e}),n}return Array.isArray(e)?Object.fromEntries(e):e}})(t.headers),l=String((null==i?void 0:i["Content-Type"])||(null==i?void 0:i["content-type"])||"");let r=t.body;if("string"==typeof r&&l.includes("application/json"))try{r=JSON.parse(r)}catch{}n({url:e,method:t.method||"GET",data:r,header:i,success:e=>{var n,t;if((e.statusCode??0)>=200&&(e.statusCode??0)<300)a(e.data);else{const a=(null==(t=null==(n=e.data)?void 0:n.error)?void 0:t.message)||`Request failed: ${e.statusCode}`;o(new Error(a))}},fail:e=>{o(new Error(e.errMsg||"Network error"))}})});const o=await fetch(e,{credentials:"include",...t});if(!o.ok){const n=await o.json().catch(()=>({}));throw new Error((null==(a=n.error)?void 0:a.message)||`Request failed: ${e}`)}return o.json()}async function Z(e){return async function(e,n={}){var t,a;const o=e.startsWith("http")?e:`https://api.neo-service-layer.io${e}`,i={...J,...n.retryConfig};let l=null;for(let s=0;s<=i.maxRetries;s++){if(null==(t=n.signal)?void 0:t.aborted)throw new Error("Request cancelled");try{return await Q(o,n)}catch(r){if(l=r instanceof Error?r:new Error(String(r)),null==(a=n.signal)?void 0:a.aborted)throw l;if(s>=i.maxRetries)break;if(!Y(r))break;const e=X(s,i);await new Promise(n=>setTimeout(n,e))}}throw l||new Error("Request failed")}(e,{method:"GET"})}let ee=null,ne=null;function te(){const n=e(null),o=e({}),i=e(null),l=e(null),r=e(null),s=e([]),c=e(!1),u=e(!1),d=e(null),p=e(!1),v=e(null),f=e=>{e.connected&&e.address?(n.value=e.address,c.value=!0):(n.value=null,c.value=!1),i.value=e.chainId??null,l.value=e.chainType??null,o.value=(e=>{if(!e)return{};if(e.balances&&Object.keys(e.balances).length>0)return{...e.balances};if(e.balance){const n={};return n[e.balance.nativeSymbol||("neo-n3"===e.chainType?"GAS":"NATIVE")]=e.balance.native||"0",(e.balance.governance||e.balance.governanceSymbol)&&(n[e.balance.governanceSymbol||("neo-n3"===e.chainType?"NEO":"GOV")]=e.balance.governance||"0"),n}return{}})(e)},h=e=>{e&&(r.value=e.chainId??null,s.value=Array.isArray(e.supportedChains)?e.supportedChains:[])},w=async()=>{var e;const n=await H(),t=null==(e=n.getConfig)?void 0:e.call(n);return h(t),t},m=async e=>{const n=await H();if(!n.wallet.switchChain)throw new Error("switchChain not supported by SDK");await n.wallet.switchChain(e),i.value=e};let g=null;return t(()=>{var e;f(W),e=e=>{f(e)},K.add(e),e(W),g=()=>K.delete(e);const t=F();if((null==t?void 0:t.getConfig)&&h(t.getConfig()),t&&!c.value){const e=c.value,a=a=>{var o;if(!e&&!c.value){n.value=a,c.value=!0;const e=null==(o=t.getConfig)?void 0:o.call(t);i.value=(null==e?void 0:e.chainId)??null,l.value=(null==e?void 0:e.chainType)??null,h(e)}};ne?a(ne):(ee||(ee=t.wallet.getAddress().then(e=>(ne=e,e))),ee.then(e=>a(e)).catch(e=>{ee=null,console.debug("[MiniApp SDK] Fallback wallet connection failed:",(null==e?void 0:e.message)||e)}))}H().then(e=>{var n;return h(null==(n=e.getConfig)?void 0:n.call(e))}).catch(()=>{})}),a(()=>{g&&g()}),{address:n,chainId:i,chainType:l,appChainId:r,supportedChains:s,balances:o,isConnected:c,isLoading:u,error:d,showConnectionPrompt:p,connectionPromptMessage:v,connect:async()=>{var e;u.value=!0,d.value=null;try{const t=await H();n.value=await t.wallet.getAddress(),c.value=!0;const a=null==(e=t.getConfig)?void 0:e.call(t);i.value=(null==a?void 0:a.chainId)??null,l.value=(null==a?void 0:a.chainType)??null,h(a)}catch(t){d.value=t}finally{u.value=!1}},invokeIntent:async e=>{var n;const t=F();if(!(null==(n=null==t?void 0:t.wallet)?void 0:n.invokeIntent))throw new Error("invokeIntent not available");return t.wallet.invokeIntent(e)},invokeContract:async e=>{var n;const t=await H(),a=null==(n=t.getConfig)?void 0:n.call(t),o=e.contractAddress||e.scriptHash||e.contractHash,i=e.method||e.operation;if(!o||!i)throw new Error("contract address and method required");return t.invoke("invokeFunction",{contract:o,method:i,args:e.args,chainId:null==a?void 0:a.chainId,chainType:null==a?void 0:a.chainType})},invokeRead:async e=>{var n;const t=await H(),a=null==(n=t.getConfig)?void 0:n.call(t),o=e.contractAddress||e.scriptHash||e.contractHash||(null==a?void 0:a.contractAddress),i=e.method||e.operation;if(!o)throw new Error("contract address not configured");if(!i)throw new Error("method required");return t.invoke("invokeRead",{contract:o,method:i,args:e.args||[],chainId:e.chainId||(null==a?void 0:a.chainId),chainType:e.chainType||(null==a?void 0:a.chainType)})},getContractAddress:async()=>{var e,n,t,a,o;const i=await H(),l=null==(e=i.getConfig)?void 0:e.call(i);if(null==l?void 0:l.contractAddress)return l.contractAddress;if((null==l?void 0:l.chainId)&&(null==(t=null==(n=null==l?void 0:l.chainContracts)?void 0:n[l.chainId])?void 0:t.address))return l.chainContracts[l.chainId].address||null;if(i.invoke)try{const e=await i.invoke("getConfig");if(null==e?void 0:e.contractAddress)return e.contractAddress;if((null==e?void 0:e.chainId)&&(null==(o=null==(a=null==e?void 0:e.chainContracts)?void 0:a[e.chainId])?void 0:o.address))return e.chainContracts[e.chainId].address||null}catch{}return null},getAppConfig:w,getAddress:async()=>(await H()).wallet.getAddress(),signMessage:async e=>{var n;const t=await H();if(!(null==(n=t.wallet)?void 0:n.signMessage))throw new Error("signMessage not available");return t.wallet.signMessage(e)},switchChain:m,switchToAppChain:async e=>{const n=await w(),t=(null==n?void 0:n.chainId)||(Array.isArray(null==n?void 0:n.supportedChains)&&n.supportedChains.length>0?n.supportedChains[0]:null)||e||null;if(!t)throw new Error("app chain not configured");await m(t)},getBalance:async e=>{var n;u.value=!0,d.value=null;try{const t=await H(),a=null==(n=t.getConfig)?void 0:n.call(t),l=(null==a?void 0:a.chainId)||i.value,r=l?`?chain_id=${encodeURIComponent(l)}`:"",s=await Z(`/wallet-balance${r}`),c=(null==s?void 0:s.balances)??{};return o.value=c,e?c[e]||"0":c}catch(t){throw d.value=t,t}finally{u.value=!1}},getTransactions:async(e=20)=>{var n;u.value=!0,d.value=null;try{const t=Number.isNaN(e)||e<1?20:Math.min(e,100),a=await H(),o=null==(n=a.getConfig)?void 0:n.call(a),l=(null==o?void 0:o.chainId)||i.value,r=new URLSearchParams({limit:String(t)});l&&r.set("chain_id",l);return(await Z(`/wallet-transactions?${r.toString()}`)).transactions}catch(t){throw d.value=t,t}finally{u.value=!1}},invoke:async(e,n)=>(await H()).invoke(e,n),requireConnection:(e={})=>{const{showPrompt:n=!0,errorMessage:t}=e;return!!c.value||(n&&(v.value=t||null,p.value=!0),!1)},closeConnectionPrompt:()=>{p.value=!1,v.value=null},clearError:()=>{d.value=null}}}function ae(){const e=q(async(e={})=>{var n;const t=await H();if(!(null==(n=t.events)?void 0:n.list))throw new Error("events.list not available");return await t.events.list(e)}),n=q(async(e,n)=>{var t;const a=String(e||"").trim();if(!a)throw new Error("eventName required");const o=await H();if(!(null==(t=o.events)?void 0:t.emit))throw new Error("events.emit not available");return await o.events.emit(a,n||{})});return{isLoading:e.isLoading,error:e.error,list:e.execute,isEmitting:n.isLoading,emitError:n.error,emit:n.execute}}e("en");const oe={docBadge:{en:"Documentation",zh:"æ–‡æ¡£"},docFooter:{en:"NeoHub MiniApp Protocol v2.4.0",zh:"NeoHub MiniApp Protocol v2.4.0"}};function ie(n){const t={...oe,...n},a=e("undefined"==typeof window?"en":(navigator.language||navigator.userLanguage||"en").toLowerCase().startsWith("zh")?"zh":"en"),o=(e,n)=>{const o=t[e];if(!o)return String(e);let i="";return i="string"==typeof o?o:o[a.value]||o.en||o.zh||String(e),n?((e,n)=>e.replace(/\{(\w+)\}/g,(e,t)=>String(n[t]??`{${t}}`)))(i,n):i},i=e=>{a.value=(e=>e&&e.toLowerCase().startsWith("zh")?"zh":"en")(e)};if("undefined"!=typeof window){window.addEventListener("languageChange",e=>{var n;const t=null==(n=e.detail)?void 0:n.language;t&&i(t)});const e=(()=>{try{if(window.parent!==window&&document.referrer)return new URL(document.referrer).origin}catch{}return window.location.origin})();window.addEventListener("message",n=>{const t=n.source===window.parent;if(!(n.origin===e||n.origin===window.location.origin||t&&("null"===n.origin||"null"===e)))return;const a=n.data;if(!a||"object"!=typeof a)return;if("language-change"!==a.type)return;const o=String(a.language||a.locale||a.lang||"").trim();o&&i(o)})}return()=>({locale:a,t:o,setLocale:i})}const le=ie({wrongChain:{en:"Wrong Network",zh:"ç½‘ç»œé”™è¯¯"},wrongChainMessage:{en:"Switch to Neo N3 Mainnet to continue.",zh:"åˆ‡æ¢åˆ° Neo N3 ä¸»ç½‘ä»¥ç»§ç»­ã€‚"},switchToNeo:{en:"Switch Network",zh:"åˆ‡æ¢ç½‘ç»œ"},connectWalletPrompt:{en:"Please connect your wallet",zh:"è¯·è¿æ¥é’±åŒ…"},contractUnavailable:{en:"Contract unavailable",zh:"åˆçº¦ä¸å¯ç”¨"},transactionFailed:{en:"Transaction failed",zh:"äº¤æ˜“å¤±è´¥"},insufficientBalance:{en:"Insufficient balance",zh:"ä½™é¢ä¸è¶³"},loading:{en:"Loading...",zh:"åŠ è½½ä¸­..."},error:{en:"Error",zh:"é”™è¯¯"},main:{en:"Main",zh:"ä¸»é¡µ"},game:{en:"Game",zh:"æ¸¸æˆ"},games:{en:"Games",zh:"æ¸¸æˆ"},stats:{en:"Stats",zh:"ç»Ÿè®¡"},docsTab:{en:"Docs",zh:"æ–‡æ¡£"},settings:{en:"Settings",zh:"è®¾ç½®"},about:{en:"About",zh:"å…³äº"},docSubtitle:{en:"Documentation",zh:"æ–‡æ¡£"},docDescription:{en:"Learn how to use this miniapp",zh:"äº†è§£å¦‚ä½•ä½¿ç”¨æ­¤è¿·ä½ åº”ç”¨"},docWhatItIs:{en:"What is it?",zh:"è¿™æ˜¯ä»€ä¹ˆï¼Ÿ"},docHowToUse:{en:"How to use",zh:"å¦‚ä½•ä½¿ç”¨"},docOnChainFeatures:{en:"On-Chain Features",zh:"é“¾ä¸Šç‰¹æ€§"},confirm:{en:"Confirm",zh:"ç¡®è®¤"},cancel:{en:"Cancel",zh:"å–æ¶ˆ"},close:{en:"Close",zh:"å…³é—­"},continue:{en:"Continue",zh:"ç»§ç»­"},retry:{en:"Retry",zh:"é‡è¯•"},back:{en:"Back",zh:"è¿”å›"},walletRequired:{en:"Wallet Required",zh:"éœ€è¦é’±åŒ…"},walletDescription:{en:"Please connect your wallet to continue.",zh:"è¯·è¿æ¥é’±åŒ…ä»¥ç»§ç»­ã€‚"},connectWallet:{en:"Connect Wallet",zh:"è¿æ¥é’±åŒ…"},wpTitle:{en:"Wallet Required",zh:"éœ€è¦é’±åŒ…"},wpDescription:{en:"Please connect your wallet to continue.",zh:"è¯·è¿æ¥é’±åŒ…ä»¥ç»§ç»­ã€‚"},wpConnect:{en:"Connect Wallet",zh:"è¿æ¥é’±åŒ…"},wpCancel:{en:"Cancel",zh:"å–æ¶ˆ"},success:{en:"Success",zh:"æˆåŠŸ"},failed:{en:"Failed",zh:"å¤±è´¥"},pending:{en:"Pending",zh:"å¤„ç†ä¸­"},completed:{en:"Completed",zh:"å·²å®Œæˆ"},buy:{en:"Buy",zh:"è´­ä¹°"},sell:{en:"Sell",zh:"å‡ºå”®"},swap:{en:"Swap",zh:"äº¤æ¢"},transfer:{en:"Transfer",zh:"è½¬è´¦"},claim:{en:"Claim",zh:"é¢†å–"},enterAmount:{en:"Enter amount",zh:"è¯·è¾“å…¥æ•°é‡"},selectOption:{en:"Select an option",zh:"è¯·é€‰æ‹©"},search:{en:"Search",zh:"æœç´¢"},docBadge:{en:"Documentation",zh:"æ–‡æ¡£"},docFooter:{en:"NeoHub MiniApp Protocol v2.4.0",zh:"NeoHub MiniApp Protocol v2.4.0"}}),re=ie({title:{en:"Red Envelope",zh:"çº¢åŒ…"},subtitle:{en:"Lucky red packets",zh:"å¹¸è¿çº¢åŒ…"},createTab:{en:"Create",zh:"åˆ›å»º"},claimTab:{en:"Claim",zh:"é¢†å–"},createEnvelope:{en:"Create Envelope",zh:"åˆ›å»ºçº¢åŒ…"},namePlaceholder:{en:"Envelope name (optional)",zh:"çº¢åŒ…åç§°ï¼ˆå¯é€‰ï¼‰"},descriptionPlaceholder:{en:"Blessing message",zh:"ç¥ç¦è¯­"},totalGasPlaceholder:{en:"Total GAS",zh:"æ€» GAS"},packetsPlaceholder:{en:"Number of packets",zh:"çº¢åŒ…æ•°é‡"},expiryPlaceholder:{en:"Expiry (hours)",zh:"è¿‡æœŸæ—¶é•¿ (å°æ—¶)"},creating:{en:"Creating...",zh:"åˆ›å»ºä¸­..."},sendRedEnvelope:{en:"Send Red Envelope",zh:"å‘é€çº¢åŒ…"},availableEnvelopes:{en:"Available Envelopes",zh:"å¯ç”¨çº¢åŒ…"},from:{en:"From {0}",zh:"æ¥è‡ª {0}"},fromPrefix:{en:"From",zh:"æ¥è‡ª"},remaining:{en:"{0}/{1} left",zh:"å‰©ä½™ {0}/{1}"},envelopeSent:{en:"Envelope sent!",zh:"çº¢åŒ…å·²å‘é€ï¼"},claimedFrom:{en:"Claimed from {0}!",zh:"å·²é¢†å–æ¥è‡ª {0} çš„çº¢åŒ…ï¼"},congratulations:{en:"Congratulations",zh:"æ­å–œå‘è´¢"},error:{en:"Error",zh:"é”™è¯¯"},docs:{en:"Docs",zh:"æ–‡æ¡£"},connectWallet:{en:"Connect wallet",zh:"è¯·è¿æ¥é’±åŒ…"},contractUnavailable:{en:"Contract unavailable",zh:"åˆçº¦ä¸å¯ç”¨"},receiptMissing:{en:"Payment receipt missing",zh:"æ”¯ä»˜å‡­è¯ç¼ºå¤±"},envelopePending:{en:"Envelope pending on-chain",zh:"çº¢åŒ…åˆ›å»ºç¡®è®¤ä¸­"},claimPending:{en:"Claim pending",zh:"é¢†å–ç¡®è®¤ä¸­"},envelopeNotReady:{en:"Envelope not ready yet",zh:"çº¢åŒ…å°šæœªå‡†å¤‡å¥½"},envelopeExpired:{en:"Envelope expired",zh:"çº¢åŒ…å·²è¿‡æœŸ"},envelopeEmpty:{en:"Envelope is empty",zh:"çº¢åŒ…å·²é¢†å®Œ"},alreadyClaimed:{en:"You already claimed this envelope",zh:"ä½ å·²é¢†å–è¿‡è¯¥çº¢åŒ…"},invalidAmount:{en:"Enter at least 0.1 GAS",zh:"è‡³å°‘ 0.1 GAS"},invalidPackets:{en:"Enter 1-100 packets",zh:"è¯·è¾“å…¥ 1-100 ä¸ªçº¢åŒ…"},invalidPerPacket:{en:"Each packet must be at least 0.01 GAS",zh:"æ¯ä¸ªçº¢åŒ…è‡³å°‘ 0.01 GAS"},invalidExpiry:{en:"Enter a valid expiry in hours",zh:"è¯·è¾“å…¥æœ‰æ•ˆçš„è¿‡æœŸå°æ—¶æ•°"},ready:{en:"Ready",zh:"å¯é¢†å–"},notReady:{en:"Preparing",zh:"å‡†å¤‡ä¸­"},expired:{en:"Expired",zh:"å·²è¿‡æœŸ"},confirm:{en:"Confirm",zh:"ç¡®è®¤"},loadingEnvelopes:{en:"Loading envelopes...",zh:"åŠ è½½çº¢åŒ…ä¸­..."},noEnvelopes:{en:"No envelopes available yet",zh:"æš‚æ— å¯é¢†å–çº¢åŒ…"},bestLuck:{en:"Best Luck",zh:"æ‰‹æ°”æœ€ä½³"},copied:{en:"Link copied!",zh:"é“¾æ¥å·²å¤åˆ¶ï¼"},docSubtitle:{en:"Randomized GAS envelopes for social gifting",zh:"ç¤¾äº¤éšæœº GAS çº¢åŒ…"},docDescription:{en:"Red Envelope lets you send GAS as lucky packets with random distribution. NeoHub RNG ensures fair splits, and recipients claim directly to their wallets until the envelope is empty or expires.",zh:"çº¢åŒ…æ”¯æŒå°† GAS ä»¥éšæœºä»½é¢åˆ†å‘ã€‚NeoHub éšæœºæ•°ä¿è¯å…¬å¹³åˆ†é…ï¼Œæ¥æ”¶è€…å¯ç›´æ¥é¢†å–åˆ°é’±åŒ…ï¼Œç›´åˆ°çº¢åŒ…é¢†å®Œæˆ–è¿‡æœŸã€‚"},step1:{en:"Enter the total GAS and number of packets to create.",zh:"è¾“å…¥è¦åˆ›å»ºçš„æ€» GAS å’Œçº¢åŒ…æ•°é‡ã€‚"},step2:{en:"Click 'Send Red Envelope' to authorize the payment.",zh:"ç‚¹å‡»ã€Œå‘é€çº¢åŒ…ã€æˆæƒæ”¯ä»˜ã€‚"},step3:{en:"Recipients can claim their portion randomly until empty!",zh:"æ¥æ”¶è€…å¯ä»¥éšæœºé¢†å–ä»–ä»¬çš„ä»½é¢ï¼Œç›´åˆ°é¢†å®Œä¸ºæ­¢ï¼"},step4:{en:"Share the envelope ID with friends to let them claim.",zh:"ä¸æœ‹å‹åˆ†äº«çº¢åŒ… ID è®©ä»–ä»¬é¢†å–ã€‚"},feature1Name:{en:"Secure Distribution",zh:"å®‰å…¨åˆ†é…"},feature1Desc:{en:"Random amounts are calculated on-chain/TEE for fairness.",zh:"éšæœºé‡‘é¢åœ¨é“¾ä¸Š/TEE ä¸­è®¡ç®—ä»¥ç¡®ä¿å…¬å¹³ã€‚"},feature2Name:{en:"Instant Claim",zh:"å³æ—¶é¢†å–"},feature2Desc:{en:"GAS is transferred directly to your Neo wallet.",zh:"GAS ç›´æ¥è½¬ç§»åˆ°ä½ çš„ Neo é’±åŒ…ã€‚"},feature3Name:{en:"Shareable Links",zh:"å¯åˆ†äº«é“¾æ¥"},feature3Desc:{en:"Share an envelope ID for friends to claim.",zh:"åˆ†äº«çº¢åŒ… ID è®©å¥½å‹é¢†å–ã€‚"},wrongChain:{en:"Wrong Chain",zh:"é“¾é”™è¯¯"},wrongChainMessage:{en:"This app requires Neo N3. Please switch networks.",zh:"æ­¤åº”ç”¨éœ€è¦ Neo N3 ç½‘ç»œï¼Œè¯·åˆ‡æ¢ç½‘ç»œã€‚"},switchToNeo:{en:"Switch to Neo N3",zh:"åˆ‡æ¢åˆ° Neo N3"},defaultBlessing:{en:"Best Wishes",zh:"å¤§å‰å¤§åˆ©"},open:{en:"Open",zh:"æ‰“å¼€"},fromLabel:{en:"From {name}",zh:"æ¥è‡ª {name}"},luckyPacket:{en:"Lucky Packet",zh:"å¹¸è¿çº¢åŒ…"},connectAndOpen:{en:"Connect Wallet & Open",zh:"è¿æ¥é’±åŒ…å¹¶æ‰“å¼€"},opening:{en:"Opening...",zh:"å¼€å¯ä¸­..."},openNow:{en:"Open Now",zh:"ç«‹å³æ‰“å¼€"},wpTitle:{en:"Wallet Required",zh:"éœ€è¦é’±åŒ…"},wpDescription:{en:"Please connect your wallet to continue.",zh:"è¯·è¿æ¥é’±åŒ…ä»¥ç»§ç»­ã€‚"},wpConnect:{en:"Connect Wallet",zh:"è¿æ¥é’±åŒ…"},wpCancel:{en:"Cancel",zh:"å–æ¶ˆ"},docWhatItIs:{en:"What is it?",zh:"è¿™æ˜¯ä»€ä¹ˆï¼Ÿ"},docHowToUse:{en:"How to use",zh:"å¦‚ä½•ä½¿ç”¨"},docOnChainFeatures:{en:"On-Chain Features",zh:"é“¾ä¸Šç‰¹æ€§"}});function se(e){return function(e){const n=Number("bigint"==typeof e?e:e??0);return Number.isFinite(n)?n/1e8:0}(e)}function ce(e){return function(e,n){if(!Number.isFinite(n)||n<0)return"0";const t=String(e).trim();if(!t||t.startsWith("-"))return"0";const a=t.split(".");if(a.length>2)return"0";const o=a[0]||"0",i=a[1]||"";return!/^\d+$/.test(o)||i&&!/^\d+$/.test(i)?"0":`${o}${(i+"0".repeat(n)).slice(0,n)}`.replace(/^0+/,"")||"0"}(e,8)}function ue(e,n=6,t=4){const a=String(e||"").trim();return a?a.length<=n+t+3?a:`${a.slice(0,n)}...${a.slice(-t)}`:""}function de(e){if(null==e)return null;if("object"==typeof e&&"type"in e){const n=e;switch(n.type){case"ByteArray":case"Buffer":case"InteropInterface":default:return n.value;case"Integer":return"string"==typeof n.value?n.value.startsWith("0x")?BigInt(n.value).toString():parseInt(n.value,10):Number(n.value);case"Array":case"Struct":return Array.isArray(n.value)?n.value.map(de):n.value;case"Map":if(Array.isArray(n.value)){const e=new Map;for(const t of n.value)Array.isArray(t)&&2===t.length&&e.set(de(t[0]),de(t[1]));return Object.fromEntries(e)}return n.value;case"Boolean":return Boolean(n.value);case"String":case"Hash160":case"Hash256":return String(n.value)}}return Array.isArray(e)?e.map(de):e}async function pe(e,n,t){const{timeoutMs:a=3e4,pollIntervalMs:o=1500,errorMessage:i="Event not found in time"}=t||{},l=Date.now();for(;Date.now()-l<a;){const t=(await e()).find(n);if(t)return t;await new Promise(e=>setTimeout(e,o))}throw new Error(i)}const ve=(e,n)=>{const t=e.__vccOpts||e;for(const[a,o]of n)t[a]=o;return t},fe=ve(o({__name:"AppIcon",props:{name:{},size:{default:20},label:{},decorative:{type:Boolean,default:!0}},setup(e){const n=e,a={home:"ğŸ ",settings:"âš™ï¸",user:"ğŸ‘¤",wallet:"ğŸ’¼",book:"ğŸ“–",trophy:"ğŸ†",star:"â­",heart:"â¤ï¸",check:"âœ“",clock:"ğŸ•",plus:"â•",add:"â•",close:"âœ•",x:"âœ•",menu:"â˜°",trending:"ğŸ“ˆ",chart:"ğŸ“Š",calendar:"ğŸ“…",search:"ğŸ”",filter:"ğŸ”½",edit:"âœï¸",delete:"ğŸ—‘ï¸",copy:"ğŸ“‹",share:"ğŸ“¤",download:"â¬‡ï¸",upload:"â¬†ï¸",success:"âœ“",error:"âœ•",warning:"âš ï¸",info:"â„¹ï¸",loading:"â³",neo:"ğŸ’",gas:"â›½",contract:"ğŸ“œ",chain:"â›“ï¸",block:"ğŸ§±",helpful:"ğŸ¤",generous:"ğŸ",verified:"âœ“",contributor:"â­",champion:"ğŸ†",legend:"ğŸ‘‘",game:"ğŸ®",stats:"ğŸ“Š",docs:"ğŸ“„",about:"â„¹ï¸",contact:"âœ‰ï¸"},o={logout:"â†ª",back:"â†",forward:"â†’",arrowUp:"â†‘",arrowDown:"â†“",arrowLeft:"â†",arrowRight:"â†’",refresh:"â†»"},h=i(()=>{if(!n.label)return n.decorative?"true":void 0}),w=i(()=>n.decorative?"presentation":void 0),m=i(()=>n.label?n.label:n.decorative?void 0:`${n.name} icon`),g=i(()=>n.size<=16?"icon-sm":n.size<=20?"icon-md":n.size<=24?"icon-lg":"icon-xl"),y=i(()=>{if(!g.value||"icon-md"===g.value)return{};const e=n.size;return{width:`${e}px`,height:`${e}px`,fontSize:.6*e+"px"}}),b=i(()=>a[n.name]),_=i(()=>o[n.name]);return t(()=>{const e=n.name in a,t=n.name in o;e||t||console.warn(`[AppIcon] Unknown icon name "${n.name}". Using fallback (first letter). Available icons: ${[...Object.keys(a),...Object.keys(o)].sort().join(", ")}`)}),(e,n)=>{const t=p,a=s;return l(),r(a,{class:u(["app-icon",`icon-${e.name}`,g.value]),style:c(y.value),"aria-hidden":h.value,"aria-label":m.value,role:w.value},{default:d(()=>[b.value?(l(),r(t,{key:0,class:"icon-emoji","aria-hidden":!0},{default:d(()=>[v(f(b.value),1)]),_:1})):_.value?(l(),r(t,{key:1,class:"icon-text","aria-hidden":!0},{default:d(()=>[v(f(_.value),1)]),_:1})):(l(),r(t,{key:2,class:"icon-fallback","aria-label":`Icon: ${e.name}`},{default:d(()=>[v(f(e.name.charAt(0).toUpperCase()),1)]),_:1},8,["aria-label"]))]),_:1},8,["class","style","aria-hidden","aria-label","role"])}}}),[["__scopeId","data-v-108e0d9d"]]),he=ve(o({__name:"NavBar",props:{tabs:{},activeTab:{}},emits:["change"],setup(e,{emit:n}){const a=e,o=n,i=e=>{o("change",e)};return t(()=>{if(!a.tabs||0===a.tabs.length)return void console.warn("[NavBar] No tabs provided - navigation will be empty");a.tabs.some((e,n)=>a.tabs.findIndex(n=>n.id===e.id)!==n)&&console.error("[NavBar] Duplicate tab IDs detected - navigation may not work correctly");!a.tabs.some(e=>e.id===a.activeTab)&&a.activeTab&&console.warn(`[NavBar] Active tab "${a.activeTab}" not found in tabs array. Available tabs: ${a.tabs.map(e=>e.id).join(", ")}`)}),(e,n)=>{const t=s,a=p;return l(),r(t,{class:"navbar",role:"navigation","aria-label":"Bottom navigation"},{default:d(()=>[(l(!0),h(m,null,w(e.tabs,n=>(l(),r(t,{key:n.id,class:u(["nav-item",e.activeTab===n.id&&"active"]),role:"menuitem",tabindex:e.activeTab===n.id?0:-1,"aria-label":n.label,"aria-selected":e.activeTab===n.id,onClick:e=>i(n.id),onKeydown:[g(e=>i(n.id),["enter"]),g(y(e=>i(n.id),["prevent"]),["space"])]},{default:d(()=>[b(t,{class:"nav-icon","aria-hidden":"true"},{default:d(()=>[b(fe,{name:n.icon,size:22},null,8,["name"])]),_:2},1024),b(a,{class:"nav-label"},{default:d(()=>[v(f(n.label),1)]),_:2},1024)]),_:2},1032,["class","tabindex","aria-label","aria-selected","onClick","onKeydown"]))),128))]),_:1})}}}),[["__scopeId","data-v-80051b5c"]]),we=ve(o({__name:"TopNavBar",props:{title:{},showBack:{type:Boolean}},emits:["back"],setup:e=>(e,n)=>{const t=s,a=p;return l(),r(t,{class:"top-navbar"},{default:d(()=>[b(t,{class:"nav-left"},{default:d(()=>[e.showBack?(l(),r(t,{key:0,class:"nav-btn",onClick:n[0]||(n[0]=n=>e.$emit("back"))},{default:d(()=>[b(fe,{name:"arrow-left",size:20})]),_:1})):_("",!0)]),_:1}),b(t,{class:"nav-center"},{default:d(()=>[b(a,{class:"nav-title"},{default:d(()=>[v(f(e.title),1)]),_:1})]),_:1}),b(t,{class:"nav-right"},{default:d(()=>[k(e.$slots,"right",{},void 0,!0)]),_:3})]),_:3})}}),[["__scopeId","data-v-58bca89c"]]),me=ve(o({__name:"AppLayout",props:{title:{default:""},showTopNav:{type:Boolean,default:!1},showBack:{type:Boolean,default:!1},tabs:{default:()=>[]},activeTab:{default:""},allowScroll:{type:Boolean,default:!0},theme:{default:""}},emits:["back","tab-change"],setup(e,{emit:n}){const a="undefined"!=typeof window&&"1"===new URLSearchParams(window.location.search).get("embedded"),o=e,c=n,p=i(()=>o.activeTab||""),v=()=>{c("back");const e=A();e&&e.length>1&&E({delta:1})};return t(()=>{if(o.tabs&&o.tabs.length>0&&o.activeTab){o.tabs.some(e=>e.id===o.activeTab)||console.warn(`[AppLayout] Active tab "${o.activeTab}" not found in tabs array. Available tabs: ${o.tabs.map(e=>e.id).join(", ")}`)}a&&console.log("[AppLayout] Running in embedded mode")}),(e,n)=>{const t=s;return l(),r(t,{class:u(["mobile-container",C(a)&&"embedded"])},{default:d(()=>[b(t,{class:"aspect-wrapper"},{default:d(()=>[b(t,{class:"app-layout",role:"application","aria-label":"Application layout"},{default:d(()=>[e.showTopNav?(l(),r(we,{key:0,title:e.title??"","show-back":e.showBack,onBack:v},null,8,["title","show-back"])):_("",!0),b(t,{class:u(["app-content",!e.allowScroll&&"no-scroll"]),tabindex:e.allowScroll?-1:0},{default:d(()=>[k(e.$slots,"default",{},void 0,!0)]),_:3},8,["class","tabindex"]),e.tabs&&e.tabs.length>0?(l(),r(he,{key:1,tabs:e.tabs,"active-tab":p.value,onChange:n[0]||(n[0]=n=>e.$emit("tab-change",n))},null,8,["tabs","active-tab"])):_("",!0)]),_:3})]),_:3})]),_:3},8,["class"])}}}),[["__scopeId","data-v-636fa10f"]]),ge=5e3,ye=1e4,be=100,_e=["https://neomini.app","https://miniapp.neo.org","https://testnet.miniapp.neo.org"];const ke=new class{constructor(){this.dynamicOrigins=new Set,this.baseOrigins=new Set([..._e])}getSelfOrigin(){if("undefined"==typeof window)return null;try{const e=new URL(window.location.href);if("null"===e.origin)return null;if("http:"===e.protocol||"https:"===e.protocol)return e.origin}catch{}return null}getReferrerOrigin(){if("undefined"==typeof document||!document.referrer)return null;try{return new URL(document.referrer).origin}catch{return null}}getAllowedOrigins(){const e=new Set(this.baseOrigins);this.dynamicOrigins.forEach(n=>e.add(n));const n=this.getReferrerOrigin();n&&this.baseOrigins.has(n)&&e.add(n);const t=this.getSelfOrigin();if(t&&e.add(t),"undefined"!=typeof window){const n=window.location.hostname;"localhost"!==n&&"127.0.0.1"!==n||e.add(window.location.origin)}return e}isValid(e){return!(!e||"null"===e)&&this.getAllowedOrigins().has(e)}getTargetOrigin(){var e;const n=this.getReferrerOrigin();if(n&&this.baseOrigins.has(n))return n;try{if("undefined"!=typeof window&&window.parent!==window&&(null==(e=window.location.ancestorOrigins)?void 0:e.length)>0){const e=window.location.ancestorOrigins[0];if(this.baseOrigins.has(e))return e}}catch{}const t=this.getSelfOrigin();if(t)return t;if("undefined"!=typeof window){const e=window.location.hostname;if("localhost"===e||"127.0.0.1"===e)return window.location.origin}throw new Error("Cannot determine safe target origin - no valid origin found")}getSafeTargetOrigin(){try{const e=this.getTargetOrigin();if(e&&"null"!==e)return e}catch{}if("undefined"!=typeof window&&window.parent!==window){const e=window.__MINIAPP_PARENT_ORIGIN__;if("string"==typeof e&&e&&this.baseOrigins.has(e))return e;throw new Error("Cannot communicate securely with parent - origin unknown. Ensure host app sets __MINIAPP_PARENT_ORIGIN__ or uses a supported browser.")}throw new Error("Cannot determine safe target origin - origin is null or undefined")}addDynamicOrigin(e){e&&"null"!==e&&this.dynamicOrigins.add(e)}};let Ce=null;function Ae(e){const n=null==e?void 0:e.layout;if("web"===n||"mobile"===n)return n;if("undefined"!=typeof window){const e=new URLSearchParams(window.location.search).get("layout");if("web"===e||"mobile"===e)return e;if(window.ReactNativeWebView)return"mobile"}return"web"}function Ee(e){if(!e||"object"!=typeof e)return!1;const n="function"==typeof e.invoke&&"function"==typeof e.getConfig,t="object"==typeof e.wallet||"object"==typeof e.payments;return n||t}function Se(e=ge){return new Promise((n,t)=>{if("undefined"==typeof window)return void t(new Error("SDK not available in SSR"));if(window.MiniAppSDK)return Ee(window.MiniAppSDK)?void n(window.MiniAppSDK):void t(new Error("SDK validation failed"));const a=setTimeout(()=>{if(window.removeEventListener("miniapp-sdk-ready",o),window.parent!==window){const e=function(){const e=ke.getSafeTargetOrigin();let n=0;const t=(t,...a)=>new Promise((o,i)=>{const l=`sdk-${++n}-${Date.now()}-${Math.random().toString(36).slice(2,8)}`,r=setTimeout(()=>{window.removeEventListener("message",s),i(new Error("SDK invoke timeout"))},ye),s=e=>{var n,t;ke.isValid(e.origin)&&e.source===window.parent&&"miniapp_sdk_response"===(null==(n=e.data)?void 0:n.type)&&(null==(t=e.data)?void 0:t.id)===l&&(clearTimeout(r),window.removeEventListener("message",s),e.data.ok?o(e.data.result):i(new Error(e.data.error||"SDK call failed")))};window.addEventListener("message",s),window.parent.postMessage({type:"miniapp_sdk_request",id:l,method:t,params:a},e)});return{invoke:t,getConfig:()=>Ce?{...Ce,layout:Ae(Ce)}:"undefined"!=typeof window&&window.__MINIAPP_CONFIG__?(Ce=window.__MINIAPP_CONFIG__,{...Ce,layout:Ae(Ce??void 0)}):{appId:"",contractAddress:null,chainId:null,chainType:void 0,supportedChains:[],layout:Ae(),debug:!1},getAddress:()=>t("getAddress"),wallet:{getAddress:()=>t("wallet.getAddress"),switchChain:e=>t("wallet.switchChain",e),invokeIntent:e=>t("wallet.invokeIntent",e),signMessage:e=>t("wallet.signMessage",e)},payments:{payGAS:(e,n,a)=>t("payments.payGAS",e,n,a),payGASAndInvoke:(e,n,a)=>t("payments.payGASAndInvoke",e,n,a)},governance:{vote:(e,n,a,o)=>t("governance.vote",e,n,a,o),voteAndInvoke:(e,n,a,o)=>t("governance.voteAndInvoke",e,n,a,o),getCandidates:()=>t("governance.getCandidates")},rng:{requestRandom:e=>t("rng.requestRandom",e)},datafeed:{getPrice:e=>t("datafeed.getPrice",e),getPrices:()=>t("datafeed.getPrices"),getNetworkStats:()=>t("datafeed.getNetworkStats"),getRecentTransactions:e=>t("datafeed.getRecentTransactions",e)},stats:{getMyUsage:(e,n)=>t("stats.getMyUsage",e,n)},events:{list:e=>t("events.list",e),emit:(e,n)=>t("events.emit",e,n)},transactions:{list:e=>t("transactions.list",e)},automation:{register:(e,n,a,o)=>t("automation.register",e,n,a,o),unregister:e=>t("automation.unregister",e),status:e=>t("automation.status",e),list:()=>t("automation.list"),update:(e,n,a)=>t("automation.update",e,n,a),enable:e=>t("automation.enable",e),disable:e=>t("automation.disable",e),logs:(e,n)=>t("automation.logs",e,n)},share:{openModal:e=>t("share.openModal",e),getUrl:e=>t("share.getUrl",e),copy:e=>t("share.copy",e)}}}();window.MiniAppSDK=e,e.invoke("getConfig").then(e=>{e&&"object"==typeof e&&(Ce=e)}).catch(()=>{}),n(e)}else t(new Error("SDK timeout"))},e),o=()=>{if(clearTimeout(a),window.removeEventListener("miniapp-sdk-ready",o),window.MiniAppSDK){if(!Ee(window.MiniAppSDK))return void t(new Error("SDK validation failed"));n(window.MiniAppSDK)}else t(new Error("SDK not found"))};window.addEventListener("miniapp-sdk-ready",o)})}function Ie(){return"undefined"==typeof window?null:window.MiniAppSDK??null}const ze=new Set;let Te={connected:!1,address:null,balance:null},Ne=null,xe=!1;function Me(n){const t=e(!1),a=e(null);return{isLoading:t,error:a,execute:async(...e)=>{t.value=!0,a.value=null;try{return await n(...e)}catch(o){throw a.value=o,o}finally{t.value=!1}}}}"undefined"!=typeof window&&("undefined"!=typeof window&&(xe&&Ne||(Ne=e=>{if(e.source!==window.parent)return;if(!ke.isValid(e.origin))return;const n=e.data;n&&"object"==typeof n&&("miniapp_config"!==n.type?"miniapp_wallet_state_change"===n.type&&(Te={connected:Boolean(n.connected),address:n.address||null,chainId:n.chainId??null,chainType:n.chainType??null,balance:n.balance||n.multiChainBalance||null,balances:n.balances||void 0},ze.forEach(e=>{try{e(Te)}catch(n){console.error("[MiniApp SDK] Wallet state listener error:",n)}})):n.config&&"object"==typeof n.config&&(Ce=n.config))},window.addEventListener("message",Ne),xe=!0)),setTimeout(function(){if("undefined"==typeof window)return;const e=ke.getSafeTargetOrigin();try{window.parent.postMessage({type:"miniapp_ready"},e)}catch{}},be));const Pe={maxRetries:3,baseDelayMs:1e3,maxDelayMs:1e4};function De(e,n){return Math.min(n.baseDelayMs*Math.pow(2,e),n.maxDelayMs)*(.75+.5*Math.random())}function Oe(e,n){if(e instanceof Error){const n=e.message.toLowerCase();return n.includes("network")||n.includes("timeout")||n.includes("abort")}return!1}async function Le(e,t){var a;if("undefined"!=typeof uni&&"function"==typeof n)return new Promise((a,o)=>{const i=(e=>{if(e){if(e instanceof Headers){const n={};return e.forEach((e,t)=>{n[t]=e}),n}return Array.isArray(e)?Object.fromEntries(e):e}})(t.headers),l=String((null==i?void 0:i["Content-Type"])||(null==i?void 0:i["content-type"])||"");let r=t.body;if("string"==typeof r&&l.includes("application/json"))try{r=JSON.parse(r)}catch{}n({url:e,method:t.method||"GET",data:r,header:i,success:e=>{var n,t;if((e.statusCode??0)>=200&&(e.statusCode??0)<300)a(e.data);else{const a=(null==(t=null==(n=e.data)?void 0:n.error)?void 0:t.message)||`Request failed: ${e.statusCode}`;o(new Error(a))}},fail:e=>{o(new Error(e.errMsg||"Network error"))}})});const o=await fetch(e,{credentials:"include",...t});if(!o.ok){const n=await o.json().catch(()=>({}));throw new Error((null==(a=n.error)?void 0:a.message)||`Request failed: ${e}`)}return o.json()}async function Re(e){return async function(e,n={}){var t,a;const o=e.startsWith("http")?e:`https://api.neo-service-layer.io${e}`,i={...Pe,...n.retryConfig};let l=null;for(let s=0;s<=i.maxRetries;s++){if(null==(t=n.signal)?void 0:t.aborted)throw new Error("Request cancelled");try{return await Le(o,n)}catch(r){if(l=r instanceof Error?r:new Error(String(r)),null==(a=n.signal)?void 0:a.aborted)throw l;if(s>=i.maxRetries)break;if(!Oe(r))break;const e=De(s,i);await new Promise(n=>setTimeout(n,e))}}throw l||new Error("Request failed")}(e,{method:"GET"})}let $e=null,Be=null;function Ge(){const n=e(null),o=e({}),i=e(null),l=e(null),r=e(null),s=e([]),c=e(!1),u=e(!1),d=e(null),p=e(!1),v=e(null),f=e=>{e.connected&&e.address?(n.value=e.address,c.value=!0):(n.value=null,c.value=!1),i.value=e.chainId??null,l.value=e.chainType??null,o.value=(e=>{if(!e)return{};if(e.balances&&Object.keys(e.balances).length>0)return{...e.balances};if(e.balance){const n={};return n[e.balance.nativeSymbol||("neo-n3"===e.chainType?"GAS":"NATIVE")]=e.balance.native||"0",(e.balance.governance||e.balance.governanceSymbol)&&(n[e.balance.governanceSymbol||("neo-n3"===e.chainType?"NEO":"GOV")]=e.balance.governance||"0"),n}return{}})(e)},h=e=>{e&&(r.value=e.chainId??null,s.value=Array.isArray(e.supportedChains)?e.supportedChains:[])},w=async()=>{var e;const n=await Se(),t=null==(e=n.getConfig)?void 0:e.call(n);return h(t),t},m=async e=>{const n=await Se();if(!n.wallet.switchChain)throw new Error("switchChain not supported by SDK");await n.wallet.switchChain(e),i.value=e};let g=null;return t(()=>{var e;f(Te),e=e=>{f(e)},ze.add(e),e(Te),g=()=>ze.delete(e);const t=Ie();if((null==t?void 0:t.getConfig)&&h(t.getConfig()),t&&!c.value){const e=c.value,a=a=>{var o;if(!e&&!c.value){n.value=a,c.value=!0;const e=null==(o=t.getConfig)?void 0:o.call(t);i.value=(null==e?void 0:e.chainId)??null,l.value=(null==e?void 0:e.chainType)??null,h(e)}};Be?a(Be):($e||($e=t.wallet.getAddress().then(e=>(Be=e,e))),$e.then(e=>a(e)).catch(e=>{$e=null,console.debug("[MiniApp SDK] Fallback wallet connection failed:",(null==e?void 0:e.message)||e)}))}Se().then(e=>{var n;return h(null==(n=e.getConfig)?void 0:n.call(e))}).catch(()=>{})}),a(()=>{g&&g()}),{address:n,chainId:i,chainType:l,appChainId:r,supportedChains:s,balances:o,isConnected:c,isLoading:u,error:d,showConnectionPrompt:p,connectionPromptMessage:v,connect:async()=>{var e;u.value=!0,d.value=null;try{const t=await Se();n.value=await t.wallet.getAddress(),c.value=!0;const a=null==(e=t.getConfig)?void 0:e.call(t);i.value=(null==a?void 0:a.chainId)??null,l.value=(null==a?void 0:a.chainType)??null,h(a)}catch(t){d.value=t}finally{u.value=!1}},invokeIntent:async e=>{var n;const t=Ie();if(!(null==(n=null==t?void 0:t.wallet)?void 0:n.invokeIntent))throw new Error("invokeIntent not available");return t.wallet.invokeIntent(e)},invokeContract:async e=>{var n;const t=await Se(),a=null==(n=t.getConfig)?void 0:n.call(t),o=e.contractAddress||e.scriptHash||e.contractHash,i=e.method||e.operation;if(!o||!i)throw new Error("contract address and method required");return t.invoke("invokeFunction",{contract:o,method:i,args:e.args,chainId:null==a?void 0:a.chainId,chainType:null==a?void 0:a.chainType})},invokeRead:async e=>{var n;const t=await Se(),a=null==(n=t.getConfig)?void 0:n.call(t),o=e.contractAddress||e.scriptHash||e.contractHash||(null==a?void 0:a.contractAddress),i=e.method||e.operation;if(!o)throw new Error("contract address not configured");if(!i)throw new Error("method required");return t.invoke("invokeRead",{contract:o,method:i,args:e.args||[],chainId:e.chainId||(null==a?void 0:a.chainId),chainType:e.chainType||(null==a?void 0:a.chainType)})},getContractAddress:async()=>{var e,n,t,a,o;const i=await Se(),l=null==(e=i.getConfig)?void 0:e.call(i);if(null==l?void 0:l.contractAddress)return l.contractAddress;if((null==l?void 0:l.chainId)&&(null==(t=null==(n=null==l?void 0:l.chainContracts)?void 0:n[l.chainId])?void 0:t.address))return l.chainContracts[l.chainId].address||null;if(i.invoke)try{const e=await i.invoke("getConfig");if(null==e?void 0:e.contractAddress)return e.contractAddress;if((null==e?void 0:e.chainId)&&(null==(o=null==(a=null==e?void 0:e.chainContracts)?void 0:a[e.chainId])?void 0:o.address))return e.chainContracts[e.chainId].address||null}catch{}return null},getAppConfig:w,getAddress:async()=>(await Se()).wallet.getAddress(),signMessage:async e=>{var n;const t=await Se();if(!(null==(n=t.wallet)?void 0:n.signMessage))throw new Error("signMessage not available");return t.wallet.signMessage(e)},switchChain:m,switchToAppChain:async e=>{const n=await w(),t=(null==n?void 0:n.chainId)||(Array.isArray(null==n?void 0:n.supportedChains)&&n.supportedChains.length>0?n.supportedChains[0]:null)||e||null;if(!t)throw new Error("app chain not configured");await m(t)},getBalance:async e=>{var n;u.value=!0,d.value=null;try{const t=await Se(),a=null==(n=t.getConfig)?void 0:n.call(t),l=(null==a?void 0:a.chainId)||i.value,r=l?`?chain_id=${encodeURIComponent(l)}`:"",s=await Re(`/wallet-balance${r}`),c=(null==s?void 0:s.balances)??{};return o.value=c,e?c[e]||"0":c}catch(t){throw d.value=t,t}finally{u.value=!1}},getTransactions:async(e=20)=>{var n;u.value=!0,d.value=null;try{const t=Number.isNaN(e)||e<1?20:Math.min(e,100),a=await Se(),o=null==(n=a.getConfig)?void 0:n.call(a),l=(null==o?void 0:o.chainId)||i.value,r=new URLSearchParams({limit:String(t)});l&&r.set("chain_id",l);return(await Re(`/wallet-transactions?${r.toString()}`)).transactions}catch(t){throw d.value=t,t}finally{u.value=!1}},invoke:async(e,n)=>(await Se()).invoke(e,n),requireConnection:(e={})=>{const{showPrompt:n=!0,errorMessage:t}=e;return!!c.value||(n&&(v.value=t||null,p.value=!0),!1)},closeConnectionPrompt:()=>{p.value=!1,v.value=null},clearError:()=>{d.value=null}}}e("en");const Ue=ve(o({__name:"ChainWarning",props:{title:{default:"Wrong Network"},message:{default:"Switch to Neo N3 Mainnet to continue."},buttonText:{default:"Switch Network"},show:{type:Boolean,default:void 0}},emits:["switch","switch-complete","switch-error"],setup(n,{emit:t}){const a=n,o=t,{showWarning:c,switchToAppChain:u}=function(){const{switchToAppChain:e}=Ge();return{showWarning:i(()=>!1),switchToAppChain:async()=>{try{await e()}catch(n){throw console.error("[useChainValidation] Failed to switch chain:",n),n}}}}(),h=e(!1),w=i(()=>void 0!==a.show?a.show:c.value),m=async()=>{if(!h.value){h.value=!0,o("switch");try{await u(),o("switch-complete")}catch(e){const n=e instanceof Error?e:new Error(String(e));o("switch-error",n),console.error("[ChainWarning] Failed to switch chain:",n)}finally{h.value=!1}}};return(e,n)=>{const t=p,a=s;return w.value?(l(),r(a,{key:0,class:"chain-warning px-4 mb-4"},{default:d(()=>[b(C(Ke),{variant:"danger"},{default:d(()=>[b(a,{class:"flex flex-col items-center gap-2 py-1"},{default:d(()=>[b(t,{class:"text-center font-bold text-red-400"},{default:d(()=>[v(f(e.title),1)]),_:1}),e.message?(l(),r(t,{key:0,class:"text-xs text-center opacity-80 text-white"},{default:d(()=>[v(f(e.message),1)]),_:1})):_("",!0),b(C(We),{size:"sm",variant:"secondary",class:"mt-2",loading:h.value,onClick:m},{default:d(()=>[v(f(e.buttonText),1)]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1})):_("",!0)}}}),[["__scopeId","data-v-3dc811c7"]]),He=ve(o({__name:"DesktopLayout",props:{title:{default:""},tabs:{default:()=>[]},activeTab:{default:""},allowScroll:{type:Boolean,default:!0},theme:{default:""}},emits:["tab-change"],setup(e,{emit:n}){const t=e,a=n,o=i(()=>t.theme?`theme-${t.theme}`:""),c=e=>{a("tab-change",e)};return(()=>{if(!t.tabs||0===t.tabs.length)return console.warn("[DesktopLayout] No tabs provided - navigation will be hidden"),!1;!t.tabs.some((e,n)=>t.tabs.findIndex(n=>n.id===e.id)!==n)||console.error("[DesktopLayout] Duplicate tab IDs detected - navigation may not work correctly")})(),(e,n)=>{const t=p,a=s;return l(),r(a,{class:u(["desktop-container",o.value])},{default:d(()=>[b(a,{class:"sidebar",role:"navigation","aria-label":"Main navigation"},{default:d(()=>[b(a,{class:"sidebar-header"},{default:d(()=>[b(t,{class:"brand-name"},{default:d(()=>[v("NeoHub")]),_:1}),b(t,{class:"brand-tagline"},{default:d(()=>[v("Miniapps")]),_:1})]),_:1}),b(a,{class:"sidebar-nav",role:"menubar","aria-label":"Navigation menu"},{default:d(()=>[(l(!0),h(m,null,w(e.tabs,n=>(l(),r(a,{key:n.id,class:u(["nav-item",e.activeTab===n.id&&"active"]),role:"menuitem",tabindex:e.activeTab===n.id?0:-1,"aria-label":n.label,"aria-current":e.activeTab===n.id?"page":void 0,onClick:e=>c(n.id),onKeydown:[g(e=>c(n.id),["enter"]),g(y(e=>c(n.id),["prevent"]),["space"])]},{default:d(()=>[b(a,{class:"nav-icon-wrapper"},{default:d(()=>[b(fe,{name:n.icon,size:20},null,8,["name"])]),_:2},1024),b(t,{class:"nav-label"},{default:d(()=>[v(f(n.label),1)]),_:2},1024),e.activeTab===n.id?(l(),r(a,{key:0,class:"nav-indicator","aria-hidden":"true"})):_("",!0)]),_:2},1032,["class","tabindex","aria-label","aria-current","onClick","onKeydown"]))),128))]),_:1}),b(a,{class:"sidebar-footer"},{default:d(()=>[b(a,{class:"footer-status",role:"status","aria-live":"polite"},{default:d(()=>[b(a,{class:"status-dot online","aria-hidden":"true"}),b(t,{class:"status-text"},{default:d(()=>[v("Connected")]),_:1})]),_:1})]),_:1})]),_:1}),b(a,{class:"main-content-wrapper",role:"main"},{default:d(()=>[b(a,{class:"top-bar"},{default:d(()=>[b(a,{class:"top-bar-left"},{default:d(()=>[e.title?(l(),r(t,{key:0,class:"page-title"},{default:d(()=>[v(f(e.title),1)]),_:1})):_("",!0)]),_:1}),b(a,{class:"top-bar-right"},{default:d(()=>[k(e.$slots,"top-bar-actions",{},void 0,!0)]),_:3})]),_:3}),b(a,{class:u(["content-area",!e.allowScroll&&"no-scroll"]),tabindex:e.allowScroll?-1:0},{default:d(()=>[k(e.$slots,"default",{},void 0,!0)]),_:3},8,["class","tabindex"])]),_:3})]),_:3},8,["class"])}}}),[["__scopeId","data-v-e3550c9f"]]),Fe=o({__name:"ResponsiveLayout",props:{title:{default:""},tabs:{default:()=>[]},activeTab:{default:""},allowScroll:{type:Boolean,default:!0},theme:{default:""},showTopNav:{type:Boolean,default:!1},showBack:{type:Boolean,default:!1},desktopBreakpoint:{default:1024}},emits:["back","tab-change"],setup(n,{emit:o}){const s=n,c=e(!1),u=e(!1),p=()=>{if(!u.value)return;const e=window.innerWidth;c.value=e>=s.desktopBreakpoint};let v;const f=()=>{clearTimeout(v),v=window.setTimeout(()=>{p()},150)},h=i(()=>c.value?He:me);return S(c,(e,n)=>{n!==e&&u.value&&console.log(`[ResponsiveLayout] Layout mode changed: ${e?"desktop":"mobile"} (${window.innerWidth}px)`)}),t(()=>{u.value="undefined"!=typeof window,u.value&&(p(),window.addEventListener("resize",f))}),a(()=>{u.value&&(window.removeEventListener("resize",f),clearTimeout(v))}),(e,n)=>(l(),r(I(h.value),{title:e.title,tabs:e.tabs,"active-tab":e.activeTab,"allow-scroll":e.allowScroll,theme:e.theme,"show-top-nav":e.showTopNav,"show-back":e.showBack,onTabChange:n[0]||(n[0]=n=>e.$emit("tab-change",n)),onBack:n[1]||(n[1]=n=>e.$emit("back"))},{"top-bar-actions":d(()=>[k(e.$slots,"top-bar-actions")]),default:d(()=>[k(e.$slots,"default")]),_:3},40,["title","tabs","active-tab","allow-scroll","theme","show-top-nav","show-back"]))}}),Ke=ve(o({__name:"NeoCard",props:{title:{default:void 0},variant:{default:"default"},hoverable:{type:Boolean,default:!1},flat:{type:Boolean,default:!1}},emits:["click"],setup:e=>(e,n)=>{const t=p,a=s;return l(),r(a,{class:u(["neo-card",`neo-card--${e.variant}`,{"neo-card--hoverable":e.hoverable,"neo-card--flat":e.flat}]),onClick:n[0]||(n[0]=n=>e.hoverable&&e.$emit("click",n))},{default:d(()=>[e.title||e.$slots.header?(l(),r(a,{key:0,class:"neo-card__header"},{default:d(()=>[e.title?(l(),r(t,{key:0,class:"neo-card__title"},{default:d(()=>[v(f(e.title),1)]),_:1})):_("",!0),k(e.$slots,"header",{},void 0,!0)]),_:3})):_("",!0),b(a,{class:"neo-card__body"},{default:d(()=>[k(e.$slots,"default",{},void 0,!0)]),_:3}),e.$slots.footer?(l(),r(a,{key:1,class:"neo-card__footer"},{default:d(()=>[k(e.$slots,"footer",{},void 0,!0)]),_:3})):_("",!0)]),_:3},8,["class"])}}),[["__scopeId","data-v-8c9297aa"]]),We=ve(o({__name:"NeoButton",props:{variant:{default:"primary"},size:{default:"md"},block:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},ariaLabel:{default:void 0}},emits:["click"],setup:e=>(e,n)=>{const t=s,a=z;return l(),r(a,{class:u(["neo-btn",`neo-btn--${e.variant}`,`neo-btn--${e.size}`,{"neo-btn--block":e.block,"neo-btn--loading":e.loading}]),disabled:e.disabled||e.loading,"aria-busy":e.loading,"aria-disabled":e.disabled||e.loading,"aria-label":e.ariaLabel,onClick:n[0]||(n[0]=n=>e.$emit("click",n))},{default:d(()=>[e.loading?(l(),r(t,{key:0,class:"neo-btn__spinner"})):k(e.$slots,"default",{key:1},void 0,!0)]),_:3},8,["class","disabled","aria-busy","aria-disabled","aria-label"])}}),[["__scopeId","data-v-d9647ea1"]]),je=ve(o({__name:"NeoInput",props:{modelValue:{},type:{},label:{},placeholder:{},suffix:{},suffixIcon:{},hint:{},error:{},disabled:{type:Boolean}},emits:["update:modelValue","focus","blur"],setup:e=>(e,n)=>{const t=p,a=T,o=N,i=s;return l(),r(i,{class:u(["neo-input",{"neo-input--error":e.error,"neo-input--disabled":e.disabled}])},{default:d(()=>[e.label?(l(),r(t,{key:0,class:"neo-input__label"},{default:d(()=>[v(f(e.label),1)]),_:1})):_("",!0),b(i,{class:"neo-input__wrapper"},{default:d(()=>["textarea"===e.type?(l(),r(a,{key:0,value:e.modelValue,placeholder:e.placeholder,disabled:e.disabled,class:"neo-input__field neo-input__textarea",onInput:n[0]||(n[0]=n=>e.$emit("update:modelValue",n.detail.value)),onFocus:n[1]||(n[1]=n=>e.$emit("focus",n)),onBlur:n[2]||(n[2]=n=>e.$emit("blur",n))},null,8,["value","placeholder","disabled"])):(l(),r(o,{key:1,value:e.modelValue,type:e.type,placeholder:e.placeholder,disabled:e.disabled,class:"neo-input__field",onInput:n[3]||(n[3]=n=>e.$emit("update:modelValue",n.detail.value)),onFocus:n[4]||(n[4]=n=>e.$emit("focus",n)),onBlur:n[5]||(n[5]=n=>e.$emit("blur",n))},null,8,["value","type","placeholder","disabled"])),e.suffixIcon||e.suffix?(l(),r(i,{key:2,class:"neo-input__suffix"},{default:d(()=>[e.suffixIcon?(l(),r(C(fe),{key:0,name:e.suffixIcon,size:18},null,8,["name"])):_("",!0),e.suffix?(l(),r(t,{key:1},{default:d(()=>[v(f(e.suffix),1)]),_:1})):_("",!0)]),_:1})):_("",!0)]),_:1}),e.error?(l(),r(t,{key:1,class:"neo-input__error"},{default:d(()=>[v(f(e.error),1)]),_:1})):e.hint?(l(),r(t,{key:2,class:"neo-input__hint"},{default:d(()=>[v(f(e.hint),1)]),_:1})):_("",!0)]),_:1},8,["class"])}}),[["__scopeId","data-v-1684ddcc"]]),Ve=ve(o({__name:"ScrollReveal",props:{animation:{default:"fade-up"},delay:{default:0},duration:{default:800},threshold:{default:.1},offset:{default:-50},reversible:{type:Boolean,default:!1}},setup(n,{expose:o}){const i=n,p=e(!1),v=M();let f=null;return t(()=>{setTimeout(()=>{v&&(setTimeout(()=>{p.value||(p.value=!0)},500),f=x(v),f.relativeToViewport({bottom:i.offset}).observe(".scroll-reveal",e=>{e.intersectionRatio>0?(p.value=!0,i.reversible||f.disconnect()):i.reversible&&(p.value=!1)}))},100)}),o({isVisible:p}),a(()=>{f&&f.disconnect()}),(e,n)=>{const t=s;return l(),r(t,{class:u(["scroll-reveal",[e.animation,{"is-visible":p.value}]]),style:c({transitionDelay:e.delay+"ms",transitionDuration:e.duration+"ms"})},{default:d(()=>[k(e.$slots,"default",{},void 0,!0)]),_:3},8,["class","style"])}}}),[["__scopeId","data-v-0c69cb0a"]]),qe=ve(o({__name:"NeoDoc",props:{title:{},subtitle:{},description:{},steps:{},features:{}},setup(e){const{t:n}=le();return(e,t)=>{const a=s,o=p;return l(),r(a,{class:"neo-doc"},{default:d(()=>[b(a,{class:"doc-header"},{default:d(()=>[b(Ve,{animation:"fade-down",duration:1e3},{default:d(()=>[b(a,{class:"title-row"},{default:d(()=>[b(a,{class:"doc-badge"},{default:d(()=>[v(f(C(n)("docBadge")),1)]),_:1})]),_:1}),b(o,{class:"doc-title"},{default:d(()=>[v(f(e.title),1)]),_:1}),b(o,{class:"doc-subtitle"},{default:d(()=>[v(f(e.subtitle),1)]),_:1})]),_:1})]),_:1}),b(a,{class:"doc-content"},{default:d(()=>[b(a,{class:"doc-section"},{default:d(()=>[b(Ve,{animation:"fade-up",delay:200},{default:d(()=>[b(o,{class:"section-label"},{default:d(()=>[v(f(C(n)("docWhatItIs")),1)]),_:1}),b(o,{class:"section-text"},{default:d(()=>[v(f(e.description),1)]),_:1})]),_:1})]),_:1}),b(a,{class:"doc-section"},{default:d(()=>[b(Ve,{animation:"fade-up",delay:300},{default:d(()=>[b(o,{class:"section-label"},{default:d(()=>[v(f(C(n)("docHowToUse")),1)]),_:1})]),_:1}),b(a,{class:"steps-list"},{default:d(()=>[(l(!0),h(m,null,w(e.steps,(e,n)=>(l(),r(Ve,{key:n,delay:400+100*n,animation:"slide-left"},{default:d(()=>[b(a,{class:"step-item"},{default:d(()=>[b(a,{class:"step-number"},{default:d(()=>[v(f(n+1),1)]),_:2},1024),b(o,{class:"step-text"},{default:d(()=>[v(f(e),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["delay"]))),128))]),_:1})]),_:1}),b(a,{class:"doc-section"},{default:d(()=>[b(Ve,{animation:"fade-up",delay:400},{default:d(()=>[b(o,{class:"section-label"},{default:d(()=>[v(f(C(n)("docOnChainFeatures")),1)]),_:1})]),_:1}),b(a,{class:"features-grid"},{default:d(()=>[(l(!0),h(m,null,w(e.features,(e,n)=>(l(),r(Ve,{key:e.name,delay:500+100*n,animation:"scale-in",reversible:""},{default:d(()=>[b(a,{class:"feature-card"},{default:d(()=>[b(o,{class:"feature-name"},{default:d(()=>[v(f(e.name),1)]),_:2},1024),b(o,{class:"feature-desc"},{default:d(()=>[v(f(e.desc),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["delay"]))),128))]),_:1})]),_:1})]),_:1}),b(a,{class:"doc-footer"},{default:d(()=>[b(Ve,{animation:"fade-up",delay:800},{default:d(()=>[b(o,{class:"footer-text"},{default:d(()=>[v(f(C(n)("docFooter")),1)]),_:1})]),_:1})]),_:1})]),_:1})}}}),[["__scopeId","data-v-445ca862"]]),Je=ve(o({__name:"Fireworks",props:{active:{type:Boolean,default:!1},duration:{default:3e3}},emits:["complete"],setup(e,{emit:n}){const t=e,o=n;let i=null;const p=e=>{const n=["#ff6b6b","#ffd93d","#6bcb77","#4d96ff","#ff6bd6","#a855f7"];return{left:`${10+80*Math.random()}%`,top:`${10+60*Math.random()}%`,animationDelay:`${.5*Math.random()}s`,"--firework-color":n[(e-1)%n.length]}};return S(()=>t.active,e=>{e&&(i=setTimeout(()=>{o("complete")},t.duration))}),a(()=>{i&&clearTimeout(i)}),(e,n)=>{const t=s;return e.active?(l(),r(t,{key:0,class:"fireworks-container"},{default:d(()=>[(l(),h(m,null,w(12,e=>b(t,{key:e,class:u(`firework firework-${e}`),style:c(p(e))},{default:d(()=>[(l(),h(m,null,w(8,e=>b(t,{key:e,class:u(`spark spark-${e}`)},null,8,["class"])),64))]),_:2},1032,["class","style"])),64))]),_:1})):_("",!0)}}}),[["__scopeId","data-v-4da74fd1"]]),Xe=new Set(["neo-n3","neo-n3-mainnet","neo-n3-testnet"]);function Ye(e,n,t,a){const o=function(e){if("string"==typeof e)return e;const n=null==e?void 0:e.value;return"string"==typeof n?n:""}(e);if(Xe.has(o))return!0;let i="";if(!i&&"function"==typeof n){const e=n("wrongChainMessage");i=e&&"wrongChainMessage"!==e?e:n("wrongChain")}i||(i="Wrong network");const l=globalThis.uni;return(null==l?void 0:l.showToast)&&l.showToast({title:i,icon:"none"}),!1}function Qe(n){const{payGAS:t}=function(e){const{isLoading:n,error:t,execute:a}=Me(async(n,t)=>{const a=parseFloat(n);if(Number.isNaN(a)||a<=0)throw new Error("Invalid amount: must be a positive number");const o=await Se();return o.payments.payGASAndInvoke?await o.payments.payGASAndInvoke(e,n,t):await o.payments.payGAS(e,n,t)});return{isLoading:n,error:t,payGAS:a}}(),{address:a,connect:o,invokeContract:i}=Ge(),{list:l}=function(){const e=Me(async(e={})=>{var n;const t=await Se();if(!(null==(n=t.events)?void 0:n.list))throw new Error("events.list not available");return await t.events.list(e)}),n=Me(async(e,n)=>{var t;const a=String(e||"").trim();if(!a)throw new Error("eventName required");const o=await Se();if(!(null==(t=o.events)?void 0:t.emit))throw new Error("events.emit not available");return await o.events.emit(a,n||{})});return{isLoading:e.isLoading,error:e.error,list:e.execute,isEmitting:n.isLoading,emitError:n.error,emit:n.execute}}(),r=e(!1),s=e(null);return{isProcessing:r,error:s,processPayment:async(e,c)=>{try{if(a.value||await o(),!a.value)throw new Error("Wallet not connected");r.value=!0,s.value=null;const u=(await t(e,c)).receipt_id||"";return{receiptId:u,invoke:async(e,n,t)=>{const a=await i({scriptHash:e,operation:n,args:t});return{txid:a.txid||a.txHash||"",receiptId:u}},waitForEvent:async(e,t,a=3e4)=>pe(async()=>(await l({app_id:n,event_name:t,limit:20})).events||[],n=>n.tx_hash===e,{timeoutMs:a,errorMessage:`Event "${t}" not found for transaction ${e}`})}}catch(u){throw s.value=u instanceof Error?u:new Error(String(u)),u}finally{r.value=!1}}}}const Ze="miniapp-redenvelope",en=1000000n;function nn(){const{t:n}=re(),{address:t,connect:a,chainType:o,getContractAddress:l}=te(),{processPayment:r,isProcessing:s}=Qe(Ze),c=e(""),u=e(""),d=e(""),p=e(""),v=e("24"),f=e(null),h=i(()=>n("defaultBlessing")),w=(e,n)=>{const t=new Uint8Array(e.length+4);t.set(e),t[e.length]=255&n,t[e.length+1]=n>>8&255,t[e.length+2]=n>>16&255,t[e.length+3]=n>>24&255;let a=0n;for(let o=0;o<t.length;o++)a=(31n*a+BigInt(t[o]))%2n**256n;return a<0n?-a:a};return{name:c,description:u,amount:d,count:p,expiryHours:v,status:f,isLoading:s,defaultBlessing:h,ensureContractAddress:async()=>{if(!Ye(o,n))throw new Error(n("wrongChain"));const e=await l();if(!e)throw new Error(n("contractUnavailable"));return e},previewDistribution:(e,n)=>{if(n<=0||n>100)return[];const t=BigInt(ce(e));if(t<BigInt(n)*en)return[];const a=((e,n)=>{const t=`preview:${e}:${n}:${Date.now()}`,a=(new TextEncoder).encode(t),o=new Uint8Array(32);for(let i=0;i<a.length;i++)o[i%32]^=a[i];return o})(e.toString(),n.toString()),o=[];let i=t;for(let l=0;l<n-1;l++){const e=i-(BigInt(n-l)-1n)*en,t=w(a,l),r=e-en;let s=en;r>0n&&(s=en+t%r),o.push(s),i-=s}return o.push(i),o},calculateBestLuckBonus:e=>5n*e/100n,MIN_AMOUNT:10000000n,MAX_PACKETS:100,MIN_PER_PACKET:en,BEST_LUCK_BONUS_RATE:5n,address:t,connect:a,processPayment:r,APP_ID:Ze}}const tn="miniapp-redenvelope";function an(){const{t:n}=re(),{address:t,connect:a,invokeContract:o,invokeRead:i,chainType:l,getContractAddress:r}=te(),{list:s}=ae(),c=e([]),u=e(!1),d=e(null),p=async()=>{if(!Ye(l,n))throw new Error(n("wrongChain"));if(d.value||(d.value=await r()),!d.value)throw new Error(n("contractUnavailable"));return d.value},v=e=>e?Array.isArray(e)?{creator:String(e[0]??""),totalAmount:Number(e[1]??0),packetCount:Number(e[2]??0),claimedCount:Number(e[3]??0),remainingAmount:Number(e[4]??0),bestLuckAddress:String(e[5]??""),bestLuckAmount:Number(e[6]??0),ready:Boolean(e[7]),expiryTime:Number(e[8]??0)}:"object"==typeof e?{creator:String(e.creator??""),totalAmount:Number(e.totalAmount??0),packetCount:Number(e.packetCount??0),claimedCount:Number(e.claimedCount??0),remainingAmount:Number(e.remainingAmount??0),bestLuckAddress:String(e.bestLuckAddress??""),bestLuckAmount:Number(e.bestLuckAmount??0),ready:Boolean(e.ready??!1),expiryTime:Number(e.expiryTime??0)}:null:null,f=async(e,n,t)=>{try{const a=await i({scriptHash:e,operation:"GetEnvelope",args:[{type:"Integer",value:n}]}),o=v(function(e){if(!e)return null;if("object"==typeof e&&null!==e){const n=e;return"stack"in n&&Array.isArray(n.stack)?0===n.stack.length?null:1===n.stack.length?de(n.stack[0]):n.stack.map(de):"state"in n?de(n.state):"txid"in n||"txHash"in n?e:de(e)}return"string"==typeof e||"number"==typeof e||"boolean"==typeof e?e:de(e)}(a));if(!o)return null;const l=Number(o.packetCount||(null==t?void 0:t.packetCount)||0),r=Number(o.claimedCount||0),s=Math.max(0,l-r),c=Boolean(o.ready),u=Number(o.expiryTime||0),d=u>0&&Date.now()>1e3*u,p=se(o.totalAmount||(null==t?void 0:t.totalAmount)||0),f=c&&!d&&s>0,h=o.creator||(null==t?void 0:t.creator)||"";return{id:n,creator:h,from:ue(h),total:l,remaining:s,totalAmount:p,bestLuckAddress:o.bestLuckAddress||void 0,bestLuckAmount:o.bestLuckAmount||void 0,ready:c,expired:d,canClaim:f}}catch{return null}};return{envelopes:c,loadingEnvelopes:u,contractAddress:d,ensureContractAddress:p,fetchEnvelopeDetails:f,loadEnvelopes:async()=>{if(d.value||(d.value=await p()),d.value){u.value=!0;try{const e=await s({app_id:tn,event_name:"EnvelopeCreated",limit:25}),n=new Set,t=await Promise.all(e.events.map(async e=>{const t=Array.isArray(null==e?void 0:e.state)?e.state.map(de):[],a=String(t[0]??"");return!a||n.has(a)?null:(n.add(a),f(d.value,a,{creator:String(t[1]??""),totalAmount:Number(t[2]??0),packetCount:Number(t[3]??0)}))}));c.value=t.filter(Boolean).sort((e,n)=>Number(n.id)-Number(e.id))}catch(e){}finally{u.value=!1}}},parseEnvelopeData:v,address:t,connect:a,invokeContract:o,invokeRead:i,listEvents:s,APP_ID:tn,t:n,fromFixed8:se,parseStackItem:de,pollForEvent:pe}}const on=ve(o({__name:"LuckyOverlay",props:{luckyMessage:{},t:{type:Function}},emits:["close"],setup:e=>(e,n)=>{const t=s,a=p;return e.luckyMessage?(l(),r(t,{key:0,class:"lucky-overlay",onClick:n[2]||(n[2]=n=>e.$emit("close"))},{default:d(()=>[b(t,{class:"lucky-card-glass",onClick:n[1]||(n[1]=y(()=>{},["stop"]))},{default:d(()=>[b(t,{class:"card-glow"}),b(t,{class:"lucky-content"},{default:d(()=>[b(a,{class:"lucky-header"},{default:d(()=>[v("ğŸ‰ "+f(e.t("congratulations"))+" ğŸ‰",1)]),_:1}),b(t,{class:"amount-circle"},{default:d(()=>[b(t,{class:"amount-inner"},{default:d(()=>[b(a,{class:"lucky-amount"},{default:d(()=>[v(f(e.luckyMessage.amount),1)]),_:1}),b(a,{class:"lucky-currency"},{default:d(()=>[v("GAS")]),_:1})]),_:1})]),_:1}),b(t,{class:"sender-pill"},{default:d(()=>[b(a,{class:"from-label"},{default:d(()=>[v(f(e.t("fromPrefix")),1)]),_:1}),b(a,{class:"from-address"},{default:d(()=>[v(f(e.luckyMessage.from),1)]),_:1})]),_:1}),b(C(We),{variant:"primary",size:"lg",block:"",class:"confirm-btn",onClick:n[0]||(n[0]=n=>e.$emit("close"))},{default:d(()=>[b(a,null,{default:d(()=>[v(f(e.t("confirm")),1)]),_:1})]),_:1})]),_:1}),b(t,{class:"coins-rain"},{default:d(()=>[(l(),h(m,null,w(15,e=>b(t,{key:e,class:"coin-item",style:c({animationDelay:2*Math.random()+"s",left:100*Math.random()+"%"})},{default:d(()=>[b(C(fe),{name:"money",size:24,class:"text-gold"})]),_:2},1032,["style"])),64))]),_:1})]),_:1})]),_:1})):_("",!0)}}),[["__scopeId","data-v-1ce0e15b"]]),ln=ve(o({__name:"OpeningModal",props:{visible:{type:Boolean},envelope:{},isConnected:{type:Boolean},isOpening:{type:Boolean}},emits:["connect","open","close"],setup(e,{emit:n}){const t=e,{t:a}=re(),o=n,i=()=>{o("connect")},c=()=>{t.isConnected?o("open"):o("connect")};return(e,n)=>{const t=s,o=p;return e.visible?(l(),r(t,{key:0,class:"opening-overlay"},{default:d(()=>[b(t,{class:"envelope-stage"},{default:d(()=>[b(t,{class:u(["red-packet",{"is-opening":e.isOpening,"is-shaking":!e.isOpening}]),onClick:c},{default:d(()=>[b(t,{class:"packet-lid"}),b(t,{class:"packet-body"},{default:d(()=>[b(t,{class:"packet-seal"},{default:d(()=>[b(o,{class:"seal-text"},{default:d(()=>[v(f(C(a)("open")),1)]),_:1})]),_:1})]),_:1}),b(t,{class:"packet-content"},{default:d(()=>{var n;return[b(o,{class:"packet-msg"},{default:d(()=>{var n;return[v(f((null==(n=e.envelope)?void 0:n.from)?C(a)("fromLabel",{name:e.envelope.from}):C(a)("luckyPacket")),1)]}),_:1}),(null==(n=e.envelope)?void 0:n.description)?(l(),r(o,{key:0,class:"packet-note"},{default:d(()=>[v(f(e.envelope.description),1)]),_:1})):_("",!0)]}),_:1})]),_:1},8,["class"]),b(t,{class:"action-area"},{default:d(()=>[e.isConnected?(l(),r(C(We),{key:1,variant:"secondary",size:"lg",class:"action-btn",loading:e.isOpening,onClick:c},{default:d(()=>[v(f(e.isOpening?C(a)("opening"):C(a)("openNow")),1)]),_:1},8,["loading"])):(l(),r(C(We),{key:0,variant:"primary",size:"lg",class:"action-btn",onClick:i},{default:d(()=>[v(f(C(a)("connectAndOpen")),1)]),_:1}))]),_:1})]),_:1})]),_:1})):_("",!0)}}}),[["__scopeId","data-v-71fa51bc"]]),rn=ve(o({__name:"AppStatus",props:{status:{}},setup:e=>(e,n)=>{const t=p;return e.status?(l(),r(C(Ke),{key:0,variant:"success"===e.status.type?"success":"danger",class:"status-card"},{default:d(()=>[b(t,{class:"status-text"},{default:d(()=>[v(f(e.status.msg),1)]),_:1})]),_:1},8,["variant"])):_("",!0)}}),[["__scopeId","data-v-6919b74b"]]),sn=ve(o({__name:"CreateEnvelopeForm",props:{name:{},description:{},amount:{},count:{},expiryHours:{},isLoading:{type:Boolean},t:{type:Function}},emits:["update:name","update:description","update:amount","update:count","update:expiryHours","create"],setup:e=>(e,n)=>{const t=s,a=p;return l(),r(C(Ke),{variant:"erobo-neo"},{default:d(()=>[b(t,{class:"input-group"},{default:d(()=>[b(C(je),{modelValue:e.name,"onUpdate:modelValue":n[0]||(n[0]=n=>e.$emit("update:name",n)),placeholder:e.t("namePlaceholder")},null,8,["modelValue","placeholder"]),b(C(je),{modelValue:e.description,"onUpdate:modelValue":n[1]||(n[1]=n=>e.$emit("update:description",n)),placeholder:e.t("defaultBlessing")},null,8,["modelValue","placeholder"]),b(C(je),{modelValue:e.amount,"onUpdate:modelValue":n[2]||(n[2]=n=>e.$emit("update:amount",n)),type:"number",placeholder:e.t("totalGasPlaceholder"),suffix:"GAS"},null,8,["modelValue","placeholder"]),b(C(je),{modelValue:e.count,"onUpdate:modelValue":n[3]||(n[3]=n=>e.$emit("update:count",n)),type:"number",placeholder:e.t("packetsPlaceholder")},null,8,["modelValue","placeholder"]),b(C(je),{modelValue:e.expiryHours,"onUpdate:modelValue":n[4]||(n[4]=n=>e.$emit("update:expiryHours",n)),type:"number",placeholder:e.t("expiryPlaceholder"),suffix:"h"},null,8,["modelValue","placeholder"])]),_:1}),b(C(We),{variant:"primary",size:"lg",block:"",loading:e.isLoading,onClick:n[5]||(n[5]=n=>e.$emit("create")),class:"send-button"},{default:d(()=>[b(t,{class:"btn-content"},{default:d(()=>[b(C(fe),{name:"envelope",size:24}),b(a,{class:"button-text"},{default:d(()=>[v(f(e.t("sendRedEnvelope")),1)]),_:1})]),_:1})]),_:1},8,["loading"])]),_:1})}}),[["__scopeId","data-v-c1401314"]]),cn=o({__name:"CreateForm",props:{isLoading:{type:Boolean},t:{type:Function}},emits:["create","update:name","update:description","update:amount","update:count","update:expiryHours"],setup(n,{emit:t}){const a=t,o=e(""),i=e(""),c=e(""),u=e(""),p=e("24");return S(o,e=>a("update:name",e)),S(i,e=>a("update:description",e)),S(c,e=>a("update:amount",e)),S(u,e=>a("update:count",e)),S(p,e=>a("update:expiryHours",e)),(e,n)=>{const t=s;return l(),r(t,{class:"create-form"},{default:d(()=>[b(sn,{name:o.value,"onUpdate:name":n[0]||(n[0]=e=>o.value=e),description:i.value,"onUpdate:description":n[1]||(n[1]=e=>i.value=e),amount:c.value,"onUpdate:amount":n[2]||(n[2]=e=>c.value=e),count:u.value,"onUpdate:count":n[3]||(n[3]=e=>u.value=e),expiryHours:p.value,"onUpdate:expiryHours":n[4]||(n[4]=e=>p.value=e),"is-loading":e.isLoading,t:e.t,onCreate:n[5]||(n[5]=n=>e.$emit("create"))},null,8,["name","description","amount","count","expiryHours","is-loading","t"])]),_:1})}}}),un=ve(o({__name:"ClaimInterface",props:{envelopes:{},t:{type:Function}},emits:["select"],setup:e=>(e,n)=>{const t=p,a=s;return l(),r(a,{class:"claim-interface"},{default:d(()=>[b(a,{class:"claim-header"},{default:d(()=>[b(t,{class:"claim-title"},{default:d(()=>[v(f(e.t("claimRedEnvelope")),1)]),_:1})]),_:1}),b(a,{class:"envelope-grid"},{default:d(()=>[(l(!0),h(m,null,w(e.envelopes,n=>(l(),r(a,{key:n.id,class:u(["envelope-item",{"can-claim":n.canClaim,expired:n.expired}]),onClick:t=>e.$emit("select",n)},{default:d(()=>[b(t,{class:"envelope-icon"},{default:d(()=>[v("ğŸ§§")]),_:1}),b(t,{class:"envelope-from"},{default:d(()=>[v(f(n.from),1)]),_:2},1024),b(t,{class:"envelope-amount"},{default:d(()=>[v(f(n.totalAmount)+" GAS",1)]),_:2},1024),b(t,{class:"envelope-remaining"},{default:d(()=>[v(f(n.remaining)+"/"+f(n.total)+" "+f(e.t("remaining")),1)]),_:2},1024)]),_:2},1032,["class","onClick"]))),128))]),_:1})]),_:1})}}),[["__scopeId","data-v-1ba2a949"]]),dn=ve(o({__name:"index",setup(n){const{t:a}=re(),{address:o,connect:c,invokeContract:u,invokeRead:h}=te(),{list:w}=ae(),m=e("create"),g=i(()=>[{id:"create",label:a("createTab"),icon:"envelope"},{id:"claim",label:a("claimTab"),icon:"gift"},{id:"docs",label:a("docs"),icon:"book"}]),y=i(()=>[a("step1"),a("step2"),a("step3"),a("step4")]),k=i(()=>[{name:a("feature1Name"),desc:a("feature1Desc")},{name:a("feature2Name"),desc:a("feature2Desc")}]),{name:A,description:E,amount:I,count:z,expiryHours:T,status:N,isLoading:x,defaultBlessing:M,ensureContractAddress:D,processPayment:O}=nn(),{envelopes:L,ensureContractAddress:R,fetchEnvelopeDetails:$,loadEnvelopes:B}=an(),G=e(null),U=e(null),H=e(!1),F=e(null),K=async()=>{try{await c()}catch{}},W=async()=>{if(!x.value)try{if(N.value=null,o.value||await c(),!o.value)throw new Error(a("connectWallet"));const e=await D(),n=Number(I.value),t=Number(z.value);if(!Number.isFinite(n)||n<.1)throw new Error(a("invalidAmount"));if(!Number.isFinite(t)||t<1||t>100)throw new Error(a("invalidPackets"));if(n<.01*t)throw new Error(a("invalidPerPacket"));const i=Number(T.value);if(!Number.isFinite(i)||i<=0)throw new Error(a("invalidExpiry"));const l=Math.round(3600*i),{receiptId:r,invoke:s,waitForEvent:u}=await O(I.value,`redenvelope:${z.value}`);if(!r)throw new Error(a("receiptMissing"));const d=E.value.trim()||M.value,p=await s(e,"createEnvelope",[{type:"Hash160",value:o.value},{type:"String",value:A.value||""},{type:"String",value:d},{type:"Integer",value:ce(I.value)},{type:"Integer",value:String(t)},{type:"Integer",value:String(l)},{type:"Integer",value:r}]),v=(null==p?void 0:p.txid)||"";if(!(v?await u(v,"EnvelopeCreated"):null))throw new Error(a("envelopePending"));N.value={msg:a("envelopeSent"),type:"success"},A.value="",E.value="",I.value="",z.value="",await B()}catch(e){N.value={msg:(null==e?void 0:e.message)||a("error"),type:"error"}}},j=e=>{F.value=e,H.value=!0};return t(async()=>{if(await B(),"undefined"!=typeof window){const e=new URLSearchParams(window.location.search).get("id");if(e){const n=L.value.find(n=>n.id===e);if(n)j(n),m.value="claim";else{const n=await R(),t=await $(n,e);t&&(F.value=t,H.value=!0,m.value="claim")}}}}),S(m,async e=>{"claim"===e&&await B()}),(e,n)=>{const t=p,i=s;return l(),r(C(Fe),{"desktop-breakpoint":1024,class:"theme-red-envelope",tabs:g.value,"active-tab":m.value,onTabChange:n[8]||(n[8]=e=>m.value=e),"\x3c!--":"",Desktop:"",Sidebar:"","--":""},{"desktop-sidebar":d(()=>[b(i,{class:"desktop-sidebar"},{default:d(()=>[b(t,{class:"sidebar-title"},{default:d(()=>[v(f(C(a)("overview")),1)]),_:1})]),_:1})]),default:d(()=>[v(" > "),b(C(Ue),{title:C(a)("wrongChain"),message:C(a)("wrongChainMessage"),"button-text":C(a)("switchToNeo")},null,8,["title","message","button-text"]),"create"===m.value||"claim"===m.value?(l(),r(i,{key:0,class:"app-container"},{default:d(()=>[b(on,{"lucky-message":G.value,t:C(a),onClose:n[0]||(n[0]=e=>G.value=null)},null,8,["lucky-message","t"]),b(C(Je),{active:!!G.value,duration:3e3},null,8,["active"]),b(ln,{visible:H.value,envelope:F.value,"is-connected":!!C(o),"is-opening":!!U.value,onConnect:K,onOpen:n[1]||(n[1]=()=>F.value&&(async e=>{if(!U.value&&(o.value||(await c(),o.value)))try{N.value=null;const t=await R();if(e.expired)throw new Error(a("envelopeExpired"));if(!e.ready)throw new Error(a("envelopeNotReady"));if(e.remaining<=0)throw new Error(a("envelopeEmpty"));const i=await h({scriptHash:t,operation:"HasClaimed",args:[{type:"Integer",value:e.id},{type:"Hash160",value:o.value}]});if(Boolean((n=i)?"object"==typeof n&&null!==n&&"value"in n?n.value:n:null))throw new Error(a("alreadyClaimed"));U.value=e.id;const l=await u({scriptHash:t,operation:"Claim",args:[{type:"Integer",value:e.id},{type:"Hash160",value:o.value}]}),r=String((null==l?void 0:l.txid)||(null==l?void 0:l.txHash)||""),s=r?await pe(async()=>(await w({app_id:"miniapp-redenvelope",event_name:"EnvelopeClaimed",limit:25})).events||[],e=>e.tx_hash===r,{timeoutMs:3e4,errorMessage:a("claimPending")}):null;if(!s)throw new Error(a("claimPending"));const c=Array.isArray(null==s?void 0:s.state)?s.state.map(de):[],d=se(Number(c[2]??0)),p=Number(c[3]??e.remaining);H.value=!1,G.value={amount:Number(d.toFixed(2)),from:e.from},e.remaining=Math.max(0,p),e.canClaim=e.remaining>0&&e.ready&&!e.expired,N.value={msg:a("claimedFrom").replace("{0}",e.from),type:"success"},await B()}catch(t){N.value={msg:(null==t?void 0:t.message)||a("error"),type:"error"},H.value=!1}finally{U.value=null}var n})(F.value,!0)),onClose:n[2]||(n[2]=e=>H.value=!1)},null,8,["visible","envelope","is-connected","is-opening"]),b(rn,{status:C(N)},null,8,["status"]),"create"===m.value?(l(),r(i,{key:0,class:"tab-content"},{default:d(()=>[b(cn,{"is-loading":C(x),t:C(a),name:C(A),"onUpdate:name":n[3]||(n[3]=e=>P(A)?A.value=e:null),description:C(E),"onUpdate:description":n[4]||(n[4]=e=>P(E)?E.value=e:null),amount:C(I),"onUpdate:amount":n[5]||(n[5]=e=>P(I)?I.value=e:null),count:C(z),"onUpdate:count":n[6]||(n[6]=e=>P(z)?z.value=e:null),expiryHours:C(T),"onUpdate:expiryHours":n[7]||(n[7]=e=>P(T)?T.value=e:null),onCreate:W},null,8,["is-loading","t","name","description","amount","count","expiryHours"])]),_:1})):_("",!0),"claim"===m.value?(l(),r(i,{key:1,class:"tab-content"},{default:d(()=>[b(un,{envelopes:C(L),t:C(a),onSelect:j},null,8,["envelopes","t"])]),_:1})):_("",!0)]),_:1})):_("",!0),"docs"===m.value?(l(),r(i,{key:1,class:"tab-content scrollable"},{default:d(()=>[b(C(qe),{title:C(a)("title"),subtitle:C(a)("docSubtitle"),description:C(a)("docDescription"),steps:y.value,features:k.value},null,8,["title","subtitle","description","steps","features"])]),_:1})):_("",!0)]),_:1},8,["tabs","active-tab"])}}}),[["__scopeId","data-v-a7a4e3eb"]]);export{dn as default};
