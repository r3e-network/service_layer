import{r as e,a as t,o as n,b as a,d as r,c as i,e as o,f as l,i as s,n as c,g as u,w as d,h as f,j as p,t as g,k as h,l as m,m as v,p as w,q as y,s as b,u as _,I as C,v as k,x as I,y as A,z as E,A as S,B as T,F as N,C as M,D as B,E as R}from"./index-XAplCiJJ.js";import{_ as P,u as x}from"./NeoDoc.vue_vue_type_style_index_0_scoped_445ca862_lang.D_iML-pj.js";import $ from"encode-utf8";import O from"dijkstrajs";const U=5e3,L=1e4,D=100,V=["https://neomini.app","https://miniapp.neo.org","https://testnet.miniapp.neo.org"];const z=new class{constructor(){this.dynamicOrigins=new Set,this.baseOrigins=new Set([...V])}getSelfOrigin(){if("undefined"==typeof window)return null;try{const e=new URL(window.location.href);if("null"===e.origin)return null;if("http:"===e.protocol||"https:"===e.protocol)return e.origin}catch{}return null}getReferrerOrigin(){if("undefined"==typeof document||!document.referrer)return null;try{return new URL(document.referrer).origin}catch{return null}}getAllowedOrigins(){const e=new Set(this.baseOrigins);this.dynamicOrigins.forEach(t=>e.add(t));const t=this.getReferrerOrigin();t&&this.baseOrigins.has(t)&&e.add(t);const n=this.getSelfOrigin();if(n&&e.add(n),"undefined"!=typeof window){const t=window.location.hostname;"localhost"!==t&&"127.0.0.1"!==t||e.add(window.location.origin)}return e}isValid(e){return!(!e||"null"===e)&&this.getAllowedOrigins().has(e)}getTargetOrigin(){var e;const t=this.getReferrerOrigin();if(t&&this.baseOrigins.has(t))return t;try{if("undefined"!=typeof window&&window.parent!==window&&(null==(e=window.location.ancestorOrigins)?void 0:e.length)>0){const e=window.location.ancestorOrigins[0];if(this.baseOrigins.has(e))return e}}catch{}const n=this.getSelfOrigin();if(n)return n;if("undefined"!=typeof window){const e=window.location.hostname;if("localhost"===e||"127.0.0.1"===e)return window.location.origin}throw new Error("Cannot determine safe target origin - no valid origin found")}getSafeTargetOrigin(){try{const e=this.getTargetOrigin();if(e&&"null"!==e)return e}catch{}if("undefined"!=typeof window&&window.parent!==window){const e=window.__MINIAPP_PARENT_ORIGIN__;if("string"==typeof e&&e&&this.baseOrigins.has(e))return e;throw new Error("Cannot communicate securely with parent - origin unknown. Ensure host app sets __MINIAPP_PARENT_ORIGIN__ or uses a supported browser.")}throw new Error("Cannot determine safe target origin - origin is null or undefined")}addDynamicOrigin(e){e&&"null"!==e&&this.dynamicOrigins.add(e)}};let H=null;function K(e){const t=null==e?void 0:e.layout;if("web"===t||"mobile"===t)return t;if("undefined"!=typeof window){const e=new URLSearchParams(window.location.search).get("layout");if("web"===e||"mobile"===e)return e;if(window.ReactNativeWebView)return"mobile"}return"web"}function j(e){if(!e||"object"!=typeof e)return!1;const t="function"==typeof e.invoke&&"function"==typeof e.getConfig,n="object"==typeof e.wallet||"object"==typeof e.payments;return t||n}function F(e=U){return new Promise((t,n)=>{if("undefined"==typeof window)return void n(new Error("SDK not available in SSR"));if(window.MiniAppSDK)return j(window.MiniAppSDK)?void t(window.MiniAppSDK):void n(new Error("SDK validation failed"));const a=setTimeout(()=>{if(window.removeEventListener("miniapp-sdk-ready",r),window.parent!==window){const e=function(){const e=z.getSafeTargetOrigin();let t=0;const n=(n,...a)=>new Promise((r,i)=>{const o="undefined"!=typeof crypto&&crypto.getRandomValues?Array.from(crypto.getRandomValues(new Uint8Array(4)),e=>e.toString(16).padStart(2,"0")).join(""):Math.random().toString(36).slice(2,10),l=`sdk-${++t}-${Date.now()}-${o}`,s=setTimeout(()=>{window.removeEventListener("message",c),i(new Error("SDK invoke timeout"))},L),c=e=>{var t,n;z.isValid(e.origin)&&e.source===window.parent&&"miniapp_sdk_response"===(null==(t=e.data)?void 0:t.type)&&(null==(n=e.data)?void 0:n.id)===l&&(clearTimeout(s),window.removeEventListener("message",c),e.data.ok?r(e.data.result):i(new Error(e.data.error||"SDK call failed")))};window.addEventListener("message",c),window.parent.postMessage({type:"miniapp_sdk_request",id:l,method:n,params:a},e)});return{invoke:n,getConfig:()=>H?{...H,layout:K(H)}:"undefined"!=typeof window&&window.__MINIAPP_CONFIG__?(H=window.__MINIAPP_CONFIG__,{...H,layout:K(H??void 0)}):{appId:"",contractAddress:null,chainId:null,chainType:void 0,supportedChains:[],layout:K(),debug:!1},getAddress:()=>n("getAddress"),wallet:{getAddress:()=>n("wallet.getAddress"),switchChain:e=>n("wallet.switchChain",e),invokeIntent:e=>n("wallet.invokeIntent",e),signMessage:e=>n("wallet.signMessage",e)},payments:{payGAS:(e,t,a)=>n("payments.payGAS",e,t,a),payGASAndInvoke:(e,t,a)=>n("payments.payGASAndInvoke",e,t,a)},governance:{vote:(e,t,a,r)=>n("governance.vote",e,t,a,r),voteAndInvoke:(e,t,a,r)=>n("governance.voteAndInvoke",e,t,a,r),getCandidates:()=>n("governance.getCandidates")},rng:{requestRandom:e=>n("rng.requestRandom",e)},datafeed:{getPrice:e=>n("datafeed.getPrice",e),getPrices:()=>n("datafeed.getPrices"),getNetworkStats:()=>n("datafeed.getNetworkStats"),getRecentTransactions:e=>n("datafeed.getRecentTransactions",e)},stats:{getMyUsage:(e,t)=>n("stats.getMyUsage",e,t)},events:{list:e=>n("events.list",e),emit:(e,t)=>n("events.emit",e,t)},transactions:{list:e=>n("transactions.list",e)},automation:{register:(e,t,a,r)=>n("automation.register",e,t,a,r),unregister:e=>n("automation.unregister",e),status:e=>n("automation.status",e),list:()=>n("automation.list"),update:(e,t,a)=>n("automation.update",e,t,a),enable:e=>n("automation.enable",e),disable:e=>n("automation.disable",e),logs:(e,t)=>n("automation.logs",e,t)},share:{openModal:e=>n("share.openModal",e),getUrl:e=>n("share.getUrl",e),copy:e=>n("share.copy",e)}}}();window.MiniAppSDK=e,e.invoke("getConfig").then(e=>{e&&"object"==typeof e&&(H=e)}).catch(()=>{}),t(e)}else n(new Error("SDK timeout"))},e),r=()=>{if(clearTimeout(a),window.removeEventListener("miniapp-sdk-ready",r),window.MiniAppSDK){if(!j(window.MiniAppSDK))return void n(new Error("SDK validation failed"));t(window.MiniAppSDK)}else n(new Error("SDK not found"))};window.addEventListener("miniapp-sdk-ready",r)})}function q(){return"undefined"==typeof window?null:window.MiniAppSDK??null}const J=new Set;let Y={connected:!1,address:null,balance:null},G=null,Q=!1;"undefined"!=typeof window&&("undefined"!=typeof window&&(Q&&G||(G=e=>{if(e.source!==window.parent)return;if(!z.isValid(e.origin))return;const t=e.data;t&&"object"==typeof t&&("miniapp_config"!==t.type?"miniapp_wallet_state_change"===t.type&&(Y={connected:Boolean(t.connected),address:t.address||null,chainId:t.chainId??null,chainType:t.chainType??null,balance:t.balance||t.multiChainBalance||null,balances:t.balances||void 0},J.forEach(e=>{try{e(Y)}catch(t){console.error("[MiniApp SDK] Wallet state listener error:",t)}})):t.config&&"object"==typeof t.config&&(H=t.config))},window.addEventListener("message",G),Q=!0)),setTimeout(function(){if("undefined"==typeof window)return;const e=z.getSafeTargetOrigin();try{window.parent.postMessage({type:"miniapp_ready"},e)}catch{}},D));class W extends Error{constructor(e,t){super(e),this.statusCode=t,this.name="HttpError"}}const Z={maxRetries:3,baseDelayMs:1e3,maxDelayMs:1e4};function X(e,t){return Math.min(t.baseDelayMs*Math.pow(2,e),t.maxDelayMs)*(.75+.5*Math.random())}function ee(e,t){if(t&&t>=500)return!0;if(429===t)return!0;if(e instanceof Error){const t=e.message.toLowerCase();return t.includes("network")||t.includes("timeout")||t.includes("abort")}return!1}async function te(t,n){var a;if("undefined"!=typeof uni&&"function"==typeof e)return new Promise((a,r)=>{const i=(e=>{if(e){if(e instanceof Headers){const t={};return e.forEach((e,n)=>{t[n]=e}),t}return Array.isArray(e)?Object.fromEntries(e):e}})(n.headers),o=String((null==i?void 0:i["Content-Type"])||(null==i?void 0:i["content-type"])||"");let l=n.body;if("string"==typeof l&&o.includes("application/json"))try{l=JSON.parse(l)}catch{}e({url:t,method:n.method||"GET",data:l,header:i,success:e=>{var t,n;if((e.statusCode??0)>=200&&(e.statusCode??0)<300)a(e.data);else{const a=(null==(n=null==(t=e.data)?void 0:t.error)?void 0:n.message)||`Request failed: ${e.statusCode}`;r(new W(a,e.statusCode??0))}},fail:e=>{r(new Error(e.errMsg||"Network error"))}})});const r="undefined"!=typeof window&&t.startsWith(window.location.origin),i=await fetch(t,{credentials:r?"include":"same-origin",...n});if(!i.ok){const e=await i.json().catch(()=>({}));throw new W((null==(a=e.error)?void 0:a.message)||`Request failed: ${t}`,i.status)}return i.json()}async function ne(e){return async function(e,t={}){var n,a;const r=e.startsWith("http")?e:`https://api.neo-service-layer.io${e}`,i={...Z,...t.retryConfig};let o=null;for(let s=0;s<=i.maxRetries;s++){if(null==(n=t.signal)?void 0:n.aborted)throw new Error("Request cancelled");try{return await te(r,t)}catch(l){o=l instanceof Error?l:new Error(String(l));const e=l instanceof W?l.statusCode:void 0;if(null==(a=t.signal)?void 0:a.aborted)throw o;if(s>=i.maxRetries)break;if(!ee(l,e))break;const n=X(s,i);await new Promise(e=>setTimeout(e,n))}}throw o||new Error("Request failed")}(e,{method:"GET"})}let ae=null;function re(){const e=t(null),r=t({}),i=t(null),o=t(null),l=t(null),s=t([]),c=t(!1),u=t(!1),d=t(null),f=t(!1),p=t(null),g=t=>{t.connected&&t.address?(e.value=t.address,c.value=!0):(e.value=null,c.value=!1),i.value=t.chainId??null,o.value=t.chainType??null,r.value=(e=>{if(!e)return{};if(e.balances&&Object.keys(e.balances).length>0)return{...e.balances};if(e.balance){const t={};return t[e.balance.nativeSymbol||("neo-n3"===e.chainType?"GAS":"NATIVE")]=e.balance.native||"0",(e.balance.governance||e.balance.governanceSymbol)&&(t[e.balance.governanceSymbol||("neo-n3"===e.chainType?"NEO":"GOV")]=e.balance.governance||"0"),t}return{}})(t)},h=e=>{e&&(l.value=e.chainId??null,s.value=Array.isArray(e.supportedChains)?e.supportedChains:[])},m=async()=>{var e;const t=await F(),n=null==(e=t.getConfig)?void 0:e.call(t);return h(n),n},v=async e=>{const t=await F();if(!t.wallet.switchChain)throw new Error("switchChain not supported by SDK");await t.wallet.switchChain(e),i.value=e};let w=null;return n(()=>{var t;g(Y),t=e=>{g(e)},J.add(t),t(Y),w=()=>J.delete(t);const n=q();(null==n?void 0:n.getConfig)&&h(n.getConfig()),n&&!c.value&&(e=>e?(ae||(ae=e.wallet.getAddress().then(e=>e||null).catch(e=>{const t=e instanceof Error?e.message:String(e);return console.debug("[MiniApp SDK] Fallback wallet connection failed:",t),null}).finally(()=>{ae=null})),ae):Promise.resolve(null))(n).then(t=>{var a;if(!c.value&&t){e.value=t,c.value=!0;const r=null==(a=n.getConfig)?void 0:a.call(n);i.value=(null==r?void 0:r.chainId)??null,o.value=(null==r?void 0:r.chainType)??null,h(r)}}),F().then(e=>{var t;return h(null==(t=e.getConfig)?void 0:t.call(e))}).catch(()=>{})}),a(()=>{w&&w()}),{address:e,chainId:i,chainType:o,appChainId:l,supportedChains:s,balances:r,isConnected:c,isLoading:u,error:d,showConnectionPrompt:f,connectionPromptMessage:p,connect:async()=>{var t;u.value=!0,d.value=null;try{const n=await F(),a=await n.wallet.getAddress();if(!a)throw new Error("wallet returned empty address");e.value=a,c.value=!0;const r=null==(t=n.getConfig)?void 0:t.call(n);i.value=(null==r?void 0:r.chainId)??null,o.value=(null==r?void 0:r.chainType)??null,h(r)}catch(n){d.value=n}finally{u.value=!1}},invokeIntent:async e=>{var t;const n=q();if(!(null==(t=null==n?void 0:n.wallet)?void 0:t.invokeIntent))throw new Error("invokeIntent not available");return n.wallet.invokeIntent(e)},invokeContract:async e=>{var t;const n=await F(),a=null==(t=n.getConfig)?void 0:t.call(n),r=e.contractAddress||e.scriptHash||e.contractHash,i=e.method||e.operation;if(!r||!i)throw new Error("contract address and method required");return n.invoke("invokeFunction",{contract:r,method:i,args:e.args,chainId:null==a?void 0:a.chainId,chainType:null==a?void 0:a.chainType})},invokeRead:async e=>{var t;const n=await F(),a=null==(t=n.getConfig)?void 0:t.call(n),r=e.contractAddress||e.scriptHash||e.contractHash||(null==a?void 0:a.contractAddress),i=e.method||e.operation;if(!r)throw new Error("contract address not configured");if(!i)throw new Error("method required");return n.invoke("invokeRead",{contract:r,method:i,args:e.args||[],chainId:e.chainId||(null==a?void 0:a.chainId),chainType:e.chainType||(null==a?void 0:a.chainType)})},getContractAddress:async()=>{var e,t,n,a,r;const i=await F(),o=null==(e=i.getConfig)?void 0:e.call(i);if(null==o?void 0:o.contractAddress)return o.contractAddress;if((null==o?void 0:o.chainId)&&(null==(n=null==(t=null==o?void 0:o.chainContracts)?void 0:t[o.chainId])?void 0:n.address))return o.chainContracts[o.chainId].address||null;if(i.invoke)try{const e=await i.invoke("getConfig");if(null==e?void 0:e.contractAddress)return e.contractAddress;if((null==e?void 0:e.chainId)&&(null==(r=null==(a=null==e?void 0:e.chainContracts)?void 0:a[e.chainId])?void 0:r.address))return e.chainContracts[e.chainId].address||null}catch{}return null},getAppConfig:m,getAddress:async()=>(await F()).wallet.getAddress(),signMessage:async e=>{var t;const n=await F();if(!(null==(t=n.wallet)?void 0:t.signMessage))throw new Error("signMessage not available");return n.wallet.signMessage(e)},switchChain:v,switchToAppChain:async e=>{const t=await m(),n=(null==t?void 0:t.chainId)||(Array.isArray(null==t?void 0:t.supportedChains)&&t.supportedChains.length>0?t.supportedChains[0]:null)||e||null;if(!n)throw new Error("app chain not configured");await v(n)},getBalance:async e=>{var t;u.value=!0,d.value=null;try{const n=await F(),a=null==(t=n.getConfig)?void 0:t.call(n),o=(null==a?void 0:a.chainId)||i.value,l=o?`?chain_id=${encodeURIComponent(o)}`:"",s=await ne(`/wallet-balance${l}`),c=(null==s?void 0:s.balances)??{};return r.value=c,e?c[e]||"0":c}catch(n){throw d.value=n,n}finally{u.value=!1}},getTransactions:async(e=20)=>{var t;u.value=!0,d.value=null;try{const n=Number.isNaN(e)||e<1?20:Math.min(e,100),a=await F(),r=null==(t=a.getConfig)?void 0:t.call(a),o=(null==r?void 0:r.chainId)||i.value,l=new URLSearchParams({limit:String(n)});o&&l.set("chain_id",o);const s=await ne(`/wallet-transactions?${l.toString()}`);return(null==s?void 0:s.transactions)??[]}catch(n){throw d.value=n,n}finally{u.value=!1}},invoke:async(e,t)=>(await F()).invoke(e,t),requireConnection:(e={})=>{const{showPrompt:t=!0,errorMessage:n}=e;return!!c.value||(t&&(p.value=n||null,f.value=!0),!1)},closeConnectionPrompt:()=>{f.value=!1,p.value=null},clearError:()=>{d.value=null}}}t("en");const ie=P(r({__name:"AppIcon",props:{name:{},size:{default:20},label:{},decorative:{type:Boolean,default:!0}},setup(e){const t=e,a={home:"ðŸ ",settings:"âš™ï¸",user:"ðŸ‘¤",wallet:"ðŸ’¼",book:"ðŸ“–",trophy:"ðŸ†",star:"â­",heart:"â¤ï¸",check:"âœ“",clock:"ðŸ•",plus:"âž•",add:"âž•",close:"âœ•",x:"âœ•",menu:"â˜°",activity:"ðŸ“¡",award:"ðŸ…",archive:"ðŸ—„ï¸",rocket:"ðŸš€",cart:"ðŸ›’",ticket:"ðŸŽŸï¸",bag:"ðŸ‘œ",trending:"ðŸ“ˆ",chart:"ðŸ“Š",calendar:"ðŸ“…",search:"ðŸ”",filter:"ðŸ”½",edit:"âœï¸",delete:"ðŸ—‘ï¸",copy:"ðŸ“‹",share:"ðŸ“¤",download:"â¬‡ï¸",upload:"â¬†ï¸",success:"âœ“",error:"âœ•",warning:"âš ï¸",info:"â„¹ï¸",loading:"â³",neo:"ðŸ’Ž",gas:"â›½",contract:"ðŸ“œ",chain:"â›“ï¸",block:"ðŸ§±",helpful:"ðŸ¤",generous:"ðŸŽ",verified:"âœ“",contributor:"â­",champion:"ðŸ†",legend:"ðŸ‘‘",game:"ðŸŽ®",stats:"ðŸ“Š",docs:"ðŸ“„",about:"â„¹ï¸",contact:"âœ‰ï¸"},r={logout:"â†ª",back:"â†",forward:"â†’",arrowUp:"â†‘",arrowDown:"â†“",arrowLeft:"â†",arrowRight:"â†’",refresh:"â†»"},h=i(()=>{if(!t.label)return t.decorative?"true":void 0}),m=i(()=>t.decorative?"presentation":void 0),v=i(()=>t.label?t.label:t.decorative?void 0:`${t.name} icon`),w=i(()=>t.size<=16?"icon-sm":t.size<=20?"icon-md":t.size<=24?"icon-lg":"icon-xl"),y=i(()=>{if(!w.value||"icon-md"===w.value)return{};const e=t.size;return{width:`${e}px`,height:`${e}px`,fontSize:.6*e+"px"}}),b=i(()=>a[t.name]),_=i(()=>r[t.name]);return n(()=>{const e=t.name in a,n=t.name in r;e||n||console.warn(`[AppIcon] Unknown icon name "${t.name}". Using fallback (first letter). Available icons: ${[...Object.keys(a),...Object.keys(r)].sort().join(", ")}`)}),(e,t)=>{const n=f,a=s;return o(),l(a,{class:u(["app-icon",`icon-${e.name}`,w.value]),style:c(y.value),"aria-hidden":h.value,"aria-label":v.value,role:m.value},{default:d(()=>[b.value?(o(),l(n,{key:0,class:"icon-emoji","aria-hidden":!0},{default:d(()=>[p(g(b.value),1)]),_:1})):_.value?(o(),l(n,{key:1,class:"icon-text","aria-hidden":!0},{default:d(()=>[p(g(_.value),1)]),_:1})):(o(),l(n,{key:2,class:"icon-fallback","aria-label":`Icon: ${e.name}`},{default:d(()=>[p(g(e.name.charAt(0).toUpperCase()),1)]),_:1},8,["aria-label"]))]),_:1},8,["class","style","aria-hidden","aria-label","role"])}}}),[["__scopeId","data-v-07cee3d4"]]),oe=100,le=["https://neomini.app","https://miniapp.neo.org","https://testnet.miniapp.neo.org"];const se=new class{constructor(){this.dynamicOrigins=new Set,this.baseOrigins=new Set([...le])}getSelfOrigin(){if("undefined"==typeof window)return null;try{const e=new URL(window.location.href);if("null"===e.origin)return null;if("http:"===e.protocol||"https:"===e.protocol)return e.origin}catch{}return null}getReferrerOrigin(){if("undefined"==typeof document||!document.referrer)return null;try{return new URL(document.referrer).origin}catch{return null}}getAllowedOrigins(){const e=new Set(this.baseOrigins);this.dynamicOrigins.forEach(t=>e.add(t));const t=this.getReferrerOrigin();t&&this.baseOrigins.has(t)&&e.add(t);const n=this.getSelfOrigin();if(n&&e.add(n),"undefined"!=typeof window){const t=window.location.hostname;"localhost"!==t&&"127.0.0.1"!==t||e.add(window.location.origin)}return e}isValid(e){return!(!e||"null"===e)&&this.getAllowedOrigins().has(e)}getTargetOrigin(){var e;const t=this.getReferrerOrigin();if(t&&this.baseOrigins.has(t))return t;try{if("undefined"!=typeof window&&window.parent!==window&&(null==(e=window.location.ancestorOrigins)?void 0:e.length)>0){const e=window.location.ancestorOrigins[0];if(this.baseOrigins.has(e))return e}}catch{}const n=this.getSelfOrigin();if(n)return n;if("undefined"!=typeof window){const e=window.location.hostname;if("localhost"===e||"127.0.0.1"===e)return window.location.origin}throw new Error("Cannot determine safe target origin - no valid origin found")}getSafeTargetOrigin(){try{const e=this.getTargetOrigin();if(e&&"null"!==e)return e}catch{}if("undefined"!=typeof window&&window.parent!==window){const e=window.__MINIAPP_PARENT_ORIGIN__;if("string"==typeof e&&e&&this.baseOrigins.has(e))return e;throw new Error("Cannot communicate securely with parent - origin unknown. Ensure host app sets __MINIAPP_PARENT_ORIGIN__ or uses a supported browser.")}throw new Error("Cannot determine safe target origin - origin is null or undefined")}addDynamicOrigin(e){e&&"null"!==e&&this.dynamicOrigins.add(e)}},ce=new Set;let ue={connected:!1,address:null,balance:null},de=null,fe=!1;"undefined"!=typeof window&&("undefined"!=typeof window&&(fe&&de||(de=e=>{if(e.source!==window.parent)return;if(!se.isValid(e.origin))return;const t=e.data;t&&"object"==typeof t&&("miniapp_config"!==t.type?"miniapp_wallet_state_change"===t.type&&(ue={connected:Boolean(t.connected),address:t.address||null,chainId:t.chainId??null,chainType:t.chainType??null,balance:t.balance||t.multiChainBalance||null,balances:t.balances||void 0},ce.forEach(e=>{try{e(ue)}catch(t){console.error("[MiniApp SDK] Wallet state listener error:",t)}})):t.config&&"object"==typeof t.config&&t.config)},window.addEventListener("message",de),fe=!0)),setTimeout(function(){if("undefined"==typeof window)return;const e=se.getSafeTargetOrigin();try{window.parent.postMessage({type:"miniapp_ready"},e)}catch{}},oe)),t("en");const pe=P(r({__name:"NeoCard",props:{title:{default:void 0},variant:{default:"default"},hoverable:{type:Boolean,default:!1},flat:{type:Boolean,default:!1}},emits:["click"],setup:e=>(e,t)=>{const n=f,a=s;return o(),l(a,{class:u(["neo-card",`neo-card--${e.variant}`,{"neo-card--hoverable":e.hoverable,"neo-card--flat":e.flat}]),role:e.hoverable?"button":void 0,tabindex:e.hoverable?0:void 0,onClick:t[0]||(t[0]=t=>e.hoverable&&e.$emit("click",t)),onKeydown:[t[1]||(t[1]=h(t=>e.hoverable&&e.$emit("click",t),["enter"])),t[2]||(t[2]=h(m(t=>e.hoverable&&e.$emit("click",t),["prevent"]),["space"]))]},{default:d(()=>[e.title||e.$slots.header?(o(),l(a,{key:0,class:"neo-card__header"},{default:d(()=>[e.title?(o(),l(n,{key:0,class:"neo-card__title"},{default:d(()=>[p(g(e.title),1)]),_:1})):v("",!0),w(e.$slots,"header",{},void 0,!0)]),_:3})):v("",!0),y(a,{class:"neo-card__body"},{default:d(()=>[w(e.$slots,"default",{},void 0,!0)]),_:3}),e.$slots.footer?(o(),l(a,{key:1,class:"neo-card__footer"},{default:d(()=>[w(e.$slots,"footer",{},void 0,!0)]),_:3})):v("",!0)]),_:3},8,["class","role","tabindex"])}}),[["__scopeId","data-v-3f370003"]]),ge=P(r({__name:"NeoButton",props:{variant:{default:"primary"},size:{default:"md"},block:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},ariaLabel:{default:void 0}},emits:["click"],setup:e=>(e,t)=>{const n=s,a=b;return o(),l(a,{class:u(["neo-btn",`neo-btn--${e.variant}`,`neo-btn--${e.size}`,{"neo-btn--block":e.block,"neo-btn--loading":e.loading}]),disabled:e.disabled||e.loading,"aria-busy":e.loading,"aria-disabled":e.disabled||e.loading,"aria-label":e.ariaLabel,onClick:t[0]||(t[0]=t=>e.$emit("click",t))},{default:d(()=>[e.loading?(o(),l(n,{key:0,class:"neo-btn__spinner"})):w(e.$slots,"default",{key:1},void 0,!0)]),_:3},8,["class","disabled","aria-busy","aria-disabled","aria-label"])}}),[["__scopeId","data-v-4b6100e3"]]),he=P(r({__name:"NeoInput",props:{modelValue:{},type:{},label:{},placeholder:{},suffix:{},suffixIcon:{},hint:{},error:{},disabled:{type:Boolean}},emits:["update:modelValue","focus","blur"],setup(e){let t=0;const n="neo-input-"+ ++t;return(e,t)=>{const a=f,r=_,i=C,c=s;return o(),l(c,{class:u(["neo-input",{"neo-input--error":e.error,"neo-input--disabled":e.disabled}])},{default:d(()=>[e.label?(o(),l(a,{key:0,class:"neo-input__label"},{default:d(()=>[p(g(e.label),1)]),_:1})):v("",!0),y(c,{class:"neo-input__wrapper"},{default:d(()=>["textarea"===e.type?(o(),l(r,{key:0,value:e.modelValue,placeholder:e.placeholder,disabled:e.disabled,"aria-describedby":e.error?`${n}-error`:e.hint?`${n}-hint`:void 0,"aria-invalid":!!e.error,class:"neo-input__field neo-input__textarea",onInput:t[0]||(t[0]=t=>e.$emit("update:modelValue",t.target.value)),onFocus:t[1]||(t[1]=t=>e.$emit("focus",t)),onBlur:t[2]||(t[2]=t=>e.$emit("blur",t))},null,8,["value","placeholder","disabled","aria-describedby","aria-invalid"])):(o(),l(i,{key:1,value:e.modelValue,type:e.type,placeholder:e.placeholder,disabled:e.disabled,"aria-describedby":e.error?`${n}-error`:e.hint?`${n}-hint`:void 0,"aria-invalid":!!e.error,class:"neo-input__field",onInput:t[3]||(t[3]=t=>e.$emit("update:modelValue",t.target.value)),onFocus:t[4]||(t[4]=t=>e.$emit("focus",t)),onBlur:t[5]||(t[5]=t=>e.$emit("blur",t))},null,8,["value","type","placeholder","disabled","aria-describedby","aria-invalid"])),e.suffixIcon||e.suffix?(o(),l(c,{key:2,class:"neo-input__suffix"},{default:d(()=>[e.suffixIcon?(o(),l(k(ie),{key:0,name:e.suffixIcon,size:18},null,8,["name"])):v("",!0),e.suffix?(o(),l(a,{key:1},{default:d(()=>[p(g(e.suffix),1)]),_:1})):v("",!0)]),_:1})):v("",!0)]),_:1}),e.error?(o(),l(a,{key:1,id:`${n}-error`,class:"neo-input__error",role:"alert"},{default:d(()=>[p(g(e.error),1)]),_:1},8,["id"])):e.hint?(o(),l(a,{key:2,id:`${n}-hint`,class:"neo-input__hint"},{default:d(()=>[p(g(e.hint),1)]),_:1},8,["id"])):v("",!0)]),_:1},8,["class"])}}}),[["__scopeId","data-v-fda1146f"]]),me=P(r({__name:"NeoModal",props:{visible:{type:Boolean},title:{},variant:{},closeable:{type:Boolean}},emits:["close"],setup(e){const n=e,r=t(null);let i=null;return I(()=>n.visible,async e=>{var t,n,a,o;if(e){i="undefined"!=typeof document?document.activeElement:null,await A();null==(a=null==(n=(null==(t=r.value)?void 0:t.querySelector('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'))||r.value)?void 0:n.focus)||a.call(n)}else i&&(null==(o=i.focus)||o.call(i),i=null)}),a(()=>{i=null}),(e,t)=>{const n=f,a=s;return e.visible?(o(),l(a,{key:0,class:"neo-modal",role:"dialog","aria-modal":"true","aria-label":e.title||"Dialog",onClick:t[3]||(t[3]=m(t=>e.closeable&&e.$emit("close"),["self"])),onKeydown:t[4]||(t[4]=h(t=>e.closeable&&e.$emit("close"),["escape"]))},{default:d(()=>[y(a,{ref_key:"contentRef",ref:r,class:u(["neo-modal__content",`neo-modal--${e.variant}`])},{default:d(()=>[e.title?(o(),l(a,{key:0,class:"neo-modal__header"},{default:d(()=>[y(n,{class:"neo-modal__title"},{default:d(()=>[p(g(e.title),1)]),_:1}),e.closeable?(o(),l(a,{key:0,class:"neo-modal__close",role:"button",tabindex:"0","aria-label":"Close dialog",onClick:t[0]||(t[0]=t=>e.$emit("close")),onKeydown:[t[1]||(t[1]=h(t=>e.$emit("close"),["enter"])),t[2]||(t[2]=h(m(t=>e.$emit("close"),["prevent"]),["space"]))]},{default:d(()=>[y(ie,{name:"x",size:20})]),_:1})):v("",!0)]),_:1})):v("",!0),y(a,{class:"neo-modal__body"},{default:d(()=>[w(e.$slots,"default",{},void 0,!0)]),_:3}),e.$slots.footer?(o(),l(a,{key:1,class:"neo-modal__footer"},{default:d(()=>[w(e.$slots,"footer",{},void 0,!0)]),_:3})):v("",!0)]),_:3},8,["class"])]),_:3},8,["aria-label"])):v("",!0)}}}),[["__scopeId","data-v-53191fc6"]]);function ve(e){if(null==e)return null;if("object"==typeof e&&"type"in e){const t=e;switch(t.type){case"ByteArray":case"Buffer":case"InteropInterface":default:return t.value;case"Integer":return"string"==typeof t.value?t.value.startsWith("0x")?BigInt(t.value).toString():parseInt(t.value,10):Number(t.value);case"Array":case"Struct":return Array.isArray(t.value)?t.value.map(ve):t.value;case"Map":if(Array.isArray(t.value)){const e=new Map;for(const n of t.value)Array.isArray(n)&&2===n.length&&e.set(ve(n[0]),ve(n[1]));return Object.fromEntries(e)}return t.value;case"Boolean":return Boolean(t.value);case"String":case"Hash160":case"Hash256":return String(t.value)}}return Array.isArray(e)?e.map(ve):e}function we(e){if(!e)return null;if("object"==typeof e&&null!==e){const t=e;return"stack"in t&&Array.isArray(t.stack)?0===t.stack.length?null:1===t.stack.length?ve(t.stack[0]):t.stack.map(ve):"state"in t?ve(t.state):"txid"in t||"txHash"in t?e:ve(e)}return"string"==typeof e||"number"==typeof e||"boolean"==typeof e?e:ve(e)}const ye=new Set(["neo-n3","neo-n3-mainnet","neo-n3-testnet"]);function be(e,t,n,a){const r=function(e){if("string"==typeof e)return e;const t=null==e?void 0:e.value;return"string"==typeof t?t:""}(e);if(ye.has(r))return!0;let i="";if(!i&&"function"==typeof t){const e=t("wrongChainMessage");i=e&&"wrongChainMessage"!==e?e:t("wrongChain")}i||(i="Wrong network");const o=globalThis.uni;return(null==o?void 0:o.showToast)&&o.showToast({title:i,icon:"none"}),!1}var _e={},Ce={},ke={};let Ie;const Ae=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];ke.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return 4*e+17},ke.getSymbolTotalCodewords=function(e){return Ae[e]},ke.getBCHDigit=function(e){let t=0;for(;0!==e;)t++,e>>>=1;return t},ke.setToSJISFunction=function(e){if("function"!=typeof e)throw new Error('"toSJISFunc" is not a valid function.');Ie=e},ke.isKanjiModeEnabled=function(){return void 0!==Ie},ke.toSJIS=function(e){return Ie(e)};var Ee,Se={};function Te(){this.buffer=[],this.length=0}(Ee=Se).L={bit:1},Ee.M={bit:0},Ee.Q={bit:3},Ee.H={bit:2},Ee.isValid=function(e){return e&&void 0!==e.bit&&e.bit>=0&&e.bit<4},Ee.from=function(e,t){if(Ee.isValid(e))return e;try{return function(e){if("string"!=typeof e)throw new Error("Param is not a string");switch(e.toLowerCase()){case"l":case"low":return Ee.L;case"m":case"medium":return Ee.M;case"q":case"quartile":return Ee.Q;case"h":case"high":return Ee.H;default:throw new Error("Unknown EC Level: "+e)}}(e)}catch(n){return t}},Te.prototype={get:function(e){const t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(let n=0;n<t;n++)this.putBit(1==(e>>>t-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var Ne=Te;function Me(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}Me.prototype.set=function(e,t,n,a){const r=e*this.size+t;this.data[r]=n,a&&(this.reservedBit[r]=!0)},Me.prototype.get=function(e,t){return this.data[e*this.size+t]},Me.prototype.xor=function(e,t,n){this.data[e*this.size+t]^=n},Me.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]};var Be=Me,Re={};!function(e){const t=ke.getSymbolSize;e.getRowColCoords=function(e){if(1===e)return[];const n=Math.floor(e/7)+2,a=t(e),r=145===a?26:2*Math.ceil((a-13)/(2*n-2)),i=[a-7];for(let t=1;t<n-1;t++)i[t]=i[t-1]-r;return i.push(6),i.reverse()},e.getPositions=function(t){const n=[],a=e.getRowColCoords(t),r=a.length;for(let e=0;e<r;e++)for(let t=0;t<r;t++)0===e&&0===t||0===e&&t===r-1||e===r-1&&0===t||n.push([a[e],a[t]]);return n}}(Re);var Pe={};const xe=ke.getSymbolSize;Pe.getPositions=function(e){const t=xe(e);return[[0,0],[t-7,0],[0,t-7]]};var $e={};!function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t=3,n=3,a=40,r=10;function i(t,n,a){switch(t){case e.Patterns.PATTERN000:return(n+a)%2==0;case e.Patterns.PATTERN001:return n%2==0;case e.Patterns.PATTERN010:return a%3==0;case e.Patterns.PATTERN011:return(n+a)%3==0;case e.Patterns.PATTERN100:return(Math.floor(n/2)+Math.floor(a/3))%2==0;case e.Patterns.PATTERN101:return n*a%2+n*a%3==0;case e.Patterns.PATTERN110:return(n*a%2+n*a%3)%2==0;case e.Patterns.PATTERN111:return(n*a%3+(n+a)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}}e.isValid=function(e){return null!=e&&""!==e&&!isNaN(e)&&e>=0&&e<=7},e.from=function(t){return e.isValid(t)?parseInt(t,10):void 0},e.getPenaltyN1=function(e){const n=e.size;let a=0,r=0,i=0,o=null,l=null;for(let s=0;s<n;s++){r=i=0,o=l=null;for(let c=0;c<n;c++){let n=e.get(s,c);n===o?r++:(r>=5&&(a+=t+(r-5)),o=n,r=1),n=e.get(c,s),n===l?i++:(i>=5&&(a+=t+(i-5)),l=n,i=1)}r>=5&&(a+=t+(r-5)),i>=5&&(a+=t+(i-5))}return a},e.getPenaltyN2=function(e){const t=e.size;let a=0;for(let n=0;n<t-1;n++)for(let r=0;r<t-1;r++){const t=e.get(n,r)+e.get(n,r+1)+e.get(n+1,r)+e.get(n+1,r+1);4!==t&&0!==t||a++}return a*n},e.getPenaltyN3=function(e){const t=e.size;let n=0,r=0,i=0;for(let a=0;a<t;a++){r=i=0;for(let o=0;o<t;o++)r=r<<1&2047|e.get(a,o),o>=10&&(1488===r||93===r)&&n++,i=i<<1&2047|e.get(o,a),o>=10&&(1488===i||93===i)&&n++}return n*a},e.getPenaltyN4=function(e){let t=0;const n=e.data.length;for(let a=0;a<n;a++)t+=e.data[a];return Math.abs(Math.ceil(100*t/n/5)-10)*r},e.applyMask=function(e,t){const n=t.size;for(let a=0;a<n;a++)for(let r=0;r<n;r++)t.isReserved(r,a)||t.xor(r,a,i(e,r,a))},e.getBestMask=function(t,n){const a=Object.keys(e.Patterns).length;let r=0,i=1/0;for(let o=0;o<a;o++){n(o),e.applyMask(o,t);const a=e.getPenaltyN1(t)+e.getPenaltyN2(t)+e.getPenaltyN3(t)+e.getPenaltyN4(t);e.applyMask(o,t),a<i&&(i=a,r=o)}return r}}($e);var Oe={};const Ue=Se,Le=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],De=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Oe.getBlocksCount=function(e,t){switch(t){case Ue.L:return Le[4*(e-1)+0];case Ue.M:return Le[4*(e-1)+1];case Ue.Q:return Le[4*(e-1)+2];case Ue.H:return Le[4*(e-1)+3];default:return}},Oe.getTotalCodewordsCount=function(e,t){switch(t){case Ue.L:return De[4*(e-1)+0];case Ue.M:return De[4*(e-1)+1];case Ue.Q:return De[4*(e-1)+2];case Ue.H:return De[4*(e-1)+3];default:return}};var Ve={},ze={};const He=new Uint8Array(512),Ke=new Uint8Array(256);!function(){let e=1;for(let t=0;t<255;t++)He[t]=e,Ke[e]=t,e<<=1,256&e&&(e^=285);for(let t=255;t<512;t++)He[t]=He[t-255]}(),ze.log=function(e){if(e<1)throw new Error("log("+e+")");return Ke[e]},ze.exp=function(e){return He[e]},ze.mul=function(e,t){return 0===e||0===t?0:He[Ke[e]+Ke[t]]},function(e){const t=ze;e.mul=function(e,n){const a=new Uint8Array(e.length+n.length-1);for(let r=0;r<e.length;r++)for(let i=0;i<n.length;i++)a[r+i]^=t.mul(e[r],n[i]);return a},e.mod=function(e,n){let a=new Uint8Array(e);for(;a.length-n.length>=0;){const e=a[0];for(let i=0;i<n.length;i++)a[i]^=t.mul(n[i],e);let r=0;for(;r<a.length&&0===a[r];)r++;a=a.slice(r)}return a},e.generateECPolynomial=function(n){let a=new Uint8Array([1]);for(let r=0;r<n;r++)a=e.mul(a,new Uint8Array([1,t.exp(r)]));return a}}(Ve);const je=Ve;function Fe(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}Fe.prototype.initialize=function(e){this.degree=e,this.genPoly=je.generateECPolynomial(this.degree)},Fe.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const t=new Uint8Array(e.length+this.degree);t.set(e);const n=je.mod(t,this.genPoly),a=this.degree-n.length;if(a>0){const e=new Uint8Array(this.degree);return e.set(n,a),e}return n};var qe=Fe,Je={},Ye={},Ge={isValid:function(e){return!isNaN(e)&&e>=1&&e<=40}},Qe={};const We="[0-9]+";let Ze="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Ze=Ze.replace(/u/g,"\\u");const Xe="(?:(?![A-Z0-9 $%*+\\-./:]|"+Ze+")(?:.|[\r\n]))+";Qe.KANJI=new RegExp(Ze,"g"),Qe.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),Qe.BYTE=new RegExp(Xe,"g"),Qe.NUMERIC=new RegExp(We,"g"),Qe.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const et=new RegExp("^"+Ze+"$"),tt=new RegExp("^"+We+"$"),nt=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");Qe.testKanji=function(e){return et.test(e)},Qe.testNumeric=function(e){return tt.test(e)},Qe.testAlphanumeric=function(e){return nt.test(e)},function(e){const t=Ge,n=Qe;e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(e,n){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!t.isValid(n))throw new Error("Invalid version: "+n);return n>=1&&n<10?e.ccBits[0]:n<27?e.ccBits[1]:e.ccBits[2]},e.getBestModeForData=function(t){return n.testNumeric(t)?e.NUMERIC:n.testAlphanumeric(t)?e.ALPHANUMERIC:n.testKanji(t)?e.KANJI:e.BYTE},e.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")},e.isValid=function(e){return e&&e.bit&&e.ccBits},e.from=function(t,n){if(e.isValid(t))return t;try{return function(t){if("string"!=typeof t)throw new Error("Param is not a string");switch(t.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+t)}}(t)}catch(a){return n}}}(Ye),function(e){const t=ke,n=Oe,a=Se,r=Ye,i=Ge,o=t.getBCHDigit(7973);function l(e,t){return r.getCharCountIndicator(e,t)+4}function s(e,t){let n=0;return e.forEach(function(e){const a=l(e.mode,t);n+=a+e.getBitsLength()}),n}e.from=function(e,t){return i.isValid(e)?parseInt(e,10):t},e.getCapacity=function(e,a,o){if(!i.isValid(e))throw new Error("Invalid QR Code version");void 0===o&&(o=r.BYTE);const s=8*(t.getSymbolTotalCodewords(e)-n.getTotalCodewordsCount(e,a));if(o===r.MIXED)return s;const c=s-l(o,e);switch(o){case r.NUMERIC:return Math.floor(c/10*3);case r.ALPHANUMERIC:return Math.floor(c/11*2);case r.KANJI:return Math.floor(c/13);case r.BYTE:default:return Math.floor(c/8)}},e.getBestVersionForData=function(t,n){let i;const o=a.from(n,a.M);if(Array.isArray(t)){if(t.length>1)return function(t,n){for(let a=1;a<=40;a++)if(s(t,a)<=e.getCapacity(a,n,r.MIXED))return a}(t,o);if(0===t.length)return 1;i=t[0]}else i=t;return function(t,n,a){for(let r=1;r<=40;r++)if(n<=e.getCapacity(r,a,t))return r}(i.mode,i.getLength(),o)},e.getEncodedBits=function(e){if(!i.isValid(e)||e<7)throw new Error("Invalid QR Code version");let n=e<<12;for(;t.getBCHDigit(n)-o>=0;)n^=7973<<t.getBCHDigit(n)-o;return e<<12|n}}(Je);var at={};const rt=ke,it=rt.getBCHDigit(1335);at.getEncodedBits=function(e,t){const n=e.bit<<3|t;let a=n<<10;for(;rt.getBCHDigit(a)-it>=0;)a^=1335<<rt.getBCHDigit(a)-it;return 21522^(n<<10|a)};var ot={};const lt=Ye;function st(e){this.mode=lt.NUMERIC,this.data=e.toString()}st.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)},st.prototype.getLength=function(){return this.data.length},st.prototype.getBitsLength=function(){return st.getBitsLength(this.data.length)},st.prototype.write=function(e){let t,n,a;for(t=0;t+3<=this.data.length;t+=3)n=this.data.substr(t,3),a=parseInt(n,10),e.put(a,10);const r=this.data.length-t;r>0&&(n=this.data.substr(t),a=parseInt(n,10),e.put(a,3*r+1))};var ct=st;const ut=Ye,dt=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function ft(e){this.mode=ut.ALPHANUMERIC,this.data=e}ft.getBitsLength=function(e){return 11*Math.floor(e/2)+e%2*6},ft.prototype.getLength=function(){return this.data.length},ft.prototype.getBitsLength=function(){return ft.getBitsLength(this.data.length)},ft.prototype.write=function(e){let t;for(t=0;t+2<=this.data.length;t+=2){let n=45*dt.indexOf(this.data[t]);n+=dt.indexOf(this.data[t+1]),e.put(n,11)}this.data.length%2&&e.put(dt.indexOf(this.data[t]),6)};var pt=ft;const gt=$,ht=Ye;function mt(e){this.mode=ht.BYTE,"string"==typeof e&&(e=gt(e)),this.data=new Uint8Array(e)}mt.getBitsLength=function(e){return 8*e},mt.prototype.getLength=function(){return this.data.length},mt.prototype.getBitsLength=function(){return mt.getBitsLength(this.data.length)},mt.prototype.write=function(e){for(let t=0,n=this.data.length;t<n;t++)e.put(this.data[t],8)};var vt=mt;const wt=Ye,yt=ke;function bt(e){this.mode=wt.KANJI,this.data=e}bt.getBitsLength=function(e){return 13*e},bt.prototype.getLength=function(){return this.data.length},bt.prototype.getBitsLength=function(){return bt.getBitsLength(this.data.length)},bt.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let n=yt.toSJIS(this.data[t]);if(n>=33088&&n<=40956)n-=33088;else{if(!(n>=57408&&n<=60351))throw new Error("Invalid SJIS character: "+this.data[t]+"\nMake sure your charset is UTF-8");n-=49472}n=192*(n>>>8&255)+(255&n),e.put(n,13)}};var _t=bt;!function(e){const t=Ye,n=ct,a=pt,r=vt,i=_t,o=Qe,l=ke,s=O;function c(e){return unescape(encodeURIComponent(e)).length}function u(e,t,n){const a=[];let r;for(;null!==(r=e.exec(n));)a.push({data:r[0],index:r.index,mode:t,length:r[0].length});return a}function d(e){const n=u(o.NUMERIC,t.NUMERIC,e),a=u(o.ALPHANUMERIC,t.ALPHANUMERIC,e);let r,i;l.isKanjiModeEnabled()?(r=u(o.BYTE,t.BYTE,e),i=u(o.KANJI,t.KANJI,e)):(r=u(o.BYTE_KANJI,t.BYTE,e),i=[]);return n.concat(a,r,i).sort(function(e,t){return e.index-t.index}).map(function(e){return{data:e.data,mode:e.mode,length:e.length}})}function f(e,o){switch(o){case t.NUMERIC:return n.getBitsLength(e);case t.ALPHANUMERIC:return a.getBitsLength(e);case t.KANJI:return i.getBitsLength(e);case t.BYTE:return r.getBitsLength(e)}}function p(e,o){let s;const c=t.getBestModeForData(e);if(s=t.from(o,c),s!==t.BYTE&&s.bit<c.bit)throw new Error('"'+e+'" cannot be encoded with mode '+t.toString(s)+".\n Suggested mode is: "+t.toString(c));switch(s!==t.KANJI||l.isKanjiModeEnabled()||(s=t.BYTE),s){case t.NUMERIC:return new n(e);case t.ALPHANUMERIC:return new a(e);case t.KANJI:return new i(e);case t.BYTE:return new r(e)}}e.fromArray=function(e){return e.reduce(function(e,t){return"string"==typeof t?e.push(p(t,null)):t.data&&e.push(p(t.data,t.mode)),e},[])},e.fromString=function(n,a){const r=function(e){const n=[];for(let a=0;a<e.length;a++){const r=e[a];switch(r.mode){case t.NUMERIC:n.push([r,{data:r.data,mode:t.ALPHANUMERIC,length:r.length},{data:r.data,mode:t.BYTE,length:r.length}]);break;case t.ALPHANUMERIC:n.push([r,{data:r.data,mode:t.BYTE,length:r.length}]);break;case t.KANJI:n.push([r,{data:r.data,mode:t.BYTE,length:c(r.data)}]);break;case t.BYTE:n.push([{data:r.data,mode:t.BYTE,length:c(r.data)}])}}return n}(d(n,l.isKanjiModeEnabled())),i=function(e,n){const a={},r={start:{}};let i=["start"];for(let o=0;o<e.length;o++){const l=e[o],s=[];for(let e=0;e<l.length;e++){const c=l[e],u=""+o+e;s.push(u),a[u]={node:c,lastCount:0},r[u]={};for(let e=0;e<i.length;e++){const o=i[e];a[o]&&a[o].node.mode===c.mode?(r[o][u]=f(a[o].lastCount+c.length,c.mode)-f(a[o].lastCount,c.mode),a[o].lastCount+=c.length):(a[o]&&(a[o].lastCount=c.length),r[o][u]=f(c.length,c.mode)+4+t.getCharCountIndicator(c.mode,n))}}i=s}for(let t=0;t<i.length;t++)r[i[t]].end=0;return{map:r,table:a}}(r,a),o=s.find_path(i.map,"start","end"),u=[];for(let e=1;e<o.length-1;e++)u.push(i.table[o[e]].node);return e.fromArray(function(e){return e.reduce(function(e,t){const n=e.length-1>=0?e[e.length-1]:null;return n&&n.mode===t.mode?(e[e.length-1].data+=t.data,e):(e.push(t),e)},[])}(u))},e.rawSplit=function(t){return e.fromArray(d(t,l.isKanjiModeEnabled()))}}(ot);const Ct=ke,kt=Se,It=Ne,At=Be,Et=Re,St=Pe,Tt=$e,Nt=Oe,Mt=qe,Bt=Je,Rt=at,Pt=Ye,xt=ot;function $t(e,t,n){const a=e.size,r=Rt.getEncodedBits(t,n);let i,o;for(i=0;i<15;i++)o=1==(r>>i&1),i<6?e.set(i,8,o,!0):i<8?e.set(i+1,8,o,!0):e.set(a-15+i,8,o,!0),i<8?e.set(8,a-i-1,o,!0):i<9?e.set(8,15-i-1+1,o,!0):e.set(8,15-i-1,o,!0);e.set(a-8,8,1,!0)}function Ot(e,t,n){const a=new It;n.forEach(function(t){a.put(t.mode.bit,4),a.put(t.getLength(),Pt.getCharCountIndicator(t.mode,e)),t.write(a)});const r=8*(Ct.getSymbolTotalCodewords(e)-Nt.getTotalCodewordsCount(e,t));for(a.getLengthInBits()+4<=r&&a.put(0,4);a.getLengthInBits()%8!=0;)a.putBit(0);const i=(r-a.getLengthInBits())/8;for(let o=0;o<i;o++)a.put(o%2?17:236,8);return function(e,t,n){const a=Ct.getSymbolTotalCodewords(t),r=Nt.getTotalCodewordsCount(t,n),i=a-r,o=Nt.getBlocksCount(t,n),l=a%o,s=o-l,c=Math.floor(a/o),u=Math.floor(i/o),d=u+1,f=c-u,p=new Mt(f);let g=0;const h=new Array(o),m=new Array(o);let v=0;const w=new Uint8Array(e.buffer);for(let k=0;k<o;k++){const e=k<s?u:d;h[k]=w.slice(g,g+e),m[k]=p.encode(h[k]),g+=e,v=Math.max(v,e)}const y=new Uint8Array(a);let b,_,C=0;for(b=0;b<v;b++)for(_=0;_<o;_++)b<h[_].length&&(y[C++]=h[_][b]);for(b=0;b<f;b++)for(_=0;_<o;_++)y[C++]=m[_][b];return y}(a,e,t)}function Ut(e,t,n,a){let r;if(Array.isArray(e))r=xt.fromArray(e);else{if("string"!=typeof e)throw new Error("Invalid data");{let a=t;if(!a){const t=xt.rawSplit(e);a=Bt.getBestVersionForData(t,n)}r=xt.fromString(e,a||40)}}const i=Bt.getBestVersionForData(r,n);if(!i)throw new Error("The amount of data is too big to be stored in a QR Code");if(t){if(t<i)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+i+".\n")}else t=i;const o=Ot(t,n,r),l=Ct.getSymbolSize(t),s=new At(l);return function(e,t){const n=e.size,a=St.getPositions(t);for(let r=0;r<a.length;r++){const t=a[r][0],i=a[r][1];for(let a=-1;a<=7;a++)if(!(t+a<=-1||n<=t+a))for(let r=-1;r<=7;r++)i+r<=-1||n<=i+r||(a>=0&&a<=6&&(0===r||6===r)||r>=0&&r<=6&&(0===a||6===a)||a>=2&&a<=4&&r>=2&&r<=4?e.set(t+a,i+r,!0,!0):e.set(t+a,i+r,!1,!0))}}(s,t),function(e){const t=e.size;for(let n=8;n<t-8;n++){const t=n%2==0;e.set(n,6,t,!0),e.set(6,n,t,!0)}}(s),function(e,t){const n=Et.getPositions(t);for(let a=0;a<n.length;a++){const t=n[a][0],r=n[a][1];for(let n=-2;n<=2;n++)for(let a=-2;a<=2;a++)-2===n||2===n||-2===a||2===a||0===n&&0===a?e.set(t+n,r+a,!0,!0):e.set(t+n,r+a,!1,!0)}}(s,t),$t(s,n,0),t>=7&&function(e,t){const n=e.size,a=Bt.getEncodedBits(t);let r,i,o;for(let l=0;l<18;l++)r=Math.floor(l/3),i=l%3+n-8-3,o=1==(a>>l&1),e.set(r,i,o,!0),e.set(i,r,o,!0)}(s,t),function(e,t){const n=e.size;let a=-1,r=n-1,i=7,o=0;for(let l=n-1;l>0;l-=2)for(6===l&&l--;;){for(let n=0;n<2;n++)if(!e.isReserved(r,l-n)){let a=!1;o<t.length&&(a=1==(t[o]>>>i&1)),e.set(r,l-n,a),i--,-1===i&&(o++,i=7)}if(r+=a,r<0||n<=r){r-=a,a=-a;break}}}(s,o),isNaN(a)&&(a=Tt.getBestMask(s,$t.bind(null,s,n))),Tt.applyMask(a,s),$t(s,n,a),{modules:s,version:t,errorCorrectionLevel:n,maskPattern:a,segments:r}}Ce.create=function(e,t){if(void 0===e||""===e)throw new Error("No input text");let n,a,r=kt.M;return void 0!==t&&(r=kt.from(t.errorCorrectionLevel,kt.M),n=Bt.from(t.version),a=Tt.from(t.maskPattern),t.toSJISFunc&&Ct.setToSJISFunction(t.toSJISFunc)),Ut(e,n,r,a)};var Lt={},Dt={};!function(e){function t(e){if("number"==typeof e&&(e=e.toString()),"string"!=typeof e)throw new Error("Color should be defined as hex string");let t=e.slice().replace("#","").split("");if(t.length<3||5===t.length||t.length>8)throw new Error("Invalid hex color: "+e);3!==t.length&&4!==t.length||(t=Array.prototype.concat.apply([],t.map(function(e){return[e,e]}))),6===t.length&&t.push("F","F");const n=parseInt(t.join(""),16);return{r:n>>24&255,g:n>>16&255,b:n>>8&255,a:255&n,hex:"#"+t.slice(0,6).join("")}}e.getOptions=function(e){e||(e={}),e.color||(e.color={});const n=void 0===e.margin||null===e.margin||e.margin<0?4:e.margin,a=e.width&&e.width>=21?e.width:void 0,r=e.scale||4;return{width:a,scale:a?4:r,margin:n,color:{dark:t(e.color.dark||"#000000ff"),light:t(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}},e.getScale=function(e,t){return t.width&&t.width>=e+2*t.margin?t.width/(e+2*t.margin):t.scale},e.getImageWidth=function(t,n){const a=e.getScale(t,n);return Math.floor((t+2*n.margin)*a)},e.qrToImageData=function(t,n,a){const r=n.modules.size,i=n.modules.data,o=e.getScale(r,a),l=Math.floor((r+2*a.margin)*o),s=a.margin*o,c=[a.color.light,a.color.dark];for(let e=0;e<l;e++)for(let n=0;n<l;n++){let u=4*(e*l+n),d=a.color.light;if(e>=s&&n>=s&&e<l-s&&n<l-s){d=c[i[Math.floor((e-s)/o)*r+Math.floor((n-s)/o)]?1:0]}t[u++]=d.r,t[u++]=d.g,t[u++]=d.b,t[u]=d.a}}}(Dt),function(e){const t=Dt;e.render=function(e,n,a){let r=a,i=n;void 0!==r||n&&n.getContext||(r=n,n=void 0),n||(i=function(){try{return document.createElement("canvas")}catch(e){throw new Error("You need to specify a canvas element")}}()),r=t.getOptions(r);const o=t.getImageWidth(e.modules.size,r),l=i.getContext("2d"),s=l.createImageData(o,o);return t.qrToImageData(s.data,e,r),function(e,t,n){e.clearRect(0,0,t.width,t.height),t.style||(t.style={}),t.height=n,t.width=n,t.style.height=n+"px",t.style.width=n+"px"}(l,i,o),l.putImageData(s,0,0),i},e.renderToDataURL=function(t,n,a){let r=a;void 0!==r||n&&n.getContext||(r=n,n=void 0),r||(r={});const i=e.render(t,n,r),o=r.type||"image/png",l=r.rendererOpts||{};return i.toDataURL(o,l.quality)}}(Lt);var Vt={};const zt=Dt;function Ht(e,t){const n=e.a/255,a=t+'="'+e.hex+'"';return n<1?a+" "+t+'-opacity="'+n.toFixed(2).slice(1)+'"':a}function Kt(e,t,n){let a=e+t;return void 0!==n&&(a+=" "+n),a}Vt.render=function(e,t,n){const a=zt.getOptions(t),r=e.modules.size,i=e.modules.data,o=r+2*a.margin,l=a.color.light.a?"<path "+Ht(a.color.light,"fill")+' d="M0 0h'+o+"v"+o+'H0z"/>':"",s="<path "+Ht(a.color.dark,"stroke")+' d="'+function(e,t,n){let a="",r=0,i=!1,o=0;for(let l=0;l<e.length;l++){const s=Math.floor(l%t),c=Math.floor(l/t);s||i||(i=!0),e[l]?(o++,l>0&&s>0&&e[l-1]||(a+=i?Kt("M",s+n,.5+c+n):Kt("m",r,0),r=0,i=!1),s+1<t&&e[l+1]||(a+=Kt("h",o),o=0)):r++}return a}(i,r,a.margin)+'"/>',c='viewBox="0 0 '+o+" "+o+'"',u='<svg xmlns="http://www.w3.org/2000/svg" '+(a.width?'width="'+a.width+'" height="'+a.width+'" ':"")+c+' shape-rendering="crispEdges">'+l+s+"</svg>\n";return"function"==typeof n&&n(null,u),u};const jt=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then},Ft=Ce,qt=Lt,Jt=Vt;function Yt(e,t,n,a,r){const i=[].slice.call(arguments,1),o=i.length,l="function"==typeof i[o-1];if(!l&&!jt())throw new Error("Callback required as last argument");if(!l){if(o<1)throw new Error("Too few arguments provided");return 1===o?(n=t,t=a=void 0):2!==o||t.getContext||(a=n,n=t,t=void 0),new Promise(function(r,i){try{const i=Ft.create(n,a);r(e(i,t,a))}catch(o){i(o)}})}if(o<2)throw new Error("Too few arguments provided");2===o?(r=n,n=t,t=a=void 0):3===o&&(t.getContext&&void 0===r?(r=a,a=void 0):(r=a,a=n,n=t,t=void 0));try{const i=Ft.create(n,a);r(null,e(i,t,a))}catch(s){r(s)}}function Gt(){const{t:e}=x(),{address:n,invokeRead:a,chainType:r,getContractAddress:i}=re(),o=t(null),l=t([]),s=t([]),c=E({}),u=e=>{try{return BigInt(String(e??"0"))}catch{return 0n}},d=e=>!0===e||"true"===e||1===e||"1"===e,f=e=>{try{const t=(new TextEncoder).encode(e);return btoa(String.fromCharCode(...t))}catch{return e}},p=async()=>{if(!be(r,e))throw new Error(e("wrongChain"));if(o.value||(o.value=await i()),!o.value)throw new Error(e("contractMissing"));return o.value},g=async e=>{const t=await p(),n=we(await a({contractAddress:t,operation:"GetTemplateDetails",args:[{type:"Integer",value:e}]}));return i=e,(r=n)&&"object"==typeof r?{id:i,issuer:String(r.issuer||""),name:String(r.name||""),issuerName:String(r.issuerName||""),category:String(r.category||""),maxSupply:u(r.maxSupply),issued:u(r.issued),description:String(r.description||""),active:d(r.active)}:null;var r,i};return{templates:l,certificates:s,certQrs:c,refreshTemplates:async()=>{if(n.value)try{const e=await(async e=>{const t=await p(),n=we(await a({contractAddress:t,operation:"GetIssuerTemplates",args:[{type:"Hash160",value:e},{type:"Integer",value:"0"},{type:"Integer",value:"20"}]}));return Array.isArray(n)?n.map(e=>String(e||"")).map(e=>Number.parseInt(e,10)).filter(e=>Number.isFinite(e)&&e>0).map(e=>String(e)):[]})(n.value),t=await Promise.all(e.map(g));l.value=t.filter(Boolean)}catch{l.value=[]}},refreshCertificates:async()=>{if(n.value)try{const e=await p(),t=we(await a({contractAddress:e,operation:"TokensOf",args:[{type:"Hash160",value:n.value}]}));if(!Array.isArray(t))return void(s.value=[]);const r=t.map(e=>String(e||"")).filter(Boolean),i=await Promise.all(r.map(async t=>((e,t)=>e&&"object"==typeof e?{tokenId:t,templateId:String(e.templateId||""),owner:String(e.owner||""),templateName:String(e.templateName||""),issuerName:String(e.issuerName||""),category:String(e.category||""),description:String(e.description||""),recipientName:String(e.recipientName||""),achievement:String(e.achievement||""),memo:String(e.memo||""),issuedTime:Number.parseInt(String(e.issuedTime||"0"),10)||0,revoked:d(e.revoked),revokedTime:Number.parseInt(String(e.revokedTime||"0"),10)||0}:null)(we(await a({contractAddress:e,operation:"GetCertificateDetails",args:[{type:"ByteArray",value:f(t)}]})),t)));s.value=i.filter(Boolean),await Promise.all(s.value.map(async e=>{if(!c[e.tokenId])try{c[e.tokenId]=await _e.toDataURL(e.tokenId,{margin:1})}catch{}}))}catch{s.value=[]}},ensureContractAddress:p,parseBigInt:u,parseBool:d,encodeTokenId:f}}_e.create=Ft.create,_e.toCanvas=Yt.bind(null,qt.render),_e.toDataURL=Yt.bind(null,qt.renderToDataURL),_e.toString=Yt.bind(null,function(e,t,n){return Jt.render(e,n)});const Qt=r({__name:"CertificateForm",props:{loading:{type:Boolean}},emits:["create"],setup(e,{emit:t}){const n=t,{t:a}=x(),r=E({name:"",issuerName:"",category:"",maxSupply:"100",description:""}),i=()=>{n("create",{...r})};return(e,t)=>{const n=s;return o(),l(k(pe),{variant:"erobo-neo"},{default:d(()=>[y(n,{class:"form-group"},{default:d(()=>[y(k(he),{modelValue:r.name,"onUpdate:modelValue":t[0]||(t[0]=e=>r.name=e),label:k(a)("templateName"),placeholder:k(a)("templateNamePlaceholder")},null,8,["modelValue","label","placeholder"]),y(k(he),{modelValue:r.issuerName,"onUpdate:modelValue":t[1]||(t[1]=e=>r.issuerName=e),label:k(a)("issuerName"),placeholder:k(a)("issuerNamePlaceholder")},null,8,["modelValue","label","placeholder"]),y(k(he),{modelValue:r.category,"onUpdate:modelValue":t[2]||(t[2]=e=>r.category=e),label:k(a)("category"),placeholder:k(a)("categoryPlaceholder")},null,8,["modelValue","label","placeholder"]),y(k(he),{modelValue:r.maxSupply,"onUpdate:modelValue":t[3]||(t[3]=e=>r.maxSupply=e),type:"number",label:k(a)("maxSupply"),placeholder:k(a)("maxSupplyPlaceholder")},null,8,["modelValue","label","placeholder"]),y(k(he),{modelValue:r.description,"onUpdate:modelValue":t[4]||(t[4]=e=>r.description=e),type:"textarea",label:k(a)("description"),placeholder:k(a)("descriptionPlaceholder")},null,8,["modelValue","label","placeholder"]),y(k(ge),{variant:"primary",size:"lg",block:"",loading:e.loading,disabled:e.loading,onClick:i},{default:d(()=>[p(g(e.loading?k(a)("creating"):k(a)("createTemplate")),1)]),_:1},8,["loading","disabled"])]),_:1})]),_:1})}}}),Wt=r({__name:"TemplateCard",props:{template:{},togglingId:{}},emits:["issue","toggle"],setup(e){const{t:t}=x(),n=e=>{const t=String(e||"");return t?t.length<=12?t:`${t.slice(0,6)}...${t.slice(-4)}`:"--"};return(e,a)=>{const r=f,i=s;return o(),l(i,{class:"template-card"},{default:d(()=>[y(i,{class:"template-card__header"},{default:d(()=>[y(i,null,{default:d(()=>[y(r,{class:"template-title"},{default:d(()=>[p(g(e.template.name||`#${e.template.id}`),1)]),_:1}),y(r,{class:"template-subtitle"},{default:d(()=>[p(g(e.template.issuerName||n(e.template.issuer)),1)]),_:1})]),_:1}),y(r,{class:u(["status-pill",e.template.active?"active":"inactive"])},{default:d(()=>[p(g(e.template.active?k(t)("statusActive"):k(t)("statusInactive")),1)]),_:1},8,["class"])]),_:1}),y(i,{class:"template-meta"},{default:d(()=>[y(r,{class:"meta-label"},{default:d(()=>[p(g(k(t)("category")),1)]),_:1}),y(r,{class:"meta-value"},{default:d(()=>[p(g(e.template.category||"--"),1)]),_:1})]),_:1}),y(i,{class:"template-metrics"},{default:d(()=>[y(i,null,{default:d(()=>[y(r,{class:"metric-label"},{default:d(()=>[p(g(k(t)("issued")),1)]),_:1}),y(r,{class:"metric-value"},{default:d(()=>[p(g(e.template.issued.toString()),1)]),_:1})]),_:1}),y(i,null,{default:d(()=>[y(r,{class:"metric-label"},{default:d(()=>[p(g(k(t)("supply")),1)]),_:1}),y(r,{class:"metric-value"},{default:d(()=>[p(g(e.template.maxSupply.toString()),1)]),_:1})]),_:1})]),_:1}),y(r,{class:"template-desc"},{default:d(()=>[p(g(e.template.description||"--"),1)]),_:1}),y(i,{class:"template-actions"},{default:d(()=>[y(k(ge),{size:"sm",variant:"primary",disabled:!e.template.active||e.template.issued>=e.template.maxSupply,onClick:a[0]||(a[0]=t=>e.$emit("issue",e.template))},{default:d(()=>[p(g(e.template.issued>=e.template.maxSupply?k(t)("soldOut"):k(t)("issueCertificate")),1)]),_:1},8,["disabled"]),y(k(ge),{size:"sm",variant:"secondary",loading:e.togglingId===e.template.id,onClick:a[1]||(a[1]=t=>e.$emit("toggle",e.template))},{default:d(()=>[p(g(e.template.active?k(t)("deactivate"):k(t)("activate")),1)]),_:1},8,["loading"])]),_:1})]),_:1})}}}),Zt=r({__name:"TemplateList",props:{templates:{},refreshing:{type:Boolean},togglingId:{},hasAddress:{type:Boolean}},emits:["refresh","connect","issue","toggle"],setup(e){const{t:t}=x();return(e,n)=>{const a=f,r=s;return o(),l(k(pe),{variant:"erobo",class:"template-list"},{default:d(()=>[y(r,{class:"templates-header"},{default:d(()=>[y(a,{class:"section-title"},{default:d(()=>[p(g(k(t)("yourTemplates")),1)]),_:1}),y(k(ge),{size:"sm",variant:"secondary",loading:e.refreshing,onClick:n[0]||(n[0]=t=>e.$emit("refresh"))},{default:d(()=>[p(g(k(t)("refresh")),1)]),_:1},8,["loading"])]),_:1}),e.hasAddress?0===e.templates.length?(o(),l(r,{key:1,class:"empty-state"},{default:d(()=>[y(k(pe),{variant:"erobo",class:"p-6 text-center opacity-70"},{default:d(()=>[y(a,{class:"text-xs"},{default:d(()=>[p(g(k(t)("emptyTemplates")),1)]),_:1})]),_:1})]),_:1})):(o(),l(r,{key:2,class:"template-cards"},{default:d(()=>[(o(!0),S(N,null,T(e.templates,t=>(o(),l(Wt,{key:`template-${t.id}`,template:t,"toggling-id":e.togglingId,onIssue:n[2]||(n[2]=t=>e.$emit("issue",t)),onToggle:n[3]||(n[3]=t=>e.$emit("toggle",t))},null,8,["template","toggling-id"]))),128))]),_:1})):(o(),l(r,{key:0,class:"empty-state"},{default:d(()=>[y(k(pe),{variant:"erobo",class:"p-6 text-center"},{default:d(()=>[y(a,{class:"text-sm block mb-3"},{default:d(()=>[p(g(k(t)("walletNotConnected")),1)]),_:1}),y(k(ge),{size:"sm",variant:"primary",onClick:n[1]||(n[1]=t=>e.$emit("connect"))},{default:d(()=>[p(g(k(t)("connectWallet")),1)]),_:1})]),_:1})]),_:1}))]),_:1})}}}),Xt=r({__name:"CertificateCard",props:{cert:{},qrCode:{}},emits:["copy"],setup(e){const{t:t}=x(),n=e=>{const t=String(e||"");return t?t.length<=12?t:`${t.slice(0,6)}...${t.slice(-4)}`:"--"};return(e,a)=>{const r=f,i=s,c=M;return o(),l(i,{class:"certificate-card"},{default:d(()=>[y(i,{class:"template-card__header"},{default:d(()=>[y(i,null,{default:d(()=>[y(r,{class:"template-title"},{default:d(()=>[p(g(e.cert.templateName||`#${e.cert.templateId}`),1)]),_:1}),y(r,{class:"template-subtitle"},{default:d(()=>[p(g(e.cert.issuerName||n(e.cert.owner)),1)]),_:1})]),_:1}),y(r,{class:u(["status-pill",e.cert.revoked?"revoked":"active"])},{default:d(()=>[p(g(e.cert.revoked?k(t)("certificateRevoked"):k(t)("certificateValid")),1)]),_:1},8,["class"])]),_:1}),y(i,{class:"certificate-body"},{default:d(()=>[e.qrCode?(o(),l(i,{key:0,class:"certificate-qr"},{default:d(()=>[y(c,{src:e.qrCode,class:"certificate-qr__img",mode:"aspectFit",alt:k(t)("certificateQrCode")},null,8,["src","alt"])]),_:1})):v("",!0),y(i,{class:"certificate-details"},{default:d(()=>[y(r,{class:"detail-row"},{default:d(()=>[p(g(k(t)("recipientName"))+": "+g(e.cert.recipientName||"--"),1)]),_:1}),y(r,{class:"detail-row"},{default:d(()=>[p(g(k(t)("achievement"))+": "+g(e.cert.achievement||"--"),1)]),_:1}),y(r,{class:"detail-row"},{default:d(()=>[p(g(k(t)("tokenId"))+": "+g(e.cert.tokenId),1)]),_:1}),y(k(ge),{size:"sm",variant:"secondary",class:"copy-btn",onClick:a[0]||(a[0]=t=>e.$emit("copy",e.cert.tokenId))},{default:d(()=>[p(g(k(t)("copyTokenId")),1)]),_:1})]),_:1})]),_:1})]),_:1})}}}),en=r({__name:"CertificateGallery",props:{certificates:{},certQrs:{},refreshing:{type:Boolean},hasAddress:{type:Boolean}},emits:["refresh","connect","copy-token-id"],setup(e){const{t:t}=x();return(e,n)=>{const a=f,r=s;return o(),l(r,null,{default:d(()=>[y(r,{class:"templates-header"},{default:d(()=>[y(a,{class:"section-title"},{default:d(()=>[p(g(k(t)("certificatesTab")),1)]),_:1}),y(k(ge),{size:"sm",variant:"secondary",loading:e.refreshing,onClick:n[0]||(n[0]=t=>e.$emit("refresh"))},{default:d(()=>[p(g(k(t)("refresh")),1)]),_:1},8,["loading"])]),_:1}),e.hasAddress?0===e.certificates.length?(o(),l(r,{key:1,class:"empty-state"},{default:d(()=>[y(k(pe),{variant:"erobo",class:"p-6 text-center opacity-70"},{default:d(()=>[y(a,{class:"text-xs"},{default:d(()=>[p(g(k(t)("emptyCertificates")),1)]),_:1})]),_:1})]),_:1})):(o(),l(r,{key:2,class:"certificate-grid"},{default:d(()=>[(o(!0),S(N,null,T(e.certificates,t=>(o(),l(Xt,{key:`cert-${t.tokenId}`,cert:t,"qr-code":e.certQrs[t.tokenId],onCopy:n[2]||(n[2]=t=>e.$emit("copy-token-id",t))},null,8,["cert","qr-code"]))),128))]),_:1})):(o(),l(r,{key:0,class:"empty-state"},{default:d(()=>[y(k(pe),{variant:"erobo",class:"p-6 text-center"},{default:d(()=>[y(a,{class:"text-sm block mb-3"},{default:d(()=>[p(g(k(t)("walletNotConnected")),1)]),_:1}),y(k(ge),{size:"sm",variant:"primary",onClick:n[1]||(n[1]=t=>e.$emit("connect"))},{default:d(()=>[p(g(k(t)("connectWallet")),1)]),_:1})]),_:1})]),_:1}))]),_:1})}}}),tn=r({__name:"VerifyCertificate",props:{lookingUp:{type:Boolean},revoking:{type:Boolean},result:{}},emits:["lookup","revoke"],setup(e,{emit:n}){const a=n,{t:r}=x(),i=t(""),c=()=>{i.value.trim()&&a("lookup",i.value.trim())},h=()=>{i.value.trim()&&a("revoke",i.value.trim())},m=e=>{const t=String(e||"");return t?t.length<=12?t:`${t.slice(0,6)}...${t.slice(-4)}`:"--"};return(e,t)=>{const n=s,a=f;return o(),S(N,null,[y(k(pe),{variant:"erobo-neo"},{default:d(()=>[y(n,{class:"form-group"},{default:d(()=>[y(k(he),{"model-value":i.value,"onUpdate:modelValue":t[0]||(t[0]=e=>i.value=e),label:k(r)("verifyTokenId"),placeholder:k(r)("verifyTokenIdPlaceholder")},null,8,["model-value","label","placeholder"]),y(n,{class:"verify-actions"},{default:d(()=>[y(k(ge),{size:"sm",variant:"secondary",loading:e.lookingUp,onClick:c},{default:d(()=>[p(g(e.lookingUp?k(r)("lookingUp"):k(r)("lookup")),1)]),_:1},8,["loading"]),y(k(ge),{size:"sm",variant:"primary",loading:e.revoking,onClick:h},{default:d(()=>[p(g(e.revoking?k(r)("revoking"):k(r)("revoke")),1)]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1}),e.result?(o(),l(k(pe),{key:0,variant:"erobo",class:"lookup-card"},{default:d(()=>[y(n,{class:"template-card__header"},{default:d(()=>[y(n,null,{default:d(()=>[y(a,{class:"template-title"},{default:d(()=>[p(g(e.result.templateName||`#${e.result.templateId}`),1)]),_:1}),y(a,{class:"template-subtitle"},{default:d(()=>[p(g(e.result.issuerName||m(e.result.owner)),1)]),_:1})]),_:1}),y(a,{class:u(["status-pill",e.result.revoked?"revoked":"active"])},{default:d(()=>[p(g(e.result.revoked?k(r)("certificateRevoked"):k(r)("certificateValid")),1)]),_:1},8,["class"])]),_:1}),y(a,{class:"detail-row"},{default:d(()=>[p(g(k(r)("recipientName"))+": "+g(e.result.recipientName||"--"),1)]),_:1}),y(a,{class:"detail-row"},{default:d(()=>[p(g(k(r)("achievement"))+": "+g(e.result.achievement||"--"),1)]),_:1}),y(a,{class:"detail-row"},{default:d(()=>[p(g(k(r)("tokenId"))+": "+g(e.result.tokenId),1)]),_:1})]),_:1})):v("",!0)],64)}}}),nn=r({__name:"IssueModal",props:{visible:{type:Boolean},loading:{type:Boolean},templateId:{}},emits:["close","issue"],setup(e,{emit:t}){const n=t,a=e,{t:r}=x(),i=E({recipient:"",recipientName:"",achievement:"",memo:""}),c=()=>{n("issue",{templateId:a.templateId,...i})};return(e,t)=>{const n=s;return o(),l(k(me),{visible:e.visible,title:k(r)("issueTitle"),closeable:!0,onClose:t[5]||(t[5]=t=>e.$emit("close"))},{footer:d(()=>[y(k(ge),{size:"sm",variant:"secondary",onClick:t[4]||(t[4]=t=>e.$emit("close"))},{default:d(()=>[p(g(k(r)("cancel")),1)]),_:1}),y(k(ge),{size:"sm",variant:"primary",loading:e.loading,onClick:c},{default:d(()=>[p(g(e.loading?k(r)("issuing"):k(r)("issue")),1)]),_:1},8,["loading"])]),default:d(()=>[y(n,{class:"form-group"},{default:d(()=>[y(k(he),{"model-value":i.recipient,"onUpdate:modelValue":t[0]||(t[0]=e=>i.recipient=e),label:k(r)("issueRecipient"),placeholder:k(r)("issueRecipientPlaceholder")},null,8,["model-value","label","placeholder"]),y(k(he),{"model-value":i.recipientName,"onUpdate:modelValue":t[1]||(t[1]=e=>i.recipientName=e),label:k(r)("recipientName"),placeholder:k(r)("recipientNamePlaceholder")},null,8,["model-value","label","placeholder"]),y(k(he),{"model-value":i.achievement,"onUpdate:modelValue":t[2]||(t[2]=e=>i.achievement=e),label:k(r)("achievement"),placeholder:k(r)("achievementPlaceholder")},null,8,["model-value","label","placeholder"]),y(k(he),{"model-value":i.memo,"onUpdate:modelValue":t[3]||(t[3]=e=>i.memo=e),label:k(r)("memo"),placeholder:k(r)("memoPlaceholder")},null,8,["model-value","label","placeholder"])]),_:1})]),_:1},8,["visible","title"])}}}),an=P(r({__name:"index",setup(e){const{t:a}=x(),{address:r,connect:c,invokeContract:u,invokeRead:h,chainType:m}=re(),w=t("templates");i(()=>[{id:"templates",icon:"file",label:a("templatesTab")},{id:"certificates",icon:"star",label:a("certificatesTab")},{id:"verify",icon:"check-circle",label:a("verifyTab")},{id:"docs",icon:"book",label:a("docs")}]);const b=E({name:"",issuerName:"",category:"",maxSupply:"100",description:""}),_=E({templateId:"",recipient:"",recipientName:"",achievement:"",memo:""}),C=t(null),A=t(!1),S=t(!1),T=t(!1),N=t(!1),M=t(!1),P=t(!1),$=t(!1),O=t(null),U=t(null),{templates:L,certificates:D,certQrs:V,refreshTemplates:z,refreshCertificates:H,parseBigInt:K,ensureContractAddress:j}=Gt(),F=(e,t)=>{C.value={msg:e,type:t},setTimeout(()=>{var t;(null==(t=C.value)?void 0:t.msg)===e&&(C.value=null)},4e3)},q=async()=>{try{await c(),r.value&&(await z(),await H())}catch(e){F(e.message||a("walletNotConnected"),"error")}},J=async e=>{if(A.value)return;if(!be(m,a))return;const t=e.name.trim();if(!t)return void F(a("nameRequired"),"error");const n=K(e.maxSupply);if(n<=0n)F(a("invalidSupply"),"error");else try{if(A.value=!0,r.value||await c(),!r.value)throw new Error(a("walletNotConnected"));const i=await j();await u({scriptHash:i,operation:"CreateTemplate",args:[{type:"Hash160",value:r.value},{type:"String",value:t},{type:"String",value:e.issuerName.trim()},{type:"String",value:e.category.trim()},{type:"Integer",value:n.toString()},{type:"String",value:e.description.trim()}]}),F(a("templateCreated"),"success"),b.name="",b.issuerName="",b.category="",b.maxSupply="100",b.description="",await z()}catch(i){F(i.message||a("contractMissing"),"error")}finally{A.value=!1}},Y=e=>{_.templateId=e.id,_.recipient="",_.recipientName="",_.achievement="",_.memo="",$.value=!0},G=()=>{$.value=!1},Q=async e=>{if(N.value)return;if(!be(m,a))return;const t=e.recipient.trim();if(t&&function(e){return e.startsWith("0x")?e:`0x${e}`}(t))try{if(N.value=!0,r.value||await c(),!r.value)throw new Error(a("walletNotConnected"));const n=await j();await u({scriptHash:n,operation:"IssueCertificate",args:[{type:"Hash160",value:r.value},{type:"Hash160",value:t},{type:"Integer",value:e.templateId},{type:"String",value:e.recipientName.trim()},{type:"String",value:e.achievement.trim()},{type:"String",value:e.memo.trim()}]}),F(a("issuedSuccess"),"success"),$.value=!1,await z(),await H()}catch(n){F(n.message||a("contractMissing"),"error")}finally{N.value=!1}else F(a("invalidRecipient"),"error")},W=async e=>{if(!O.value&&be(m,a))try{if(O.value=e.id,r.value||await c(),!r.value)throw new Error(a("walletNotConnected"));const t=await j();await u({scriptHash:t,operation:"SetTemplateActive",args:[{type:"Hash160",value:r.value},{type:"Integer",value:e.id},{type:"Boolean",value:!e.active}]}),await z()}catch(t){F(t.message||a("contractMissing"),"error")}finally{O.value=null}},Z=async e=>{if(!M.value&&be(m,a))if(e)try{M.value=!0;const t=await j(),n=await h({contractAddress:t,operation:"GetCertificateDetails",args:[{type:"ByteArray",value:e}]});if(!n)return F(a("certificateNotFound"),"error"),void(U.value=null);U.value=n}catch(t){F(t.message||a("contractMissing"),"error")}finally{M.value=!1}else F(a("invalidTokenId"),"error")},X=async e=>{if(!P.value&&be(m,a))if(e)try{if(P.value=!0,r.value||await c(),!r.value)throw new Error(a("walletNotConnected"));const t=await j();await u({scriptHash:t,operation:"RevokeCertificate",args:[{type:"Hash160",value:r.value},{type:"ByteArray",value:e}]}),F(a("revokeSuccess"),"success"),await Z(e)}catch(t){F(t.message||a("contractMissing"),"error")}finally{P.value=!1}else F(a("invalidTokenId"),"error")},ee=e=>{R({data:e,success:()=>{F(a("copied"),"success")}})},te=async e=>{w.value=e,"templates"===e&&await z(),"certificates"===e&&await H()};return n(async()=>{await c(),r.value&&(await z(),await H())}),I(r,async e=>{e?(await z(),await H()):(L.value=[],D.value=[],U.value=null)}),(e,t)=>{const n=f,i=s,c=B("MiniAppTemplate");return o(),l(i,{class:"theme-soulbound-certificate"},{default:d(()=>[y(c,{config:e.templateConfig,state:e.appState,t:k(a),"status-message":C.value,onTabChange:te},{"desktop-sidebar":d(()=>[y(i,{class:"desktop-sidebar"},{default:d(()=>[y(n,{class:"sidebar-title"},{default:d(()=>[p(g(k(a)("overview")),1)]),_:1})]),_:1})]),content:d(()=>[C.value?(o(),l(k(pe),{key:0,variant:"error"===C.value.type?"danger":"success",class:"mb-4 text-center"},{default:d(()=>[y(n,{class:"font-bold"},{default:d(()=>[p(g(C.value.msg),1)]),_:1})]),_:1},8,["variant"])):v("",!0),y(Qt,{loading:A.value,onCreate:J},null,8,["loading"]),y(Zt,{templates:k(L),refreshing:S.value,"toggling-id":O.value,"has-address":!!k(r),onRefresh:k(z),onConnect:q,onIssue:Y,onToggle:W},null,8,["templates","refreshing","toggling-id","has-address","onRefresh"])]),"tab-certificates":d(()=>[C.value?(o(),l(k(pe),{key:0,variant:"error"===C.value.type?"danger":"success",class:"text-center"},{default:d(()=>[y(n,{class:"font-bold"},{default:d(()=>[p(g(C.value.msg),1)]),_:1})]),_:1},8,["variant"])):v("",!0),y(en,{certificates:k(D),"cert-qrs":k(V),refreshing:T.value,"has-address":!!k(r),onRefresh:k(H),onConnect:q,onCopyTokenId:ee},null,8,["certificates","cert-qrs","refreshing","has-address","onRefresh"])]),"tab-verify":d(()=>[C.value?(o(),l(k(pe),{key:0,variant:"error"===C.value.type?"danger":"success",class:"text-center"},{default:d(()=>[y(n,{class:"font-bold"},{default:d(()=>[p(g(C.value.msg),1)]),_:1})]),_:1},8,["variant"])):v("",!0),y(tn,{"looking-up":M.value,revoking:P.value,result:U.value,onLookup:Z,onRevoke:X},null,8,["looking-up","revoking","result"])]),_:1},8,["config","state","t","status-message"]),y(nn,{visible:$.value,loading:N.value,"template-id":_.templateId,onClose:G,onIssue:Q},null,8,["visible","loading","template-id"])]),_:1})}}}),[["__scopeId","data-v-e26b0b10"]]);export{an as default};
