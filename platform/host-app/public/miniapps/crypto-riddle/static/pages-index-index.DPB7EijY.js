import{r as e,d as a,c as t,w as l,i as s,a as u,o as r,b as n,e as d,f as i,g as c,n as o,t as f}from"./index-_FVWMWEQ.js";function v(a){const t=e(!1),l=e(null);return{isLoading:t,error:l,payGAS:async(e,s)=>{t.value=!0,l.value=null;try{const t=await function(e=5e3){return new Promise((a,t)=>{if(window.MiniAppSDK)return void a(window.MiniAppSDK);const l=setTimeout(()=>{t(new Error("SDK timeout"))},e),s=()=>{clearTimeout(l),window.removeEventListener("miniapp-sdk-ready",s),window.MiniAppSDK?a(window.MiniAppSDK):t(new Error("SDK not found"))};window.addEventListener("miniapp-sdk-ready",s)})}();return await t.payments.payGAS(a,e,s)}catch(u){throw l.value=u,u}finally{t.value=!1}}}}const w=((e,a)=>{const t=e.__vccOpts||e;for(const[l,s]of a)t[l]=s;return t})(a({__name:"index",setup(a){v("miniapp-crypto-riddle");const w=e(0),_=e(0),m=e(0),p=e(""),y=e(!1),h=e(!1),g=e(null),b=[{id:1,question:"I am the first, yet I am everywhere. Without me, nothing can be verified. What am I?",answer:"hash",hint:"Think about blockchain fundamentals",difficulty:"easy",reward:1},{id:2,question:"I have keys but no locks. I have space but no room. You can enter, but can't go outside. What am I?",answer:"keyboard",hint:"Used for typing crypto addresses",difficulty:"easy",reward:1},{id:3,question:"What has 256 bits, starts with many zeros, and miners race to find me?",answer:"nonce",hint:"Proof of Work concept",difficulty:"medium",reward:2}],S=e(0),k=e(b[0]),A=e({correct:!1,message:"",correctAnswer:""}),x=async()=>{if(y.value||!p.value.trim())return void(g.value={msg:"Please enter an answer",type:"error"});y.value=!0;const e=p.value.trim().toLowerCase()===k.value.answer.toLowerCase();await new Promise(e=>setTimeout(e,800)),e?(w.value++,_.value=parseFloat((_.value+k.value.reward).toFixed(2)),m.value++,A.value={correct:!0,message:`Correct! You earned ${k.value.reward} GAS`,correctAnswer:""},g.value={msg:"Brilliant! Keep going!",type:"success"}):(m.value=0,A.value={correct:!1,message:"Not quite right. Try again!",correctAnswer:k.value.answer},g.value={msg:"Wrong answer. Study the hint!",type:"error"}),h.value=!0,y.value=!1},C=()=>{S.value=(S.value+1)%b.length,k.value=b[S.value],p.value="",h.value=!1,g.value=null};return(e,a)=>{const v=i,b=s,S=u("uni-easyinput");return r(),t(b,{class:"app-container"},{default:l(()=>[n(b,{class:"header"},{default:l(()=>[n(v,{class:"title"},{default:l(()=>[c("Crypto Riddle")]),_:1}),n(v,{class:"subtitle"},{default:l(()=>[c("Solve puzzles, earn rewards")]),_:1})]),_:1}),g.value?(r(),t(b,{key:0,class:o(["status-msg",g.value.type])},{default:l(()=>[n(v,null,{default:l(()=>[c(f(g.value.msg),1)]),_:1})]),_:1},8,["class"])):d("",!0),n(b,{class:"card"},{default:l(()=>[n(b,{class:"stats-row"},{default:l(()=>[n(b,{class:"stat"},{default:l(()=>[n(v,{class:"stat-value"},{default:l(()=>[c(f(w.value),1)]),_:1}),n(v,{class:"stat-label"},{default:l(()=>[c("Solved")]),_:1})]),_:1}),n(b,{class:"stat"},{default:l(()=>[n(v,{class:"stat-value"},{default:l(()=>[c(f(_.value),1)]),_:1}),n(v,{class:"stat-label"},{default:l(()=>[c("GAS Earned")]),_:1})]),_:1}),n(b,{class:"stat"},{default:l(()=>[n(v,{class:"stat-value"},{default:l(()=>[c(f(m.value),1)]),_:1}),n(v,{class:"stat-label"},{default:l(()=>[c("Streak")]),_:1})]),_:1})]),_:1})]),_:1}),n(b,{class:"card"},{default:l(()=>[n(b,{class:"riddle-header"},{default:l(()=>[n(v,{class:"card-title"},{default:l(()=>[c("Riddle #"+f(k.value.id),1)]),_:1}),n(b,{class:o(["difficulty-badge",k.value.difficulty])},{default:l(()=>[n(v,null,{default:l(()=>[c(f(k.value.difficulty),1)]),_:1})]),_:1},8,["class"])]),_:1}),n(b,{class:"riddle-content"},{default:l(()=>[n(v,{class:"riddle-text"},{default:l(()=>[c(f(k.value.question),1)]),_:1})]),_:1}),n(b,{class:"hint-section"},{default:l(()=>[n(v,{class:"hint-label"},{default:l(()=>[c("Hint:")]),_:1}),n(v,{class:"hint-text"},{default:l(()=>[c(f(k.value.hint),1)]),_:1})]),_:1}),n(b,{class:"reward-info"},{default:l(()=>[n(v,null,{default:l(()=>[c("Reward: "+f(k.value.reward)+" GAS",1)]),_:1})]),_:1})]),_:1}),n(b,{class:"card"},{default:l(()=>[n(v,{class:"card-title"},{default:l(()=>[c("Your Answer")]),_:1}),n(S,{modelValue:p.value,"onUpdate:modelValue":a[0]||(a[0]=e=>p.value=e),placeholder:"Enter your answer...",disabled:y.value},null,8,["modelValue","disabled"]),n(b,{class:"submit-btn",onClick:x},{default:l(()=>[n(v,null,{default:l(()=>[c(f(y.value?"Checking...":"Submit Answer"),1)]),_:1})]),_:1})]),_:1}),h.value?(r(),t(b,{key:1,class:o(["result-card",A.value.correct?"correct":"wrong"])},{default:l(()=>[n(v,{class:"result-icon"},{default:l(()=>[c(f(A.value.correct?"✅":"❌"),1)]),_:1}),n(v,{class:"result-text"},{default:l(()=>[c(f(A.value.message),1)]),_:1}),A.value.correct?d("",!0):(r(),t(b,{key:0,class:"correct-answer"},{default:l(()=>[n(v,null,{default:l(()=>[c("Correct answer: "+f(A.value.correctAnswer),1)]),_:1})]),_:1})),n(b,{class:"next-btn",onClick:C},{default:l(()=>[n(v,null,{default:l(()=>[c("Next Riddle")]),_:1})]),_:1})]),_:1},8,["class"])):d("",!0)]),_:1})}}}),[["__scopeId","data-v-48532324"]]);export{w as default};
