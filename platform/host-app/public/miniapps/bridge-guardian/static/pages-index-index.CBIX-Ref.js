import{r as a,d as e,c as t,w as s,i as l,a as n,o as i,b as r,e as o,f as u,g as d,n as c,t as f,h as m,F as p,j as v,k as y,u as h}from"./index-BbCekQb5.js";function g(e){const t=a(!1),s=a(null);return{isLoading:t,error:s,payGAS:async(a,l)=>{t.value=!0,s.value=null;try{const t=await function(a=5e3){return new Promise((e,t)=>{if(window.MiniAppSDK)return void e(window.MiniAppSDK);const s=setTimeout(()=>{t(new Error("SDK timeout"))},a),l=()=>{clearTimeout(s),window.removeEventListener("miniapp-sdk-ready",l),window.MiniAppSDK?e(window.MiniAppSDK):t(new Error("SDK not found"))};window.addEventListener("miniapp-sdk-ready",l)})}();return await t.payments.payGAS(e,a,l)}catch(n){throw s.value=n,n}finally{t.value=!1}}}}const _=((a,e)=>{const t=a.__vccOpts||a;for(const[s,l]of e)t[s]=l;return t})(e({__name:"index",setup(e){const{isLoading:_}=g("miniapp-bridge-guardian"),w=a([{id:"1",from:"Neo N3",to:"Ethereum",healthy:!0,volume:125e3},{id:"2",from:"Neo N3",to:"BSC",healthy:!0,volume:89e3},{id:"3",from:"Neo N3",to:"Polygon",healthy:!1,volume:45e3}]),b=a(""),S=a(null),k=async()=>{if(b.value&&!_.value)try{S.value={msg:"Monitoring transaction...",type:"loading"},await new Promise(a=>setTimeout(a,1500)),S.value={msg:"Transfer confirmed on destination chain",type:"success"},b.value=""}catch(a){S.value={msg:a.message||"Error",type:"error"}}};return(a,e)=>{const g=u,A=l,T=n("uni-easyinput");return i(),t(A,{class:"app-container"},{default:s(()=>[r(A,{class:"header"},{default:s(()=>[r(g,{class:"title"},{default:s(()=>[d("Bridge Guardian")]),_:1}),r(g,{class:"subtitle"},{default:s(()=>[d("Cross-chain monitoring")]),_:1})]),_:1}),S.value?(i(),t(A,{key:0,class:c(["status-msg",S.value.type])},{default:s(()=>[r(g,null,{default:s(()=>[d(f(S.value.msg),1)]),_:1})]),_:1},8,["class"])):o("",!0),r(A,{class:"card"},{default:s(()=>[r(g,{class:"card-title"},{default:s(()=>[d("Active Bridges")]),_:1}),(i(!0),m(p,null,v(w.value,a=>(i(),t(A,{key:a.id,class:"bridge-row"},{default:s(()=>[r(A,{class:"bridge-info"},{default:s(()=>[r(g,{class:"bridge-name"},{default:s(()=>[d(f(a.from)+" → "+f(a.to),1)]),_:2},1024),r(g,{class:c(["bridge-status",a.healthy?"healthy":"warning"])},{default:s(()=>[d(f(a.healthy?"✓ Healthy":"⚠ Warning"),1)]),_:2},1032,["class"])]),_:2},1024),r(A,{class:"bridge-stats"},{default:s(()=>[r(g,{class:"stat"},{default:s(()=>{return[d(f((e=a.volume,function(a,e=2){return a>=1e6?(a/1e6).toFixed(e)+"M":a>=1e3?(a/1e3).toFixed(e)+"K":a.toFixed(e)}(e,0)))+" GAS",1)];var e}),_:2},1024),r(g,{class:"stat-label"},{default:s(()=>[d("24h Volume")]),_:1})]),_:2},1024)]),_:2},1024))),128))]),_:1}),r(A,{class:"card"},{default:s(()=>[r(g,{class:"card-title"},{default:s(()=>[d("Monitor Transfer")]),_:1}),r(T,{modelValue:b.value,"onUpdate:modelValue":e[0]||(e[0]=a=>b.value=a),placeholder:"Transaction hash",class:"input"},null,8,["modelValue"]),r(A,{class:"action-btn",onClick:k,style:y({opacity:h(_)?.6:1})},{default:s(()=>[r(g,null,{default:s(()=>[d(f(h(_)?"Checking...":"Track Transfer"),1)]),_:1})]),_:1},8,["style"])]),_:1})]),_:1})}}}),[["__scopeId","data-v-e1a443f8"]]);export{_ as default};
