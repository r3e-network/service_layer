import{d as e,r as s,c as a,w as t,i as l,a as u,o as n,b as o,e as c,f as d,g as r,n as i,t as f,h as _,F as p,j as v,k as y}from"./index-DaKoImQf.js";const m=((e,s)=>{const a=e.__vccOpts||e;for(const[t,l]of s)a[t]=l;return a})(e({__name:"index",setup(e){const m=s([{id:"1",title:"Increase staking rewards",yesPercent:65},{id:"2",title:"Add new trading pair",yesPercent:42}]),k=s(null),b=s(null),g=e=>{b.value={msg:`Voted ${e?"Yes":"No"} anonymously!`,type:"success"},k.value=null};return(e,s)=>{const P=d,h=l,w=u("uni-popup");return n(),a(h,{class:"app-container"},{default:t(()=>[o(h,{class:"header"},{default:t(()=>[o(P,{class:"title"},{default:t(()=>[r("Secret Vote")]),_:1}),o(P,{class:"subtitle"},{default:t(()=>[r("Anonymous on-chain voting")]),_:1})]),_:1}),b.value?(n(),a(h,{key:0,class:i(["status-msg",b.value.type])},{default:t(()=>[o(P,null,{default:t(()=>[r(f(b.value.msg),1)]),_:1})]),_:1},8,["class"])):c("",!0),o(h,{class:"card"},{default:t(()=>[o(P,{class:"card-title"},{default:t(()=>[r("Active Proposals")]),_:1}),(n(!0),_(p,null,v(m.value,e=>(n(),a(h,{key:e.id,class:"proposal-item",onClick:s=>k.value=e},{default:t(()=>[o(P,{class:"proposal-title"},{default:t(()=>[r(f(e.title),1)]),_:2},1024),o(h,{class:"vote-bar"},{default:t(()=>[o(h,{class:"yes-bar",style:y({width:e.yesPercent+"%"})},null,8,["style"])]),_:2},1024),o(h,{class:"vote-stats"},{default:t(()=>[o(P,null,{default:t(()=>[r("Yes: "+f(e.yesPercent)+"%",1)]),_:2},1024),o(P,null,{default:t(()=>[r("No: "+f(100-e.yesPercent)+"%",1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1}),o(w,{ref:"popup",type:"bottom"},{default:t(()=>[k.value?(n(),a(h,{key:0,class:"vote-modal"},{default:t(()=>[o(P,{class:"modal-title"},{default:t(()=>[r(f(k.value.title),1)]),_:1}),o(h,{class:"vote-btns"},{default:t(()=>[o(h,{class:"vote-btn yes",onClick:s[0]||(s[0]=e=>g(!0))},{default:t(()=>[o(P,null,{default:t(()=>[r("Vote Yes")]),_:1})]),_:1}),o(h,{class:"vote-btn no",onClick:s[1]||(s[1]=e=>g(!1))},{default:t(()=>[o(P,null,{default:t(()=>[r("Vote No")]),_:1})]),_:1})]),_:1})]),_:1})):c("",!0)]),_:1},512)]),_:1})}}}),[["__scopeId","data-v-4e679652"]]);export{m as default};
