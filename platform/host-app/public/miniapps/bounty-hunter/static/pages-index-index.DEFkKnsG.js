import{r as e,d as t,c as a,w as s,i,a as l,o as n,b as u,e as r,f as o,g as d,n as c,t as f,h as p,F as y,j as m,u as v}from"./index-Cuv4ulXY.js";function w(t){const a=e(!1),s=e(null);return{isLoading:a,error:s,payGAS:async(e,i)=>{a.value=!0,s.value=null;try{const a=await function(e=5e3){return new Promise((t,a)=>{if(window.MiniAppSDK)return void t(window.MiniAppSDK);const s=setTimeout(()=>{a(new Error("SDK timeout"))},e),i=()=>{clearTimeout(s),window.removeEventListener("miniapp-sdk-ready",i),window.MiniAppSDK?t(window.MiniAppSDK):a(new Error("SDK not found"))};window.addEventListener("miniapp-sdk-ready",i)})}();return await a.payments.payGAS(t,e,i)}catch(l){throw s.value=l,l}finally{a.value=!1}}}}const _=((e,t)=>{const a=e.__vccOpts||e;for(const[s,i]of t)a[s]=i;return a})(t({__name:"index",setup(t){const{payGAS:_,isLoading:S}=w("miniapp-bountyhunter"),b=e(""),g=e(null),h=e([{id:"1",title:"XSS Vulnerability",description:"Find XSS in user profile",reward:"50",severity:"high",timeLeft:"3d left"},{id:"2",title:"SQL Injection",description:"Database query exploit",reward:"100",severity:"critical",timeLeft:"5d left"},{id:"3",title:"CSRF Token Bypass",description:"Session handling issue",reward:"30",severity:"medium",timeLeft:"7d left"}]),L=async()=>{if(b.value.trim()&&!S.value)try{await _("1",`submit:${b.value.slice(0,20)}`),g.value={msg:"Solution submitted for review!",type:"success"},b.value=""}catch(e){g.value={msg:e.message||"Error",type:"error"}}};return(e,t)=>{const w=o,_=i,A=l("uni-easyinput");return n(),a(_,{class:"app-container"},{default:s(()=>[u(_,{class:"header"},{default:s(()=>[u(w,{class:"title"},{default:s(()=>[d("Bounty Hunter")]),_:1}),u(w,{class:"subtitle"},{default:s(()=>[d("Bug bounty platform")]),_:1})]),_:1}),g.value?(n(),a(_,{key:0,class:c(["status-msg",g.value.type])},{default:s(()=>[u(w,null,{default:s(()=>[d(f(g.value.msg),1)]),_:1})]),_:1},8,["class"])):r("",!0),u(_,{class:"card"},{default:s(()=>[u(w,{class:"card-title"},{default:s(()=>[d("Active Bounties")]),_:1}),(n(!0),p(y,null,m(h.value,e=>(n(),a(_,{key:e.id,class:"bounty-item",onClick:t=>(e=>{g.value={msg:`Selected: ${e.title}`,type:"success"}})(e)},{default:s(()=>[u(_,{class:"bounty-header"},{default:s(()=>[u(w,{class:"bounty-title"},{default:s(()=>[d(f(e.title),1)]),_:2},1024),u(w,{class:"bounty-reward"},{default:s(()=>[d(f(e.reward)+" GAS",1)]),_:2},1024)]),_:2},1024),u(w,{class:"bounty-desc"},{default:s(()=>[d(f(e.description),1)]),_:2},1024),u(_,{class:"bounty-footer"},{default:s(()=>[u(w,{class:c(["bounty-severity",e.severity])},{default:s(()=>[d(f(e.severity),1)]),_:2},1032,["class"]),u(w,{class:"bounty-time"},{default:s(()=>[d(f(e.timeLeft),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1}),u(_,{class:"card"},{default:s(()=>[u(w,{class:"card-title"},{default:s(()=>[d("Submit Solution")]),_:1}),u(A,{modelValue:b.value,"onUpdate:modelValue":t[0]||(t[0]=e=>b.value=e),placeholder:"Paste your solution URL..."},null,8,["modelValue"]),u(_,{class:"action-btn",onClick:L},{default:s(()=>[u(w,null,{default:s(()=>[d(f(v(S)?"Submitting...":"Submit Solution"),1)]),_:1})]),_:1})]),_:1})]),_:1})}}}),[["__scopeId","data-v-01a12dda"]]);export{_ as default};
