import{r as e,a as t,o as a,b as n,d as l,c as i,e as o,i as s,n as r,w as c,f as d,g as u,h as f,j as v,k as p,l as g,t as h,m as y,p as w,q as m,s as b,u as _,v as k,F as x,x as C,y as S,z as A}from"./index-BD0NlBWI.js";import{_ as I,f as T,u as M,a as E,p as O,b as D,c as P,A as j}from"./useScratchCard.BeUSGPCz.js";import{_ as z,u as R}from"./useI18n.lseyrGOK.js";import{_ as $}from"./NeoDoc.CRK7V4rp.js";const N=5e3,F=1e4,K=100,L=["https://neomini.app","https://miniapp.neo.org","https://testnet.miniapp.neo.org"];const B=new class{constructor(){this.dynamicOrigins=new Set,this.baseOrigins=new Set([...L])}getSelfOrigin(){if("undefined"==typeof window)return null;try{const e=new URL(window.location.href);if("null"===e.origin)return null;if("http:"===e.protocol||"https:"===e.protocol)return e.origin}catch{}return null}getReferrerOrigin(){if("undefined"==typeof document||!document.referrer)return null;try{return new URL(document.referrer).origin}catch{return null}}getAllowedOrigins(){const e=new Set(this.baseOrigins);this.dynamicOrigins.forEach(t=>e.add(t));const t=this.getReferrerOrigin();t&&this.baseOrigins.has(t)&&e.add(t);const a=this.getSelfOrigin();if(a&&e.add(a),"undefined"!=typeof window){const t=window.location.hostname;"localhost"!==t&&"127.0.0.1"!==t||e.add(window.location.origin)}return e}isValid(e){return!(!e||"null"===e)&&this.getAllowedOrigins().has(e)}getTargetOrigin(){var e;const t=this.getReferrerOrigin();if(t&&this.baseOrigins.has(t))return t;try{if("undefined"!=typeof window&&window.parent!==window&&(null==(e=window.location.ancestorOrigins)?void 0:e.length)>0){const e=window.location.ancestorOrigins[0];if(this.baseOrigins.has(e))return e}}catch{}const a=this.getSelfOrigin();if(a)return a;if("undefined"!=typeof window){const e=window.location.hostname;if("localhost"===e||"127.0.0.1"===e)return window.location.origin}throw new Error("Cannot determine safe target origin - no valid origin found")}getSafeTargetOrigin(){try{const e=this.getTargetOrigin();if(e&&"null"!==e)return e}catch{}if("undefined"!=typeof window&&window.parent!==window)return"*";throw new Error("Cannot determine safe target origin - origin is null or undefined")}addDynamicOrigin(e){e&&"null"!==e&&this.dynamicOrigins.add(e)}};let G=null;function q(e){if(!e||"object"!=typeof e)return!1;const t="function"==typeof e.invoke&&"function"==typeof e.getConfig,a="object"==typeof e.wallet||"object"==typeof e.payments;return t||a}function W(e=N){return new Promise((t,a)=>{if("undefined"==typeof window)return void a(new Error("SDK not available in SSR"));if(window.MiniAppSDK)return q(window.MiniAppSDK)?void t(window.MiniAppSDK):void a(new Error("SDK validation failed"));const n=setTimeout(()=>{if(window.removeEventListener("miniapp-sdk-ready",l),window.parent!==window){const e=function(){const e=B.getSafeTargetOrigin();let t=0;const a=(a,...n)=>new Promise((l,i)=>{const o=`sdk-${++t}-${Date.now()}-${Math.random().toString(36).slice(2,8)}`,s=setTimeout(()=>{window.removeEventListener("message",r),i(new Error("SDK invoke timeout"))},F),r=e=>{var t,a;B.isValid(e.origin)&&e.source===window.parent&&"miniapp_sdk_response"===(null==(t=e.data)?void 0:t.type)&&(null==(a=e.data)?void 0:a.id)===o&&(clearTimeout(s),window.removeEventListener("message",r),e.data.ok?l(e.data.result):i(new Error(e.data.error||"SDK call failed")))};window.addEventListener("message",r),window.parent.postMessage({type:"miniapp_sdk_request",id:o,method:a,params:n},e)});return{invoke:a,getConfig:()=>G||("undefined"!=typeof window&&window.__MINIAPP_CONFIG__?(G=window.__MINIAPP_CONFIG__,G):{appId:"",contractAddress:null,chainId:null,chainType:void 0,supportedChains:[],debug:!1}),getAddress:()=>a("getAddress"),wallet:{getAddress:()=>a("wallet.getAddress"),switchChain:e=>a("wallet.switchChain",e),invokeIntent:e=>a("wallet.invokeIntent",e),signMessage:e=>a("wallet.signMessage",e)},payments:{payGAS:(e,t,n)=>a("payments.payGAS",e,t,n),payGASAndInvoke:(e,t,n)=>a("payments.payGASAndInvoke",e,t,n)},governance:{vote:(e,t,n,l)=>a("governance.vote",e,t,n,l),voteAndInvoke:(e,t,n,l)=>a("governance.voteAndInvoke",e,t,n,l),getCandidates:()=>a("governance.getCandidates")},rng:{requestRandom:e=>a("rng.requestRandom",e)},datafeed:{getPrice:e=>a("datafeed.getPrice",e),getPrices:()=>a("datafeed.getPrices"),getNetworkStats:()=>a("datafeed.getNetworkStats"),getRecentTransactions:e=>a("datafeed.getRecentTransactions",e)},stats:{getMyUsage:(e,t)=>a("stats.getMyUsage",e,t)},events:{list:e=>a("events.list",e)},transactions:{list:e=>a("transactions.list",e)}}}();window.MiniAppSDK=e,e.invoke("getConfig").then(e=>{e&&"object"==typeof e&&(G=e)}).catch(()=>{}),t(e)}else a(new Error("SDK timeout"))},e),l=()=>{if(clearTimeout(n),window.removeEventListener("miniapp-sdk-ready",l),window.MiniAppSDK){if(!q(window.MiniAppSDK))return void a(new Error("SDK validation failed"));t(window.MiniAppSDK)}else a(new Error("SDK not found"))};window.addEventListener("miniapp-sdk-ready",l)})}function H(){return"undefined"==typeof window?null:window.MiniAppSDK??null}const U=new Set;let V={connected:!1,address:null,balance:null},J=null,Q=!1;async function X(e,a={}){var n;const l=e.startsWith("http")?e:`https://api.neo-service-layer.io${e}`;if("undefined"!=typeof uni&&"function"==typeof t)return new Promise((e,n)=>{const i=(e=>{if(e)return e instanceof Headers?Object.fromEntries(e.entries()):Array.isArray(e)?Object.fromEntries(e):e})(a.headers),o=String((null==i?void 0:i["Content-Type"])||(null==i?void 0:i["content-type"])||"");let s=a.body;if("string"==typeof s&&o.includes("application/json"))try{s=JSON.parse(s)}catch{}t({url:l,method:a.method||"GET",data:s,header:i,success:t=>{var a,l;if(t.statusCode>=200&&t.statusCode<300)e(t.data);else{const e=(null==(l=null==(a=t.data)?void 0:a.error)?void 0:l.message)||`Request failed: ${t.statusCode}`;n(new Error(e))}},fail:e=>{n(new Error(e.errMsg||"Network error"))}})});const i=await fetch(l,{credentials:"include",...a});if(!i.ok){const t=await i.json().catch(()=>({}));throw new Error((null==(n=t.error)?void 0:n.message)||`Request failed: ${e}`)}return i.json()}async function Y(e){return X(e,{method:"GET"})}function Z(){const t=e(null),l=e({}),i=e(null),o=e(null),s=e(!1),r=e(!1),c=e(null),d=e(!1),u=e(null),f=e=>{e.connected&&e.address?(t.value=e.address,s.value=!0):(t.value=null,s.value=!1),i.value=e.chainId??null,o.value=e.chainType??null,l.value=(e=>{if(!e)return{};if(e.balances&&Object.keys(e.balances).length>0)return{...e.balances};if(e.balance){const t={};return t[e.balance.nativeSymbol||("neo-n3"===e.chainType?"GAS":"NATIVE")]=e.balance.native||"0",(e.balance.governance||e.balance.governanceSymbol)&&(t[e.balance.governanceSymbol||("neo-n3"===e.chainType?"NEO":"GOV")]=e.balance.governance||"0"),t}return{}})(e)};let v=null;return a(()=>{var e;f(V),e=e=>{f(e)},U.add(e),e(V),v=()=>U.delete(e);const a=H();if(a&&!s.value){const e=s.value;a.wallet.getAddress().then(n=>{var l;if(!e&&!s.value){t.value=n,s.value=!0;const e=null==(l=a.getConfig)?void 0:l.call(a);i.value=(null==e?void 0:e.chainId)??null,o.value=(null==e?void 0:e.chainType)??null}}).catch(e=>{console.debug("[MiniApp SDK] Fallback wallet connection failed:",(null==e?void 0:e.message)||e)})}}),n(()=>{v&&v()}),{address:t,chainId:i,chainType:o,balances:l,isConnected:s,isLoading:r,error:c,showConnectionPrompt:d,connectionPromptMessage:u,connect:async()=>{var e;r.value=!0,c.value=null;try{const a=await W();t.value=await a.wallet.getAddress(),s.value=!0;const n=null==(e=a.getConfig)?void 0:e.call(a);i.value=(null==n?void 0:n.chainId)??null,o.value=(null==n?void 0:n.chainType)??null}catch(a){c.value=a}finally{r.value=!1}},invokeIntent:async e=>{var t;const a=H();if(!(null==(t=null==a?void 0:a.wallet)?void 0:t.invokeIntent))throw new Error("invokeIntent not available");return a.wallet.invokeIntent(e)},invokeContract:async e=>{var t;const a=await W(),n=null==(t=a.getConfig)?void 0:t.call(a),l=e.contractAddress||e.scriptHash||e.contractHash,i=e.method||e.operation;if(!l||!i)throw new Error("contract address and method required");return a.invoke("invokeFunction",{contract:l,method:i,args:e.args,chainId:null==n?void 0:n.chainId,chainType:null==n?void 0:n.chainType})},invokeRead:async e=>{var t;const a=await W(),n=null==(t=a.getConfig)?void 0:t.call(a),l=e.contractAddress||e.scriptHash||e.contractHash||(null==n?void 0:n.contractAddress),i=e.method||e.operation;if(!l)throw new Error("contract address not configured");if(!i)throw new Error("method required");return a.invoke("invokeRead",{contract:l,method:i,args:e.args||[],chainId:e.chainId||(null==n?void 0:n.chainId),chainType:e.chainType||(null==n?void 0:n.chainType)})},getContractAddress:async()=>{var e,t,a,n,l;const i=await W(),o=null==(e=i.getConfig)?void 0:e.call(i);if(null==o?void 0:o.contractAddress)return o.contractAddress;if((null==o?void 0:o.chainId)&&(null==(a=null==(t=null==o?void 0:o.chainContracts)?void 0:t[o.chainId])?void 0:a.address))return o.chainContracts[o.chainId].address||null;if(i.invoke)try{const e=await i.invoke("getConfig");if(null==e?void 0:e.contractAddress)return e.contractAddress;if((null==e?void 0:e.chainId)&&(null==(l=null==(n=null==e?void 0:e.chainContracts)?void 0:n[e.chainId])?void 0:l.address))return e.chainContracts[e.chainId].address||null}catch{}return null},getAddress:async()=>(await W()).wallet.getAddress(),switchChain:async e=>{const t=await W();if(!t.wallet.switchChain)throw new Error("switchChain not supported by SDK");await t.wallet.switchChain(e),i.value=e},getBalance:async e=>{var t;r.value=!0,c.value=null;try{const a=await W(),n=null==(t=a.getConfig)?void 0:t.call(a),o=(null==n?void 0:n.chainId)||i.value,s=o?`?chain_id=${encodeURIComponent(o)}`:"",r=await Y(`/wallet-balance${s}`),c=(null==r?void 0:r.balances)??{};return l.value=c,e?c[e]||"0":c}catch(a){throw c.value=a,a}finally{r.value=!1}},getTransactions:async(e=20)=>{var t;r.value=!0,c.value=null;try{const a=Number.isNaN(e)||e<1?20:Math.min(e,100),n=await W(),l=null==(t=n.getConfig)?void 0:t.call(n),o=(null==l?void 0:l.chainId)||i.value,s=new URLSearchParams({limit:String(a)});o&&s.set("chain_id",o);return(await Y(`/wallet-transactions?${s.toString()}`)).transactions}catch(a){throw c.value=a,a}finally{r.value=!1}},invoke:async(e,t)=>(await W()).invoke(e,t),requireConnection:(e={})=>{const{showPrompt:t=!0,errorMessage:a}=e;return!!s.value||(t&&(u.value=a||null,d.value=!0),!1)},closeConnectionPrompt:()=>{d.value=!1,u.value=null},clearError:()=>{c.value=null}}}function ee(){const{isLoading:t,error:a,execute:n}=function(t){const a=e(!1),n=e(null);return{isLoading:a,error:n,execute:async(...e)=>{a.value=!0,n.value=null;try{return await t(...e)}catch(l){throw n.value=l,l}finally{a.value=!1}}}}(async(e={})=>{var t;const a=await W();if(!(null==(t=a.events)?void 0:t.list))throw new Error("events.list not available");return await a.events.list(e)});return{isLoading:t,error:a,list:n}}"undefined"!=typeof window&&("undefined"!=typeof window&&(Q&&J||(J=e=>{if(e.source!==window.parent)return;if(!B.isValid(e.origin))return;const t=e.data;t&&"object"==typeof t&&("miniapp_config"!==t.type?"miniapp_wallet_state_change"===t.type&&(V={connected:Boolean(t.connected),address:t.address||null,chainId:t.chainId??null,chainType:t.chainType??null,balance:t.balance||t.multiChainBalance||null,balances:t.balances||void 0},U.forEach(e=>{try{e(V)}catch(t){console.error("[MiniApp SDK] Wallet state listener error:",t)}})):t.config&&"object"==typeof t.config&&(G=t.config))},window.addEventListener("message",J),Q=!0)),setTimeout(function(){if("undefined"==typeof window)return;const e=B.getSafeTargetOrigin();try{window.parent.postMessage({type:"miniapp_ready"},e)}catch{}},K)),e("en");const te=z(l({__name:"NeoButton",props:{variant:{default:"primary"},size:{default:"md"},block:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},emits:["click"],setup:e=>(e,t)=>{const a=u,n=s;return o(),i(n,{class:r(["neo-btn",`neo-btn--${e.variant}`,`neo-btn--${e.size}`,{"neo-btn--block":e.block,"neo-btn--loading":e.loading}]),disabled:e.disabled||e.loading,"aria-busy":e.loading,"aria-disabled":e.disabled||e.loading,onClick:t[0]||(t[0]=t=>e.$emit("click",t))},{default:c(()=>[e.loading?(o(),i(a,{key:0,class:"neo-btn__spinner"})):d(e.$slots,"default",{key:1},void 0,!0)]),_:3},8,["class","disabled","aria-busy","aria-disabled"])}}),[["__scopeId","data-v-8c6fa8f9"]]),ae=z(l({__name:"NeoCard",props:{title:{default:void 0},variant:{default:"default"},hoverable:{type:Boolean,default:!1},flat:{type:Boolean,default:!1}},emits:["click"],setup:e=>(e,t)=>{const a=p,n=u;return o(),i(n,{class:r(["neo-card",`neo-card--${e.variant}`,{"neo-card--hoverable":e.hoverable,"neo-card--flat":e.flat}]),onClick:t[0]||(t[0]=t=>e.hoverable&&e.$emit("click",t))},{default:c(()=>[e.title||e.$slots.header?(o(),i(n,{key:0,class:"neo-card__header"},{default:c(()=>[e.title?(o(),i(a,{key:0,class:"neo-card__title"},{default:c(()=>[g(h(e.title),1)]),_:1})):f("",!0),d(e.$slots,"header",{},void 0,!0)]),_:3})):f("",!0),v(n,{class:"neo-card__body"},{default:c(()=>[d(e.$slots,"default",{},void 0,!0)]),_:3}),e.$slots.footer?(o(),i(n,{key:1,class:"neo-card__footer"},{default:c(()=>[d(e.$slots,"footer",{},void 0,!0)]),_:3})):f("",!0)]),_:3},8,["class"])}}),[["__scopeId","data-v-c4b0addf"]]),ne=l({__name:"Fireworks",props:{active:{type:Boolean},duration:{}},setup(t){const l=t,s=e(null),r=e(300),d=e(600);let v=null,p=null,g=[];class h{constructor(e,t,a){this.x=e,this.y=t;const n=Math.random()*Math.PI*2,l=4*Math.random()+2;this.vx=Math.cos(n)*l,this.vy=Math.sin(n)*l,this.alpha=1,this.color=a,this.decay=.015*Math.random()+.015}update(){this.x+=this.vx,this.y+=this.vy,this.vy+=.05,this.alpha-=this.decay}draw(e){e.save(),e.globalAlpha=this.alpha,e.fillStyle=this.color,e.beginPath(),e.arc(this.x,this.y,2,0,2*Math.PI),e.fill(),e.restore()}}const _=["#FF4D4D","#FFDE59","#00E599","#A855F7","#FFFFFF"],k=(e,t)=>{const a=30+20*Math.random(),n=_[Math.floor(Math.random()*_.length)];for(let l=0;l<a;l++)g.push(new h(e,t,n))},x=()=>{if(v&&r.value){v.globalCompositeOperation="destination-out",v.fillStyle="rgba(0, 0, 0, 0.1)",v.fillRect(0,0,r.value,d.value),v.globalCompositeOperation="lighter";for(let e=g.length-1;e>=0;e--){const t=g[e];t.update(),t.draw(v),t.alpha<=0&&g.splice(e,1)}Math.random()<.05&&k(Math.random()*r.value,Math.random()*d.value*.6+.1*d.value),p=requestAnimationFrame(x)}},C=()=>{if(!s.value)return;const e=b();r.value=e.windowWidth,d.value=e.windowHeight,setTimeout(()=>{s.value&&(v=s.value.getContext("2d"),v&&(g=[],x(),k(.5*r.value,.3*d.value),l.duration&&setTimeout(()=>{S()},l.duration)))},100)},S=()=>{p&&(cancelAnimationFrame(p),p=null),v=null,g=[]};return y(()=>l.active,e=>{e?C():S()}),a(()=>{l.active&&C()}),n(()=>{S()}),(e,t)=>{const a=w,n=u;return o(),i(n,{class:"fireworks-container",style:{pointerEvents:"none"}},{default:c(()=>[e.active?(o(),i(a,{key:0,ref_key:"canvasRef",ref:s,class:"fireworks-canvas",style:m({width:r.value+"px",height:d.value+"px"})},null,8,["style"])):f("",!0)]),_:1})}}}),le=I,ie=z(ne,[["__scopeId","data-v-b6ed5fc5"]]),oe=z(l({__name:"ScratchModal",props:{isOpen:{type:Boolean},typeInfo:{},ticketId:{},onReveal:{type:Function}},emits:["close"],setup(t,{emit:a}){const n=t,l=a,s=e(!1),d=e(!1),y=e(!1),w=e(null),{t:m}=R(),b=async()=>{y.value||d.value||!n.ticketId||(s.value=!0,y.value=!0,d.value=!0,setTimeout(async()=>{try{const e=await n.onReveal(n.ticketId);w.value=e}catch(e){d.value=!1}finally{y.value=!1,s.value=!1}},800))},C=()=>{y.value||(l("close"),d.value=!1,w.value=null)};return(e,t)=>{const a=p,n=u;return e.isOpen?(o(),i(n,{key:0,class:"scratch-modal-overlay"},{default:c(()=>[v(n,{class:"scratch-modal-container"},{default:c(()=>[v(n,{class:"modal-header"},{default:c(()=>[v(a,{class:"modal-title"},{default:c(()=>[g(h(e.typeInfo.name),1)]),_:1}),v(n,{class:"close-btn",onClick:C},{default:c(()=>[g("Ã—")]),_:1})]),_:1}),v(n,{class:"scratch-card-area"},{default:c(()=>[v(n,{class:"result-layer"},{default:c(()=>[y.value?(o(),i(n,{key:0,class:"revealing-spinner"},{default:c(()=>[v(_(le),{name:"loader",size:"32",class:"animate-spin"}),v(a,{class:"mt-2 text-gold"},{default:c(()=>[g(h(_(m)("revealing")),1)]),_:1})]),_:1})):w.value?(o(),i(n,{key:1,class:"result-content"},{default:c(()=>[w.value.isWinner?(o(),k(x,{key:0},[v(a,{class:"win-icon"},{default:c(()=>[g("ðŸŽ‰")]),_:1}),v(a,{class:"win-amount"},{default:c(()=>{return[g(h((e=w.value.prize,T(e,2)))+" GAS",1)];var e}),_:1}),v(a,{class:"win-label"},{default:c(()=>[g(h(_(m)("youWon")),1)]),_:1})],64)):(o(),k(x,{key:1},[v(a,{class:"lose-icon"},{default:c(()=>[g("ðŸ˜¢")]),_:1}),v(a,{class:"lose-label"},{default:c(()=>[g(h(_(m)("betterLuck")),1)]),_:1})],64))]),_:1})):f("",!0)]),_:1}),d.value?f("",!0):(o(),i(n,{key:0,class:r(["scratch-cover",{scratching:s.value}]),onClick:b},{default:c(()=>[v(a,{class:"scratch-hint"},{default:c(()=>[g(h(_(m)("clickToScratch")),1)]),_:1}),v(a,{class:"scratch-price"},{default:c(()=>[g(h(e.typeInfo.priceDisplay),1)]),_:1})]),_:1},8,["class"]))]),_:1}),v(n,{class:"modal-footer"},{default:c(()=>[d.value?(o(),i(_(te),{key:1,variant:"secondary",block:"",size:"lg",onClick:C},{default:c(()=>[g(h(_(m)("close")),1)]),_:1})):(o(),i(_(te),{key:0,variant:"primary",block:"",size:"lg",loading:y.value,onClick:b},{default:c(()=>[g(h(_(m)("scratchNow")),1)]),_:1},8,["loading"]))]),_:1})]),_:1})]),_:1})):f("",!0)}}}),[["__scopeId","data-v-f1aa844e"]]),se=z(l({__name:"index",setup(t){const{t:n}=R(),{instantTypes:l,getLotteryType:s}=M(),{buyTicket:d,revealTicket:y,loadPlayerTickets:w,unscratchedTickets:b,playerTickets:I,isLoading:z}=E(),{address:N,switchChain:F,chainType:K,invokeRead:L,getContractAddress:B}=Z(),{list:G}=ee(),q=e("game"),W=e(null),H=e(null),U=e(!1),V=C(()=>[{id:"game",icon:"game",label:n("game")},{id:"winners",icon:"award",label:n("winners")},{id:"stats",icon:"chart",label:n("stats")},{id:"docs",icon:"book",label:n("docs")}]),J=e([]),Q=e(null),X=C(()=>{var e;return(null==(e=Q.value)?void 0:e.totalTickets)??"0"}),Y=C(()=>{var e;return(null==(e=Q.value)?void 0:e.prizePool)??"0"}),ne=C(()=>I.value.length),le=C(()=>I.value.reduce((e,t)=>e+(t.prize||0),0)),se=C(()=>H.value&&s(H.value.type)||l.value[0]),re=C(()=>[n("step1"),n("step2"),n("step3"),n("step4")]),ce=[],de=e=>T(e,2),ue=e=>1===e?"primary":2===e?"secondary":"primary",fe=async()=>{try{const e=await B();if(!e)return;const t=await L({contractAddress:e,operation:"getPlatformStats",args:[]}),a=O(t);if(a&&"object"==typeof a&&!Array.isArray(a)){const e=a;Q.value={totalTickets:String(e.totalTickets??e.TotalTickets??"0"),prizePool:String(e.prizePool??e.PrizePool??"0")}}}catch{}},ve=async()=>{try{const e=((await G({app_id:"miniapp-lottery",event_name:"RoundCompleted",limit:10})).events||[]).map(e=>{const t=Array.isArray(null==e?void 0:e.state)?e.state.map(D):[],a=Number(t[0]??0),n=String(t[1]??""),l=Number(t[2]??0);return!n||l<=0?null:{address:n,round:a,prize:l}}).filter(Boolean);J.value=e}catch(e){J.value=[]}},pe=async e=>{const t=await y(e);return t.isWinner&&(U.value=!0,setTimeout(()=>U.value=!1,3e3)),fe(),ve(),t},ge=()=>{H.value=null};return a(()=>{N.value&&w(),fe(),ve()}),(e,t)=>{const a=p,s=u,y=S("AppIcon");return o(),i(_(j),{tabs:V.value,"active-tab":q.value,onTabChange:t[2]||(t[2]=e=>q.value=e)},{default:c(()=>["evm"===_(K)?(o(),i(s,{key:0,class:"px-4 mb-4"},{default:c(()=>[v(_(ae),{variant:"danger"},{default:c(()=>[v(s,{class:"flex flex-col items-center gap-2 py-1"},{default:c(()=>[v(a,{class:"text-center font-bold text-red-400"},{default:c(()=>[g(h(_(n)("wrongChain")),1)]),_:1}),v(a,{class:"text-xs text-center opacity-80 text-white"},{default:c(()=>[g(h(_(n)("wrongChainMessage")),1)]),_:1}),v(_(te),{size:"sm",variant:"secondary",class:"mt-2",onClick:t[0]||(t[0]=()=>_(F)("neo-n3-mainnet"))},{default:c(()=>[g(h(_(n)("switchToNeo")),1)]),_:1})]),_:1})]),_:1})]),_:1})):f("",!0),"game"===q.value?(o(),i(s,{key:1,class:"tab-content scrollable"},{default:c(()=>[_(b).length>0?(o(),i(s,{key:0,class:"mb-6 px-1"},{default:c(()=>[v(_(ae),{variant:"accent",class:"border-gold"},{default:c(()=>[v(s,{class:"flex justify-between items-center"},{default:c(()=>[v(s,null,{default:c(()=>[v(a,{class:"font-bold text-lg mb-1"},{default:c(()=>[g(h(_(n)("ticketsWaiting")),1)]),_:1}),v(a,{class:"text-sm opacity-80"},{default:c(()=>[g(h(_(n)("ticketsWaitingDesc",{count:_(b).length})),1)]),_:1})]),_:1}),v(_(te),{size:"sm",variant:"primary",onClick:t[1]||(t[1]=e=>{return t=_(b)[0],void(H.value=t);var t})},{default:c(()=>[g(h(_(n)("playNow")),1)]),_:1})]),_:1})]),_:1})]),_:1})):f("",!0),v(s,{class:"grid-layout"},{default:c(()=>[(o(!0),k(x,null,A(_(l),e=>{return o(),i(_(ae),{key:e.key,variant:(t=e.price,t>=5?"erobo-neo":"erobo"),class:r(["game-card h-full relative overflow-hidden group",{"border-gold":e.price>=3}])},{default:c(()=>[v(s,{class:"game-header text-center mb-2 z-10 relative"},{default:c(()=>[v(a,{class:"game-title text-xl font-bold block mb-1",style:m({color:e.color,textShadow:`0 0 15px ${e.color}40`})},{default:c(()=>[g(h(e.name),1)]),_:2},1032,["style"]),v(a,{class:"game-price text-xs font-bold px-2 py-0.5 rounded-full bg-white/10",style:m({color:e.color})},{default:c(()=>[g(h(e.priceDisplay),1)]),_:2},1032,["style"])]),_:2},1024),v(s,{class:"game-visual mb-4 relative h-28 rounded-lg overflow-hidden flex items-center justify-center my-3 bg-black/20"},{default:c(()=>[v(s,{class:"absolute inset-0 opacity-20",style:m({background:`linear-gradient(135deg, ${e.color} 0%, transparent 100%)`})},null,8,["style"]),v(s,{class:"relative z-10 flex flex-col items-center transform transition-transform group-hover:scale-110"},{default:c(()=>[v(y,{name:"ticket",size:48,style:m({color:e.color}),class:"mb-1 drop-shadow-md"},null,8,["style"]),v(a,{class:"text-[10px] font-black uppercase tracking-widest opacity-60",style:m({color:e.color})},{default:c(()=>[g(h(e.key.replace("neo-","")),1)]),_:2},1032,["style"])]),_:2},1024),v(s,{class:"absolute -top-6 -right-6 w-24 h-24 rounded-full blur-2xl opacity-20",style:m({background:e.color})},null,8,["style"]),v(s,{class:"absolute -bottom-4 -left-4 w-16 h-16 rounded-full blur-xl opacity-10",style:m({background:e.color})},null,8,["style"])]),_:2},1024),v(s,{class:"game-stats mb-4 text-center z-10 relative"},{default:c(()=>[v(a,{class:"block text-[10px] uppercase opacity-50 mb-1 tracking-wider"},{default:c(()=>[g(h(_(n)("maxPrize")),1)]),_:1}),v(a,{class:"block text-2xl font-black text-white glow-text leading-none"},{default:c(()=>[g(h(e.maxJackpotDisplay),1)]),_:2},1024)]),_:2},1024),v(_(te),{class:"w-full z-10 relative",variant:ue(e.price),loading:_(z)&&W.value===e.type,disabled:_(z),onClick:t=>(async e=>{if(N.value){W.value=e.type;try{const t=await d(e.type),a=I.value.find(e=>e.id===t.ticketId);a&&(H.value=a)}catch{}finally{W.value=null}}})(e)},{default:c(()=>[g(h(_(n)("buyTicket")),1)]),_:2},1032,["variant","loading","disabled","onClick"]),v(a,{class:"text-center text-[10px] mt-3 opacity-40 block"},{default:c(()=>[g(h(e.description),1)]),_:2},1024)]),_:2},1032,["variant","class"]);var t}),128))]),_:1})]),_:1})):f("",!0),"winners"===q.value?(o(),i(s,{key:2,class:"tab-content scrollable"},{default:c(()=>[v(_(ae),{variant:"erobo"},{default:c(()=>[v(s,{class:"winners-list"},{default:c(()=>[0===J.value.length?(o(),i(a,{key:0,class:"empty-text text-center text-glass py-8"},{default:c(()=>[g(h(_(n)("noWinners")),1)]),_:1})):f("",!0),(o(!0),k(x,null,A(J.value,(e,t)=>(o(),i(s,{key:t,class:"winner-item glass-panel mb-2 p-3 flex justify-between items-center rounded-lg bg-white/5"},{default:c(()=>[v(s,{class:"flex items-center gap-3"},{default:c(()=>[v(s,{class:"winner-medal w-8 h-8 flex items-center justify-center rounded-full bg-black/20"},{default:c(()=>[v(a,null,{default:c(()=>[g(h(0===t?"ðŸ¥‡":1===t?"ðŸ¥ˆ":2===t?"ðŸ¥‰":"ðŸŽ–ï¸"),1)]),_:2},1024)]),_:2},1024),v(s,null,{default:c(()=>[v(a,{class:"block text-sm font-bold"},{default:c(()=>{return[g(h((t=e.address,P(t))),1)];var t}),_:2},1024),v(a,{class:"block text-xs opacity-60"},{default:c(()=>[g(h(_(n)("roundLabel",{round:e.round})),1)]),_:2},1024)]),_:2},1024)]),_:2},1024),v(a,{class:"text-green-400 font-bold"},{default:c(()=>[g(h(de(e.prize))+" GAS",1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})):f("",!0),"stats"===q.value?(o(),i(s,{key:3,class:"tab-content scrollable"},{default:c(()=>[v(s,{class:"stats-grid mb-6 grid grid-cols-2 gap-4"},{default:c(()=>[v(_(ae),{variant:"erobo-neo",class:"stat-box text-center"},{default:c(()=>[v(a,{class:"block text-2xl font-bold mb-1"},{default:c(()=>[g(h(X.value),1)]),_:1}),v(a,{class:"block text-xs opacity-60"},{default:c(()=>[g(h(_(n)("totalTickets")),1)]),_:1})]),_:1}),v(_(ae),{variant:"erobo",class:"stat-box text-center"},{default:c(()=>[v(a,{class:"block text-2xl font-bold mb-1 text-gold"},{default:c(()=>[g(h(de(Y.value)),1)]),_:1}),v(a,{class:"block text-xs opacity-60"},{default:c(()=>[g(h(_(n)("totalPaidOut")),1)]),_:1})]),_:1})]),_:1}),v(_(ae),{variant:"erobo",class:"p-4"},{default:c(()=>[v(a,{class:"section-title block mb-4 font-bold border-b border-white/10 pb-2"},{default:c(()=>[g(h(_(n)("yourStats")),1)]),_:1}),v(s,{class:"flex justify-between mb-2"},{default:c(()=>[v(a,{class:"opacity-80"},{default:c(()=>[g(h(_(n)("ticketsBought")),1)]),_:1}),v(a,{class:"font-bold"},{default:c(()=>[g(h(ne.value),1)]),_:1})]),_:1}),v(s,{class:"flex justify-between"},{default:c(()=>[v(a,{class:"opacity-80"},{default:c(()=>[g(h(_(n)("totalWinnings")),1)]),_:1}),v(a,{class:"font-bold text-green-400"},{default:c(()=>[g(h(de(le.value))+" GAS",1)]),_:1})]),_:1})]),_:1})]),_:1})):f("",!0),"docs"===q.value?(o(),i(s,{key:4,class:"tab-content scrollable"},{default:c(()=>[v(_($),{title:_(n)("title"),subtitle:_(n)("docSubtitle"),description:_(n)("docDescription"),steps:re.value,features:ce},null,8,["title","subtitle","description","steps"])]),_:1})):f("",!0),H.value?(o(),i(oe,{key:5,"is-open":!!H.value,"type-info":se.value,"ticket-id":H.value.id,"on-reveal":pe,onClose:ge},null,8,["is-open","type-info","ticket-id"])):f("",!0),v(ie,{active:U.value,duration:3e3},null,8,["active"])]),_:1},8,["tabs","active-tab"])}}}),[["__scopeId","data-v-463b64dc"]]);export{se as default};
