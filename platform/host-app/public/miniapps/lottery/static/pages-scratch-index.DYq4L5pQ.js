import{d as a,o as s,c as t,w as e,e as l,j as c,g as r,h as i,k as d,l as o,v as u,F as n,z as y,u as f,q as p,t as _,S as k,A as m}from"./index-COnl_ame.js";import{u as h,a as g,A as x}from"./useScratchCard.Csh_h9HV.js";import{_ as v}from"./useI18n.gVGLE7Zz.js";const C=v(a({__name:"index",setup(a){const{instantTypes:v,getLotteryType:C}=h(),{loadPlayerTickets:j,unscratchedTickets:T}=g(),I=T,b=a=>{const s=C(a);return(null==s?void 0:s.name)||"未知"};return s(async()=>{try{await j()}catch{}}),(a,s)=>{const h=d,g=r,C=k;return l(),t(x,{title:"刮刮乐",class:"theme-chinese-lucky"},{default:e(()=>[c(g,{class:"scratch-gallery"},{default:e(()=>[c(g,{class:"gallery-header"},{default:e(()=>[c(h,{class:"title"},{default:e(()=>[o("选择彩票")]),_:1}),c(h,{class:"subtitle"},{default:e(()=>[o("即刮即中，最高100倍")]),_:1})]),_:1}),c(g,{class:"lottery-grid"},{default:e(()=>[(l(!0),u(n,null,y(f(v),a=>(l(),t(g,{key:a.key,class:"lottery-card",style:p({"--card-color":a.color}),onClick:s=>(a=>{m({url:`/pages/scratch/play?type=${a.type}`})})(a)},{default:e(()=>[c(g,{class:"card-banner"},{default:e(()=>[c(h,{class:"lottery-name"},{default:e(()=>[o(_(a.name),1)]),_:2},1024),c(h,{class:"lottery-price"},{default:e(()=>[o(_(a.priceDisplay),1)]),_:2},1024)]),_:2},1024),c(g,{class:"card-info"},{default:e(()=>[c(h,{class:"max-prize"},{default:e(()=>[o("最高 "+_(a.maxJackpotDisplay),1)]),_:2},1024),c(h,{class:"description"},{default:e(()=>[o(_(a.description),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["style","onClick"]))),128))]),_:1}),f(I).length>0?(l(),t(g,{key:0,class:"my-tickets"},{default:e(()=>[c(h,{class:"section-title"},{default:e(()=>[o("待刮奖 ("+_(f(I).length)+")",1)]),_:1}),c(C,{"scroll-x":"",class:"tickets-scroll"},{default:e(()=>[(l(!0),u(n,null,y(f(I),a=>(l(),t(g,{key:a.id,class:"ticket-item",onClick:s=>{return t=a.id,void m({url:`/pages/scratch/play?ticketId=${t}`});var t}},{default:e(()=>[c(h,{class:"ticket-type"},{default:e(()=>[o(_(b(a.type)),1)]),_:2},1024),c(h,{class:"ticket-action"},{default:e(()=>[o("刮奖 →")]),_:1})]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})):i("",!0)]),_:1})]),_:1})}}}),[["__scopeId","data-v-fcf2f08c"]]);export{C as default};
