import{d as a,o as t,c as s,w as e,u as l,e as c,j as r,g as i,h as d,k as n,l as u,t as o,v as y,F as f,z as p,q as _,S as k,A as h}from"./index-BD0NlBWI.js";import{u as m,a as g,A as x}from"./useScratchCard.BeUSGPCz.js";import{u as T,_ as v}from"./useI18n.lseyrGOK.js";const C=v(a({__name:"index",setup(a){const{t:v}=T(),{instantTypes:C,getLotteryType:j}=m(),{loadPlayerTickets:S,unscratchedTickets:b}=g(),w=b,z=a=>{const t=j(a);return(null==t?void 0:t.name)||v("unknown")};return t(async()=>{try{await S()}catch{}}),(a,t)=>{const m=n,g=i,T=k;return c(),s(x,{title:l(v)("scratchTitle"),class:"theme-chinese-lucky"},{default:e(()=>[r(g,{class:"scratch-gallery"},{default:e(()=>[r(g,{class:"gallery-header"},{default:e(()=>[r(m,{class:"title"},{default:e(()=>[u(o(l(v)("scratchSelectTicket")),1)]),_:1}),r(m,{class:"subtitle"},{default:e(()=>[u(o(l(v)("scratchSubtitle")),1)]),_:1})]),_:1}),r(g,{class:"lottery-grid"},{default:e(()=>[(c(!0),y(f,null,p(l(C),a=>(c(),s(g,{key:a.key,class:"lottery-card",style:_({"--card-color":a.color}),onClick:t=>(a=>{h({url:`/pages/scratch/play?type=${a.type}`})})(a)},{default:e(()=>[r(g,{class:"card-banner"},{default:e(()=>[r(m,{class:"lottery-name"},{default:e(()=>[u(o(a.name),1)]),_:2},1024),r(m,{class:"lottery-price"},{default:e(()=>[u(o(a.priceDisplay),1)]),_:2},1024)]),_:2},1024),r(g,{class:"card-info"},{default:e(()=>[r(m,{class:"max-prize"},{default:e(()=>[u(o(l(v)("maxPrize"))+" "+o(a.maxJackpotDisplay),1)]),_:2},1024),r(m,{class:"description"},{default:e(()=>[u(o(a.description),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["style","onClick"]))),128))]),_:1}),l(w).length>0?(c(),s(g,{key:0,class:"my-tickets"},{default:e(()=>[r(m,{class:"section-title"},{default:e(()=>[u(o(l(v)("scratchMyTickets",{count:l(w).length})),1)]),_:1}),r(T,{"scroll-x":"",class:"tickets-scroll"},{default:e(()=>[(c(!0),y(f,null,p(l(w),a=>(c(),s(g,{key:a.id,class:"ticket-item",onClick:t=>{return s=a.id,void h({url:`/pages/scratch/play?ticketId=${s}`});var s}},{default:e(()=>[r(m,{class:"ticket-type"},{default:e(()=>[u(o(z(a.type)),1)]),_:2},1024),r(m,{class:"ticket-action"},{default:e(()=>[u(o(l(v)("scratchPlayAction")),1)]),_:1})]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})):d("",!0)]),_:1})]),_:1},8,["title"])}}}),[["__scopeId","data-v-3de27d2e"]]);export{C as default};
